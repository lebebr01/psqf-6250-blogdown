<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  
  
  <meta name="generator" content="Wowchemy 5.0.0-beta.1 for Hugo">
  

  

  
  

  
  
  
  
  
    
    
    
  
  

  

  
  
  
    
  
  <meta name="description" content="Working with Character Strings">

  
  <link rel="alternate" hreflang="en-us" href="https://psqf6250.brandonlebeau.org/rcode/strings/">

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

  
  
  
  <meta name="theme-color" content="#1565c0">
  

  
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous" media="print" onload="this.media='all'">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css" integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js" integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      
        
      

      
    
      

      
      

      
    
      

      
      

      
    

  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.3aad675291f323c3cd47ae187f0bf0d6.css">

  




  

  


  
  

  

  
  <link rel="manifest" href="/index.webmanifest">
  

  <link rel="icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="https://psqf6250.brandonlebeau.org/rcode/strings/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="PSQF 6250">
  <meta property="og:url" content="https://psqf6250.brandonlebeau.org/rcode/strings/">
  <meta property="og:title" content="Working with Character Strings | PSQF 6250">
  <meta property="og:description" content="Working with Character Strings"><meta property="og:image" content="https://psqf6250.brandonlebeau.org/media/blue-balloon.jpg">
  <meta property="twitter:image" content="https://psqf6250.brandonlebeau.org/media/blue-balloon.jpg"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2021-02-26T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2021-02-26T00:00:00&#43;00:00">
  

  



  


  


  





  <title>Working with Character Strings | PSQF 6250</title>

</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper  ">

  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.7de282f2047be3c570af3a58788341e7.js"></script>

  

<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">PSQF 6250</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">PSQF 6250</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#logistics"><span>Logistics</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/syllabus/"><span>Syllabus</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/schedule/"><span>Schedule</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/content/"><span>Content</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link  active" href="/rcode/"><span>R Code</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/assignments/"><span>Assignments</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#people"><span>People</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      
        
      

      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    





<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <button class="form-control sidebar-search js-search">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">Search...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      
      
      


  
    
    
    
    
      
    
    

    
      <ul class="nav docs-sidenav">
        <li class=""><a href="/rcode/">R Syntax</a></li>
    
      


  <li class=""><a href="/rcode/graphics/">Graphics</a></li>



  <li class=""><a href="/rcode/r-basics/">R Basics</a></li>



  <li class=""><a href="/rcode/ggplot2_extensions/">ggplot2 extensions</a></li>



  <li class=""><a href="/rcode/graphics-tips/">Graphics Tips</a></li>



  <li class=""><a href="/rcode/data_munging/">Data Manipulation</a></li>



  <li class=""><a href="/rcode/r_scripts/">R Scripts</a></li>



  <li class=""><a href="/rcode/eda/">Exploratory Data Analysis</a></li>



  <li class=""><a href="/rcode/projects/">R Projects -  RStudio</a></li>



  <li class=""><a href="/rcode/data_import/">Data Import</a></li>



  <li class=""><a href="/rcode/data_restructuring/">Data Restructuring</a></li>



  <li class=""><a href="/rcode/data_joins/">Joining Data</a></li>



  <li class=""><a href="/rcode/factors/">Factors</a></li>



  <li class="active"><a href="/rcode/strings/">Working with Character Strings</a></li>



  <li class=""><a href="/rcode/model-intro/">Model Introduction</a></li>



  <li class=""><a href="/rcode/model-part2/">Building Upon Linear Models</a></li>



  <li class=""><a href="/rcode/adv-model/">Advanced Modeling Topics</a></li>



  <li class=""><a href="/rcode/model-assumptions/">Model Assumptions</a></li>



  <li class=""><a href="/rcode/misc-model/">Miscellaneous Modeling Topics</a></li>

      
    

    
      </ul>
    

  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>

      

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article">

        <div class="docs-article-container">
          

          <h1>Working with Character Strings</h1>

          <div class="article-style">
            
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<link href="/rmarkdown-libs/str_view/str_view.css" rel="stylesheet" />
<script src="/rmarkdown-libs/str_view-binding/str_view.js"></script>

<div id="TOC">

</div>

<p>An often useful task is to manipulate character string variables. This usually comes in the form of regular expressions. Regular expressions come as a part of the base R, however, the regular expressions found in the <code>stringr</code> package are a bit more consistent in their naming structure, so we will use them (they are simply wrappers around the base R regular expressions).</p>
<p>The following packages will be used in this section of notes.</p>
<pre class="r"><code>library(tidyverse)
# install.packages(&quot;stringr&quot;)
library(stringr)</code></pre>
<div id="basic-string-tasks" class="section level2">
<h2>Basic String Tasks</h2>
<p>This section will discuss three basic string functions that help with simple string manipulations. These functions include: <code>str_length</code>, <code>str_c</code>, and <code>str_sub</code>.</p>
<div id="str_length" class="section level3">
<h3><code>str_length</code></h3>
<p>The <code>str_length</code> function can be used to calculate the length of the string. For example:</p>
<pre class="r"><code>string &lt;- c(&#39;Iowa City&#39;, &#39;Cedar Rapids&#39;, &#39;Des Moines&#39;, &#39;IA&#39;)
str_length(string)</code></pre>
<pre><code>## [1]  9 12 10  2</code></pre>
</div>
<div id="str_c" class="section level3">
<h3><code>str_c</code></h3>
<p>The <code>str_c</code> function allows you to combine strings together in different ways. One way to think about this is to think about pasting strings together. For example:</p>
<pre class="r"><code>str_c(&#39;Iowa City&#39;, &#39;Cedar Rapids&#39;, &#39;Des Moines&#39;, &#39;IA&#39;)</code></pre>
<pre><code>## [1] &quot;Iowa CityCedar RapidsDes MoinesIA&quot;</code></pre>
<p>Perhaps more useful:</p>
<pre class="r"><code>str_c(c(&#39;Iowa City&#39;, &#39;Cedar Rapids&#39;, &#39;Des Moines&#39;), &#39;IA&#39;)</code></pre>
<pre><code>## [1] &quot;Iowa CityIA&quot;    &quot;Cedar RapidsIA&quot; &quot;Des MoinesIA&quot;</code></pre>
<p>More useful yet:</p>
<pre class="r"><code>str_c(c(&#39;Iowa City&#39;, &#39;Cedar Rapids&#39;, &#39;Des Moines&#39;), &#39;IA&#39;, sep = &#39;, &#39;)</code></pre>
<pre><code>## [1] &quot;Iowa City, IA&quot;    &quot;Cedar Rapids, IA&quot; &quot;Des Moines, IA&quot;</code></pre>
<p>You can also collapse multiple vectors of strings into a single string using the collapse argument.</p>
<pre class="r"><code>str_c(c(&#39;Iowa City&#39;, &#39;Cedar Rapids&#39;, &#39;Des Moines&#39;), collapse = &#39;, &#39;)</code></pre>
<pre><code>## [1] &quot;Iowa City, Cedar Rapids, Des Moines&quot;</code></pre>
</div>
<div id="str_sub" class="section level3">
<h3><code>str_sub</code></h3>
<p>The <code>str_sub</code> function is useful for subsetting strings by location. For example:</p>
<pre class="r"><code>str_sub(c(&#39;Iowa City&#39;, &#39;Cedar Rapids&#39;, &#39;Des Moines&#39;), 1, 4)</code></pre>
<pre><code>## [1] &quot;Iowa&quot; &quot;Ceda&quot; &quot;Des &quot;</code></pre>
<p>You can use negative numbers to start from the end:</p>
<pre class="r"><code>str_sub(c(&#39;Iowa City&#39;, &#39;Cedar Rapids&#39;, &#39;Des Moines&#39;), -6, -1)</code></pre>
<pre><code>## [1] &quot;a City&quot; &quot;Rapids&quot; &quot;Moines&quot;</code></pre>
</div>
</div>
<div id="regular-expressions" class="section level2">
<h2>Regular Expressions</h2>
<p>Regular expressions are complicated and take awhile to master. This introduction is just going to cover the surface to get you started. To see the basics of regular expressions, we are going to use the <code>str_view</code> function to view text matches.</p>
<p>The most basic regular expression is simply to match literal text. For example:</p>
<pre class="r"><code>x &lt;- c(&#39;Iowa City&#39;, &#39;Cedar Rapids&#39;, &#39;Des Moines&#39;)
str_view(x, &#39;City&#39;)</code></pre>
<div id="htmlwidget-1" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"html":"<ul>\n  <li>Iowa <span class='match'>City<\/span><\/li>\n  <li>Cedar Rapids<\/li>\n  <li>Des Moines<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>Note that generally, regular expressions are case sensitive.</p>
<pre class="r"><code>str_view(x, &#39;city&#39;)</code></pre>
<div id="htmlwidget-2" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"html":"<ul>\n  <li>Iowa City<\/li>\n  <li>Cedar Rapids<\/li>\n  <li>Des Moines<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>If you want the expression to ignore case, use the <code>ignore_case</code> argument in tandem with <code>regex</code>.</p>
<pre class="r"><code>str_view(x, regex(&#39;city&#39;, ignore_case = TRUE))</code></pre>
<div id="htmlwidget-3" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"html":"<ul>\n  <li>Iowa <span class='match'>City<\/span><\/li>\n  <li>Cedar Rapids<\/li>\n  <li>Des Moines<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>Two other useful regular expression tools are anchoring and repeating patterns. First, anchor refers to whether the match should occur anywhere (the default), match at the beginning of the string, or match at the end of the string. To match at the start of the string:</p>
<pre class="r"><code>x &lt;- c(&#39;Iowa City&#39;, &#39;Des Moines, Iowa&#39;)
str_view(x, &#39;^Iowa&#39;)</code></pre>
<div id="htmlwidget-4" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"html":"<ul>\n  <li><span class='match'>Iowa<\/span> City<\/li>\n  <li>Des Moines, Iowa<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>Or to match at the end of a string:</p>
<pre class="r"><code>str_view(x, &#39;Iowa$&#39;)</code></pre>
<div id="htmlwidget-5" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-5">{"x":{"html":"<ul>\n  <li>Iowa City<\/li>\n  <li>Des Moines, <span class='match'>Iowa<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>There are three operators that are useful for matching repetitious strings.</p>
<ul>
<li><code>?</code> 0 or 1 match</li>
<li><code>+</code> 1 or more</li>
<li><code>*</code> 0 or more</li>
</ul>
<p>Examples of these are given below:</p>
<pre class="r"><code>sounds &lt;- c(&#39;baaaa&#39;, &#39;ssss&#39;, &#39;moo&#39;, &#39;buzz&#39;, &#39;purr&#39;)
str_view(sounds, &#39;a?&#39;)</code></pre>
<div id="htmlwidget-6" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-6">{"x":{"html":"<ul>\n  <li><span class='match'><\/span>baaaa<\/li>\n  <li><span class='match'><\/span>ssss<\/li>\n  <li><span class='match'><\/span>moo<\/li>\n  <li><span class='match'><\/span>buzz<\/li>\n  <li><span class='match'><\/span>purr<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>str_view(sounds, &#39;a+&#39;)</code></pre>
<div id="htmlwidget-7" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-7">{"x":{"html":"<ul>\n  <li>b<span class='match'>aaaa<\/span><\/li>\n  <li>ssss<\/li>\n  <li>moo<\/li>\n  <li>buzz<\/li>\n  <li>purr<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>str_view(sounds, &#39;rrr*&#39;)</code></pre>
<div id="htmlwidget-8" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-8">{"x":{"html":"<ul>\n  <li>baaaa<\/li>\n  <li>ssss<\/li>\n  <li>moo<\/li>\n  <li>buzz<\/li>\n  <li>pu<span class='match'>rr<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>str_view(sounds, &#39;rrr+&#39;)</code></pre>
<div id="htmlwidget-9" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-9">{"x":{"html":"<ul>\n  <li>baaaa<\/li>\n  <li>ssss<\/li>\n  <li>moo<\/li>\n  <li>buzz<\/li>\n  <li>purr<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>There are additional repetition operators using braces, <code>{}</code> that can be useful.</p>
<ul>
<li><code>{n}</code> match exactly n</li>
<li><code>{n, }</code> match n or more</li>
<li><code>{, m}</code> match at most m</li>
<li><code>{n, m}</code> match between n and m</li>
</ul>
<div id="exercises" class="section level4">
<h4>Exercises</h4>
<ol style="list-style-type: decimal">
<li>Using the <code>str_view</code> function and the sounds object created above, rewrite this regular expression using braces: <code>str_view(sounds, 'rrr*')</code>.</li>
<li>Explore the <code>str_trim</code> function. What does this do? Test this function on the following string: <code>string &lt;- "\n\nString with trailing and leading white space\n\n"</code></li>
</ol>
</div>
</div>
<div id="regular-expression-functions" class="section level2">
<h2>Regular Expression Functions</h2>
<p>So far we have just visualized the regular expression match. This is useful for testing, however, commonly we would like to create a new variable based on information processed from text strings. The tools we will explore are: <code>str_detect</code>, <code>str_count</code>, <code>str_extract</code>, <code>str_replace</code>, and <code>str_split</code>.</p>
<p>Suppose we have the following string:</p>
<pre class="r"><code>x &lt;- c(&#39;Iowa City, Iowa&#39;, &#39;Cedar Rapids, IA&#39;, &#39;Des Moines, Iowa&#39;, &#39;Waterloo, IA&#39;, &#39;Rochester, Minnesota&#39;)
x</code></pre>
<pre><code>## [1] &quot;Iowa City, Iowa&quot;      &quot;Cedar Rapids, IA&quot;     &quot;Des Moines, Iowa&quot;    
## [4] &quot;Waterloo, IA&quot;         &quot;Rochester, Minnesota&quot;</code></pre>
<p>Supose we were interested in knowing which cities are from Iowa in this text string, the <code>str_detect</code> function is useful for this.</p>
<pre class="r"><code>str_detect(x, &#39;Iowa$&#39;)</code></pre>
<pre><code>## [1]  TRUE FALSE  TRUE FALSE FALSE</code></pre>
<p>This didn’t return all the correct matches due to formatting differences. There are two options to fix this. First, we could search for two strings:</p>
<pre class="r"><code>str_detect(x, &#39;Iowa$|IA$&#39;)</code></pre>
<pre><code>## [1]  TRUE  TRUE  TRUE  TRUE FALSE</code></pre>
<p>We could then calculate the proportion of cities in the string directly:</p>
<pre class="r"><code>mean(str_detect(x, &#39;Iowa$|IA$&#39;))</code></pre>
<pre><code>## [1] 0.8</code></pre>
<p>Another useful related function to <code>str_detect</code> is <code>str_count</code> which instead of TRUE/FALSE, will tell you how many matches are in each string.</p>
<pre class="r"><code>str_count(x, &#39;Iowa$|IA$&#39;)</code></pre>
<pre><code>## [1] 1 1 1 1 0</code></pre>
<p>There are instances where you will need to be careful with this function as it will calculate number of matches.</p>
<pre class="r"><code>str_count(x, &#39;Iowa|IA&#39;)</code></pre>
<pre><code>## [1] 2 1 1 1 0</code></pre>
<div id="replace-text" class="section level3">
<h3>Replace Text</h3>
<p>Above we solved the different formatting differences by searching for two text strings. This can be useful for a few different strings, however, for more complex searches, it can be useful to standardize the text to be the same across variables. This is the job for <code>str_replace</code>.</p>
<pre class="r"><code>str_replace(x, &#39;Iowa$&#39;, &#39;IA&#39;)</code></pre>
<pre><code>## [1] &quot;Iowa City, IA&quot;        &quot;Cedar Rapids, IA&quot;     &quot;Des Moines, IA&quot;      
## [4] &quot;Waterloo, IA&quot;         &quot;Rochester, Minnesota&quot;</code></pre>
<p>This function takes two arguments, first the text to be matched and second the text the match should be changed to. If there are no matches the text is not changed. You need to be careful with this function too:</p>
<pre class="r"><code>str_replace(x, &#39;Iowa&#39;, &#39;IA&#39;)</code></pre>
<pre><code>## [1] &quot;IA City, Iowa&quot;        &quot;Cedar Rapids, IA&quot;     &quot;Des Moines, IA&quot;      
## [4] &quot;Waterloo, IA&quot;         &quot;Rochester, Minnesota&quot;</code></pre>
<p>By default, the function will only replace the first match. If you’d like to replace all matches you need to use the <code>str_replace_all</code> function.</p>
<pre class="r"><code>str_replace_all(x, &#39;Iowa&#39;, &#39;IA&#39;)</code></pre>
<pre><code>## [1] &quot;IA City, IA&quot;          &quot;Cedar Rapids, IA&quot;     &quot;Des Moines, IA&quot;      
## [4] &quot;Waterloo, IA&quot;         &quot;Rochester, Minnesota&quot;</code></pre>
<p>This operation is not useful here, but there are many places that this is a useful operation.</p>
</div>
<div id="extract-text" class="section level3">
<h3>Extract Text</h3>
<p>If you wished to extract text instead of replacing text, <code>str_extract</code> is useful for this. For example, if we wished to extract the Minnesota:</p>
<pre class="r"><code>str_extract(x, &#39;Minnesota&#39;)</code></pre>
<pre><code>## [1] NA          NA          NA          NA          &quot;Minnesota&quot;</code></pre>
<p>You can build more complicated expressions using the <code>str_extract</code> function. For example, suppose we wished to extract only the city name.</p>
<pre class="r"><code>str_extract(x, &#39;^.*,&#39;)</code></pre>
<pre><code>## [1] &quot;Iowa City,&quot;    &quot;Cedar Rapids,&quot; &quot;Des Moines,&quot;   &quot;Waterloo,&quot;    
## [5] &quot;Rochester,&quot;</code></pre>
<p>This included the comma as well which may not be desired, we will show another way to achieve the same operation with the <code>str_split</code> function. One quick note about the above operation, I used a <code>.</code>. The <code>.</code> means to match any character (except a new line character). To match a literal <code>.</code>, you would need to escape this with <code>\\.</code>.</p>
</div>
<div id="split-on-delimiter" class="section level3">
<h3>Split on Delimiter</h3>
<p>If you’d like to split a string based on a common delimiter, using the <code>str_split</code> function is useful. For example, if we wished to split the city from the state:</p>
<pre class="r"><code>str_split(x, &#39;, &#39;)</code></pre>
<pre><code>## [[1]]
## [1] &quot;Iowa City&quot; &quot;Iowa&quot;     
## 
## [[2]]
## [1] &quot;Cedar Rapids&quot; &quot;IA&quot;          
## 
## [[3]]
## [1] &quot;Des Moines&quot; &quot;Iowa&quot;      
## 
## [[4]]
## [1] &quot;Waterloo&quot; &quot;IA&quot;      
## 
## [[5]]
## [1] &quot;Rochester&quot; &quot;Minnesota&quot;</code></pre>
<p>The <code>str_split</code> function will remove the delimiter that it used to split on. The function also allows you to simplify the structure:</p>
<pre class="r"><code>str_split(x, &#39;, &#39;, simplify = TRUE)</code></pre>
<pre><code>##      [,1]           [,2]       
## [1,] &quot;Iowa City&quot;    &quot;Iowa&quot;     
## [2,] &quot;Cedar Rapids&quot; &quot;IA&quot;       
## [3,] &quot;Des Moines&quot;   &quot;Iowa&quot;     
## [4,] &quot;Waterloo&quot;     &quot;IA&quot;       
## [5,] &quot;Rochester&quot;    &quot;Minnesota&quot;</code></pre>
<p>Now a matrix is returned.</p>
</div>
</div>
<div id="real-world-example" class="section level2">
<h2>Real World Example</h2>
<p>To give a sense of some real world applications of regular expressions, I’m going to use the “ufo.csv” data we used once previously.</p>
<pre class="r"><code>ufo &lt;- read_csv(&#39;https://raw.githubusercontent.com/lebebr01/psqf-6250-blogdown/main/data/ufo.csv&#39;)</code></pre>
<pre><code>## Rows: 8031 Columns: 7
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (7): Date / Time, City, State, Shape, Duration, Summary, Posted
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code>ufo</code></pre>
<pre><code>## # A tibble: 8,031 × 7
##    `Date / Time`  City                     State Shape   Duration Summary Posted
##    &lt;chr&gt;          &lt;chr&gt;                    &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt; 
##  1 12/12/14 17:30 North Wales              PA    Triang… 5 minut… &quot;I hea… &lt;NA&gt;  
##  2 12/12/14 12:40 Cartersville             GA    Unknown 3.6 min… &quot;Looki… 12/12…
##  3 12/12/14 06:30 Isle of Man (UK/England) &lt;NA&gt;  Light   2 secon… &quot;Over … 12/12…
##  4 12/12/14 01:00 Miamisburg               OH    Changi… &lt;NA&gt;     &quot;Brigh… 12/12…
##  5 12/12/14 00:00 Spotsylvania             VA    Unknown 1 minute &quot;White… 12/12…
##  6 12/11/14 23:25 Kenner                   LA    Chevron ~1 minu… &quot;Stran… 12/12…
##  7 12/11/14 23:15 Eugene                   OR    Disk    2 minut… &quot;Dual … 12/12…
##  8 12/11/14 20:04 Phoenix                  AZ    Chevron 3 minut… &quot;4 Ora… 12/12…
##  9 12/11/14 20:00 Franklin                 NC    Disk    5 minut… &quot;There… 12/12…
## 10 12/11/14 18:30 Longview                 WA    Cylind… 10 seco… &quot;Two c… 12/12…
## # … with 8,021 more rows</code></pre>
<p>A few things may be of interest here. First, we may wish to add columns that split the Duration variable into a time and metric variables.</p>
<pre class="r"><code>ufo_duration &lt;- str_split(ufo$Duration, &#39; &#39;, simplify = TRUE)
cbind(ufo, ufo_duration) %&gt;%
  head(n = 20)</code></pre>
<pre><code>##       Date / Time                     City State     Shape      Duration
## 1  12/12/14 17:30              North Wales    PA  Triangle     5 minutes
## 2  12/12/14 12:40             Cartersville    GA   Unknown   3.6 minutes
## 3  12/12/14 06:30 Isle of Man (UK/England)  &lt;NA&gt;     Light     2 seconds
## 4  12/12/14 01:00               Miamisburg    OH  Changing          &lt;NA&gt;
## 5  12/12/14 00:00             Spotsylvania    VA   Unknown      1 minute
## 6  12/11/14 23:25                   Kenner    LA   Chevron     ~1 minute
## 7  12/11/14 23:15                   Eugene    OR      Disk     2 minutes
## 8  12/11/14 20:04                  Phoenix    AZ   Chevron     3 minutes
## 9  12/11/14 20:00                 Franklin    NC      Disk     5 minutes
## 10 12/11/14 18:30                 Longview    WA  Cylinder    10 seconds
## 11 12/11/14 17:30                 Markesan    WI     Light    10 minutes
## 12 12/11/14 16:40               Birmingham    AL  Fireball    20 minutes
## 13 12/11/14 06:00             West Milford    NJ  Fireball    10 seconds
## 14 12/11/14 00:00             Williamsburg    VA       Egg    10 minutes
## 15 12/10/14 20:30                 Chandler    AZ    Sphere        1 hour
## 16 12/10/14 20:00                 Maricopa    AZ Formation 20-25 minutes
## 17 12/10/14 19:30          Litchfield Park    AZ Formation    20 minutes
## 18 12/10/14 19:15                  Flagler    CO     Light      1 minute
## 19 12/10/14 19:00                   Garner    NC     Light    12 minutes
## 20 12/10/14 17:30                  Ruidoso    NM  Fireball    20 minutes
##                                                                                                                                    Summary
## 1  I heard an extremely loud noise outside, and went onto my balcony to investigate. I saw an very very large green light headed my direct
## 2          Looking up towards the west I noticed an object that flashed from white to green to red.  ((NUFORC Note:  Possible star??  PD))
## 3                                                                       Over the Isle of Man, very fast moving light, diving then zooming.
## 4            Bright color changing and, shape shifting object seen over Miamisburg, OH.  ((NUFORC Note:  Possible &quot;twinkling&quot; star??  PD))
## 5                                                                White then orange orb gained a &quot;tail of light&quot; when chased off by a heli.
## 6                                                                            Strange, chevron-shaped, ufo moving east to west over Kenner.
## 7                                                                                          Dual orange orbs in Eugene, Oregon. 12/11/2014.
## 8                                                                                       4 Orange Lights Spotted South Of The Phoenix Area.
## 9             There were 5 or 6 lights in a row blinking, whites and reds.  It was just sitting there over top the ridge of the mountains.
## 10                                                                              Two cylinder shaped objects that flew parallel in the sky.
## 11                                                      Dark sky, large lights, nothing like an airplane, turning on and off in a pattern.
## 12                                                                                  UFOs moving fast like fireballs or individual rockets.
## 13                                                                                                               Strange light across sky.
## 14                                                                                       Bright light object with three clusters of light.
## 15                                  1-7 bright orange spheres seen for over an hour in Chandler, Arizona, near the Gila River Reservation.
## 16                                                                                                     Bright orange lights over Maricopa.
## 17                                                                                 Multiple lights in the sky in Litchfield Park, Arizona.
## 18                                                                                                                Eastern Colorado lights.
## 19                                                   Lights in distance quickly moving in every direction then shooting up at great speed.
## 20     1 lg. bright orange orb that split into 3 orbs.  Fighter jets chased them &amp; they disappeared.  Mil. jets, helis, and a b2 followed.
##      Posted     1       2 3 4 5 6 7
## 1      &lt;NA&gt;     5 minutes          
## 2  12/12/14   3.6 minutes          
## 3  12/12/14     2 seconds          
## 4  12/12/14  &lt;NA&gt;                  
## 5  12/12/14     1  minute          
## 6  12/12/14    ~1  minute          
## 7  12/12/14     2 minutes          
## 8  12/12/14     3 minutes          
## 9  12/12/14     5 minutes          
## 10 12/12/14    10 seconds          
## 11 12/12/14    10 minutes          
## 12 12/12/14    20 minutes          
## 13 12/12/14    10 seconds          
## 14 12/12/14    10 minutes          
## 15 12/12/14     1    hour          
## 16 12/12/14 20-25 minutes          
## 17 12/12/14    20 minutes          
## 18 12/12/14     1  minute          
## 19 12/12/14    12 minutes          
## 20 12/12/14    20 minutes</code></pre>
<p>It could also be useful to count the number of times colors were mentioned in the summary text.</p>
<pre class="r"><code>ufo %&gt;%
  mutate(
    num_colors = str_count(Summary, &#39;white|green|red|blue|orange|purple|yellow&#39;)
  )</code></pre>
<pre><code>## # A tibble: 8,031 × 8
##    `Date / Time`  City            State Shape Duration Summary Posted num_colors
##    &lt;chr&gt;          &lt;chr&gt;           &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;       &lt;int&gt;
##  1 12/12/14 17:30 North Wales     PA    Tria… 5 minut… &quot;I hea… &lt;NA&gt;            1
##  2 12/12/14 12:40 Cartersville    GA    Unkn… 3.6 min… &quot;Looki… 12/12…          3
##  3 12/12/14 06:30 Isle of Man (U… &lt;NA&gt;  Light 2 secon… &quot;Over … 12/12…          0
##  4 12/12/14 01:00 Miamisburg      OH    Chan… &lt;NA&gt;     &quot;Brigh… 12/12…          0
##  5 12/12/14 00:00 Spotsylvania    VA    Unkn… 1 minute &quot;White… 12/12…          1
##  6 12/11/14 23:25 Kenner          LA    Chev… ~1 minu… &quot;Stran… 12/12…          0
##  7 12/11/14 23:15 Eugene          OR    Disk  2 minut… &quot;Dual … 12/12…          1
##  8 12/11/14 20:04 Phoenix         AZ    Chev… 3 minut… &quot;4 Ora… 12/12…          0
##  9 12/11/14 20:00 Franklin        NC    Disk  5 minut… &quot;There… 12/12…          2
## 10 12/11/14 18:30 Longview        WA    Cyli… 10 seco… &quot;Two c… 12/12…          0
## # … with 8,021 more rows</code></pre>
</div>
<div id="an-easier-way-to-manipulate-dates" class="section level2">
<h2>An Easier way to manipulate dates</h2>
<p>The lubridate package in R makes working with date vectors much simpler.</p>
<pre class="r"><code># install.packages(&quot;lubridate&quot;)
library(lubridate)</code></pre>
<p>First, we need to convert the Date/Time column in the ufo data to an actual date column. Note above that this column is actually a character vector. Fortunately, lubridate has some functions for common ways that dates and times are stored. The biggest hurdle to know which function to use, is to identify the pattern in the date/time column in our data. Below I print the first 6 rows of the date/time vector of data. Notice that the format is month/day/year then hour/minutes. We can use this information to parse the column to a date/time vector using lubridate’s built in date conversion tools.</p>
<pre class="r"><code>head(ufo$`Date / Time`)</code></pre>
<pre><code>## [1] &quot;12/12/14 17:30&quot; &quot;12/12/14 12:40&quot; &quot;12/12/14 06:30&quot; &quot;12/12/14 01:00&quot;
## [5] &quot;12/12/14 00:00&quot; &quot;12/11/14 23:25&quot;</code></pre>
<p>The primary way to determine which conversion tool to use, is to understand lubridate’s shorthand notation. Below is a list showing these elements.</p>
<p>For date components, these are the shorthand notation.
* y = year
* m = month
* d = day</p>
<p>For time components, these are the shorthand notation.
* h = hours
* m = minutes
* s = seconds</p>
<p>Note that “m” stands for both minute and month, but is used in context with either the date or time conversion. The lubridate package will handle this for us. Based on this table and the pattern depicted above, we can convert this with the following pattern and function: <code>mdy_hm()</code>. This can be read in English as, month, day, year followed by hour and minute.</p>
<pre class="r"><code>ufo &lt;- ufo %&gt;%
  mutate(converted_date = mdy_hm(`Date / Time`))</code></pre>
<pre><code>## Warning: 56 failed to parse.</code></pre>
<pre class="r"><code>ufo</code></pre>
<pre><code>## # A tibble: 8,031 × 8
##    `Date / Time`  City   State Shape Duration Summary Posted converted_date     
##    &lt;chr&gt;          &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;  &lt;dttm&gt;             
##  1 12/12/14 17:30 North… PA    Tria… 5 minut… &quot;I hea… &lt;NA&gt;   2014-12-12 17:30:00
##  2 12/12/14 12:40 Carte… GA    Unkn… 3.6 min… &quot;Looki… 12/12… 2014-12-12 12:40:00
##  3 12/12/14 06:30 Isle … &lt;NA&gt;  Light 2 secon… &quot;Over … 12/12… 2014-12-12 06:30:00
##  4 12/12/14 01:00 Miami… OH    Chan… &lt;NA&gt;     &quot;Brigh… 12/12… 2014-12-12 01:00:00
##  5 12/12/14 00:00 Spots… VA    Unkn… 1 minute &quot;White… 12/12… 2014-12-12 00:00:00
##  6 12/11/14 23:25 Kenner LA    Chev… ~1 minu… &quot;Stran… 12/12… 2014-12-11 23:25:00
##  7 12/11/14 23:15 Eugene OR    Disk  2 minut… &quot;Dual … 12/12… 2014-12-11 23:15:00
##  8 12/11/14 20:04 Phoen… AZ    Chev… 3 minut… &quot;4 Ora… 12/12… 2014-12-11 20:04:00
##  9 12/11/14 20:00 Frank… NC    Disk  5 minut… &quot;There… 12/12… 2014-12-11 20:00:00
## 10 12/11/14 18:30 Longv… WA    Cyli… 10 seco… &quot;Two c… 12/12… 2014-12-11 18:30:00
## # … with 8,021 more rows</code></pre>
<p>The resulting output has the converted_date added to the original table. Note, we did get some warning messages, these basically say that there were some dates that could not be converted properly, these are likely due to missing data or different patterns in the conversion. We would want to inspect these in more detail to understand why those 56 date/times failed to parse.</p>
<p>Once the dates are now in a date/time format, we can now use additional functions from lubridate to pull out specific elements of the date or time. For example, we could use <code>year()</code>, <code>month()</code>, <code>day()</code> to extract the year, month or day from each element. There are also similar functions, <code>hour()</code>, <code>minute()</code>, and <code>second()</code>. These are shown in use below.</p>
<pre class="r"><code>ufo %&gt;%
  mutate(
    year = year(converted_date),
    month = month(converted_date),
    day = day(converted_date),
    hour = hour(converted_date),
    minute = minute(converted_date),
    month_label_abbr = month(converted_date, label = TRUE),
    wday_abbr = wday(converted_date, label = TRUE),
    month_label = month(converted_date, label = TRUE, abbr = FALSE),
    wday = wday(converted_date, label = TRUE, abbr = FALSE)
  )</code></pre>
<pre><code>## # A tibble: 8,031 × 17
##    `Date / Time`  City   State Shape Duration Summary Posted converted_date     
##    &lt;chr&gt;          &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;  &lt;dttm&gt;             
##  1 12/12/14 17:30 North… PA    Tria… 5 minut… &quot;I hea… &lt;NA&gt;   2014-12-12 17:30:00
##  2 12/12/14 12:40 Carte… GA    Unkn… 3.6 min… &quot;Looki… 12/12… 2014-12-12 12:40:00
##  3 12/12/14 06:30 Isle … &lt;NA&gt;  Light 2 secon… &quot;Over … 12/12… 2014-12-12 06:30:00
##  4 12/12/14 01:00 Miami… OH    Chan… &lt;NA&gt;     &quot;Brigh… 12/12… 2014-12-12 01:00:00
##  5 12/12/14 00:00 Spots… VA    Unkn… 1 minute &quot;White… 12/12… 2014-12-12 00:00:00
##  6 12/11/14 23:25 Kenner LA    Chev… ~1 minu… &quot;Stran… 12/12… 2014-12-11 23:25:00
##  7 12/11/14 23:15 Eugene OR    Disk  2 minut… &quot;Dual … 12/12… 2014-12-11 23:15:00
##  8 12/11/14 20:04 Phoen… AZ    Chev… 3 minut… &quot;4 Ora… 12/12… 2014-12-11 20:04:00
##  9 12/11/14 20:00 Frank… NC    Disk  5 minut… &quot;There… 12/12… 2014-12-11 20:00:00
## 10 12/11/14 18:30 Longv… WA    Cyli… 10 seco… &quot;Two c… 12/12… 2014-12-11 18:30:00
## # … with 8,021 more rows, and 9 more variables: year &lt;dbl&gt;, month &lt;dbl&gt;,
## #   day &lt;int&gt;, hour &lt;int&gt;, minute &lt;int&gt;, month_label_abbr &lt;ord&gt;,
## #   wday_abbr &lt;ord&gt;, month_label &lt;ord&gt;, wday &lt;ord&gt;</code></pre>
</div>

          </div>

          



          
          
          <div class="article-widget">
            
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/rcode/factors/" rel="next">Factors</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="/rcode/model-intro/" rel="prev">Model Introduction</a>
  </div>
  
</div>

          </div>
          
        </div>

        <div class="body-footer">
          <p>Last updated on Feb 26, 2021</p>

          



          




          


        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    
    
    
    Published with
    <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a>  —
    the free, <a href="https://github.com/wowchemy/wowchemy-hugo-modules" target="_blank" rel="noopener">
    open source</a> website builder that empowers creators.
    
  </p>
</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js" integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'event' : "Events",
        'slides' : "Slides"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
      
      
    
    
    <script src="/js/wowchemy.min.d4185df71ecf716f1c4e7ef5f3d4e2b8.js"></script>

    






</body>
</html>
