<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  
  
  <meta name="generator" content="Wowchemy 5.0.0-beta.1 for Hugo">
  

  

  
  

  
  
  
  
  
    
    
    
  
  

  

  
  
  
    
  
  <meta name="description" content="Reproducible Tables">

  
  <link rel="alternate" hreflang="en-us" href="https://psqf6250.brandonlebeau.org/rcode/2021/reproducible-tables/">

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

  
  
  
  <meta name="theme-color" content="#1565c0">
  

  
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous" media="print" onload="this.media='all'">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css" integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js" integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      
        
      

      
    
      

      
      

      
    
      

      
      

      
    

  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.3aad675291f323c3cd47ae187f0bf0d6.css">

  




  

  


  
  

  

  
  <link rel="manifest" href="/index.webmanifest">
  

  <link rel="icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="https://psqf6250.brandonlebeau.org/rcode/2021/reproducible-tables/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="PSQF 6250">
  <meta property="og:url" content="https://psqf6250.brandonlebeau.org/rcode/2021/reproducible-tables/">
  <meta property="og:title" content="Reproducible Tables | PSQF 6250">
  <meta property="og:description" content="Reproducible Tables"><meta property="og:image" content="https://psqf6250.brandonlebeau.org/media/blue-balloon.jpg">
  <meta property="twitter:image" content="https://psqf6250.brandonlebeau.org/media/blue-balloon.jpg"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2021-03-29T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2021-03-29T00:00:00&#43;00:00">
  

  



  


  


  





  <title>Reproducible Tables | PSQF 6250</title>

</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper  ">

  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.7de282f2047be3c570af3a58788341e7.js"></script>

  

<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">PSQF 6250</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">PSQF 6250</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#logistics"><span>Logistics</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/syllabus/"><span>Syllabus</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/schedule/"><span>Schedule</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/content/"><span>Content</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link  active" href="/rcode/"><span>R Code</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/assignments/"><span>Assignments</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#people"><span>People</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      
        
      

      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    





<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <button class="form-control sidebar-search js-search">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">Search...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      
      
      


  
    
    
    
    
      
    
    

    
      <ul class="nav docs-sidenav">
        <li class=""><a href="/rcode/">R Syntax</a></li>
    
      


  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/rcode/2021/">R Syntax</a>
    
      
        <ul class="nav docs-sidenav">
      


  <li class=""><a href="/rcode/2021/graphics/">Graphics</a></li>



  <li class=""><a href="/rcode/2021/r-basics/">R Basics</a></li>



  <li class=""><a href="/rcode/2021/ggplot2_extensions/">ggplot2 extensions</a></li>



  <li class=""><a href="/rcode/2021/graphics-tips/">Graphics Tips</a></li>



  <li class=""><a href="/rcode/2021/data_munging/">Data Manipulation</a></li>



  <li class=""><a href="/rcode/2021/r_scripts/">R Scripts</a></li>



  <li class=""><a href="/rcode/2021/eda/">Exploratory Data Analysis</a></li>



  <li class=""><a href="/rcode/2021/projects/">R Projects -  RStudio</a></li>



  <li class=""><a href="/rcode/2021/data_import/">Data Import</a></li>



  <li class=""><a href="/rcode/2021/data_restructuring/">Data Restructuring</a></li>



  <li class=""><a href="/rcode/2021/data_joins/">Joining Data</a></li>



  <li class=""><a href="/rcode/2021/factors/">Factors</a></li>



  <li class=""><a href="/rcode/2021/strings/">Working with Character Strings</a></li>



  <li class=""><a href="/rcode/2021/model-intro/">Model Introduction</a></li>



  <li class=""><a href="/rcode/2021/model-part2/">Building Upon Linear Models</a></li>



  <li class=""><a href="/rcode/2021/adv-model/">Advanced Modeling Topics</a></li>



  <li class=""><a href="/rcode/2021/model-assumptions/">Model Assumptions</a></li>



  <li class=""><a href="/rcode/2021/misc-model/">Miscellaneous Modeling Topics</a></li>



  <li class="active"><a href="/rcode/2021/reproducible-tables/">Reproducible Tables</a></li>



  <li class=""><a href="/rcode/2021/interactive-graphics/">Interactive Graphics</a></li>



  <li class=""><a href="/rcode/2021/user-functions/">User Created Functions</a></li>

      
        </ul>
      
    

    
      </div>
    



  
    
    
    
    
      
    
    

    
      <div class="docs-toc-item">
        <a class="docs-toc-link " href="/rcode/2022/">R Syntax</a>
    

    
      </div>
    

      
    

    
      </ul>
    

  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>

      

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article">

        <div class="docs-article-container">
          

          <h1>Reproducible Tables</h1>

          <div class="article-style">
            
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>
<link href="/rmarkdown-libs/lightable/lightable.css" rel="stylesheet" />

<div id="TOC">

</div>

<p>Tables can be difficult to create well and more difficult to do them completely reproducible, although this is should be the goal of any analysis. I often fall into a framework where I decide to create a table manually, that is, enter information into a table by hand only to have to recreate this table again, and again, and again. This repeated structure can be time consuming and unintended errors can also creep into the workflow cycle.</p>
<p>This section will attempt to tackle this topic of creating reproducible tables. This area has been expanding over the past year with different frameworks to do these functions. For example, there is an initial package release of the <a href="https://github.com/rstudio/gt">gt</a> package that is attempting to create a grammar of tables, similar to the grammar of graphics utilized by ggplot2. Unfortunately, this package is still under active development, therefore the heuristics and functions in the package may change, therefore it is not quite ready for inclusion in the course.</p>
<p>Fortunately, there are at least two other packages that will help us build upon to create flexible, powerful reproducible tables. These packages are called: <code>kableExtra</code> and <code>formattable</code>. This document will primarily use <code>kableExtra</code>, however there are some features in <code>formattable</code> that are cool to include in a table to create a more visual table, particularly if HTML is the desired output.</p>
<p>These two packages can be installed the usual way:</p>
<pre class="r"><code>install.packages(c(&quot;kableExtra&quot;, &quot;formattable&quot;))</code></pre>
<p>The packages can also be loaded in the typical fashion using the <code>library()</code> function:</p>
<pre class="r"><code>library(kableExtra)
library(formattable)
library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.6     ✓ dplyr   1.0.7
## ✓ tidyr   1.1.4     ✓ stringr 1.4.0
## ✓ readr   2.1.1     ✓ forcats 0.5.1</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter()     masks stats::filter()
## x dplyr::group_rows() masks kableExtra::group_rows()
## x dplyr::lag()        masks stats::lag()</code></pre>
<div id="load-in-data" class="section level2">
<h2>Load in Data</h2>
<p>Let’s start with some data and a basic table, then we will build up this table to include more complex ways to structure the data. I’m going to use the titanic data that were used in the discussion of the <code>glm()</code> function.</p>
<pre class="r"><code>library(titanic)

titanic &lt;- bind_rows(titanic_test,
                     titanic_train)
head(titanic)</code></pre>
<pre><code>##   PassengerId Pclass                                         Name    Sex  Age
## 1         892      3                             Kelly, Mr. James   male 34.5
## 2         893      3             Wilkes, Mrs. James (Ellen Needs) female 47.0
## 3         894      2                    Myles, Mr. Thomas Francis   male 62.0
## 4         895      3                             Wirz, Mr. Albert   male 27.0
## 5         896      3 Hirvonen, Mrs. Alexander (Helga E Lindqvist) female 22.0
## 6         897      3                   Svensson, Mr. Johan Cervin   male 14.0
##   SibSp Parch  Ticket    Fare Cabin Embarked Survived
## 1     0     0  330911  7.8292              Q       NA
## 2     1     0  363272  7.0000              S       NA
## 3     0     0  240276  9.6875              Q       NA
## 4     0     0  315154  8.6625              S       NA
## 5     1     1 3101298 12.2875              S       NA
## 6     0     0    7538  9.2250              S       NA</code></pre>
<p>Suppose we were interested in exploring summary statistics by the different classes of passengers (Pclass variable). We could compute the summary statistics using dplyr as follows.</p>
<pre class="r"><code>titanic %&gt;%
  group_by(Pclass) %&gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            sd_age = sd(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            sd_fare = sd(Fare, na.rm = TRUE),
            min_fare = min(Fare, na.rm = TRUE),
            max_fare = max(Fare, na.rm = TRUE),
            perc_survived = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  )</code></pre>
<pre><code>## # A tibble: 3 × 9
##   Pclass avg_age sd_age avg_fare sd_fare min_fare max_fare perc_survived
##    &lt;int&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;         &lt;dbl&gt;
## 1      1    39.2   14.5     87.5    80.4        0    512.           63.0
## 2      2    29.5   13.6     21.2    13.6        0     73.5          47.3
## 3      3    24.8   12.0     13.3    11.5        0     69.6          24.2
## # … with 1 more variable: number_passengers &lt;int&gt;</code></pre>
<p>This is the format that we used in the past for summary statistics. One function that is handy for creating tables from this output is the <code>kable()</code> function from the knitr package. This function essentially turns the output into a markdown table that will be parsed more easily when you compile the document into HTML, PDF, or even a Word document. Below is how the <code>kable()</code> function can be used.</p>
<pre class="r"><code>titanic %&gt;%
  group_by(Pclass) %&gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            sd_age = sd(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            sd_fare = sd(Fare, na.rm = TRUE),
            min_fare = min(Fare, na.rm = TRUE),
            max_fare = max(Fare, na.rm = TRUE),
            perc_survived = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  ) %&gt;%
  kable()</code></pre>
<table>
<thead>
<tr>
<th style="text-align:right;">
Pclass
</th>
<th style="text-align:right;">
avg_age
</th>
<th style="text-align:right;">
sd_age
</th>
<th style="text-align:right;">
avg_fare
</th>
<th style="text-align:right;">
sd_fare
</th>
<th style="text-align:right;">
min_fare
</th>
<th style="text-align:right;">
max_fare
</th>
<th style="text-align:right;">
perc_survived
</th>
<th style="text-align:right;">
number_passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
39.15993
</td>
<td style="text-align:right;">
14.54803
</td>
<td style="text-align:right;">
87.50899
</td>
<td style="text-align:right;">
80.44718
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3292
</td>
<td style="text-align:right;">
62.96296
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
29.50671
</td>
<td style="text-align:right;">
13.63863
</td>
<td style="text-align:right;">
21.17920
</td>
<td style="text-align:right;">
13.60712
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5000
</td>
<td style="text-align:right;">
47.28261
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
24.81637
</td>
<td style="text-align:right;">
11.95820
</td>
<td style="text-align:right;">
13.30289
</td>
<td style="text-align:right;">
11.49436
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.5500
</td>
<td style="text-align:right;">
24.23625
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
<p>No arguments are needed to pass to the <code>kable()</code> function as it can automatically detect the format desired based on the yaml front matter in an Rmd document. There are useful arguments to kable that can make the table format a bit nicer to consume.</p>
<div id="optional-arguments-to-kable" class="section level3">
<h3>Optional Arguments to <code>kable()</code></h3>
<p>The four arguments to <code>kable()</code> that will be discussed in detail are, <code>digits</code>, <code>col.names</code>, <code>align</code>, and <code>caption</code>. You can likely guess what some of these arguments do, but we will go through each in turn.</p>
<div id="digits-argument" class="section level4">
<h4><code>digits</code> argument</h4>
<p>The digits argument is a way to format numeric output to round values to a specific number of significant digits. The simplest specification is a single numeric value which will round all the numeric data columns to that many decimal points. For example, maybe we want to ensure there are no more than 2 decimal places, this can be achieved by setting <code>digits = 2</code> as an argument to <code>kable()</code>. Note, I first save the titanic summary output to an object to avoid duplication of this code throughout to focus on the new code.</p>
<pre class="r"><code>titanic_summary &lt;- titanic %&gt;%
  group_by(Pclass) %&gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            sd_age = sd(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            sd_fare = sd(Fare, na.rm = TRUE),
            min_fare = min(Fare, na.rm = TRUE),
            max_fare = max(Fare, na.rm = TRUE),
            perc_survived = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  )

kable(titanic_summary, digits = 2)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:right;">
Pclass
</th>
<th style="text-align:right;">
avg_age
</th>
<th style="text-align:right;">
sd_age
</th>
<th style="text-align:right;">
avg_fare
</th>
<th style="text-align:right;">
sd_fare
</th>
<th style="text-align:right;">
min_fare
</th>
<th style="text-align:right;">
max_fare
</th>
<th style="text-align:right;">
perc_survived
</th>
<th style="text-align:right;">
number_passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.33
</td>
<td style="text-align:right;">
62.96
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.50
</td>
<td style="text-align:right;">
47.28
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.55
</td>
<td style="text-align:right;">
24.24
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
<p>The digits argument can also be specified differently for every column in the table. When doing this, a vector of digits, one for each column, are passed directly to the digits argument. For example:</p>
<pre class="r"><code>kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0))</code></pre>
<table>
<thead>
<tr>
<th style="text-align:right;">
Pclass
</th>
<th style="text-align:right;">
avg_age
</th>
<th style="text-align:right;">
sd_age
</th>
<th style="text-align:right;">
avg_fare
</th>
<th style="text-align:right;">
sd_fare
</th>
<th style="text-align:right;">
min_fare
</th>
<th style="text-align:right;">
max_fare
</th>
<th style="text-align:right;">
perc_survived
</th>
<th style="text-align:right;">
number_passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.6
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
</div>
<div id="col.names-argument" class="section level4">
<h4><code>col.names</code> argument</h4>
<p>The <code>col.names</code> argument allows the user control over the names of the column labels. This would be useful here as the names of the columns are not descriptive enough. The <code>col.names</code> argument would be the same length as the number of columns in the resulting table.</p>
<pre class="r"><code>kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;SD Age&#39;, &#39;Avg. Fare&#39;, &#39;SD Fare&#39;, 
                      &#39;Min. Fare&#39;, &#39;Max. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;))</code></pre>
<table>
<thead>
<tr>
<th style="text-align:right;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
SD Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
SD Fare
</th>
<th style="text-align:right;">
Min. Fare
</th>
<th style="text-align:right;">
Max. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.6
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
</div>
<div id="align-argument" class="section level4">
<h4><code>align</code> argument</h4>
<p>The align argument allows the user control over how the data are aligned in each column. The default values typically work well, but sometimes additional control is needed. Numeric columns are right-aligned by default and all other columns are left-aligned. When specifying the alignment operators, <code>l</code> is left-aligned, <code>c</code> is center-aligned, and <code>r</code> is right-aligned. These can be specified compactly such that a single character string is passed to the <code>align</code> argument where there is a character for each column in the resulting table. For example, perhaps we were interested in making the first column center-aligned, this could be done as follows.</p>
<pre class="r"><code>kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;SD Age&#39;, &#39;Avg. Fare&#39;, &#39;SD Fare&#39;, 
                      &#39;Min. Fare&#39;, &#39;Max. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrrrrrr&#39;)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
SD Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
SD Fare
</th>
<th style="text-align:right;">
Min. Fare
</th>
<th style="text-align:right;">
Max. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.6
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
</div>
<div id="caption-argument" class="section level4">
<h4><code>caption</code> argument</h4>
<p>The final argument that is useful to specify is the <code>caption</code> argument. This argument is needed for any sort of cross-referencing of tables (more on this later). The caption argument takes a character string that represents the caption of the table.</p>
<pre class="r"><code>kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;SD Age&#39;, &#39;Avg. Fare&#39;, &#39;SD Fare&#39;, 
                      &#39;Min. Fare&#39;, &#39;Max. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrrrrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;)</code></pre>
<table>
<caption>
<span id="tab:titanic-kable-caption">Table 1: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
SD Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
SD Fare
</th>
<th style="text-align:right;">
Min. Fare
</th>
<th style="text-align:right;">
Max. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.6
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
<p>These are the basic argument for creating simple reproducible tables in R. We will explore more advanced features next that can create more complicated tables as well as add some unique features that can upgrade the tables created. Some of these features are unique to HTML output, but many cross-over to PDF documents as well. These features may not work well with Word documents. This is largely due to the proprietary Word code base that is not open source and is not programmatic.</p>
</div>
</div>
</div>
<div id="more-complicated-tables-with-kableextra" class="section level2">
<h2>More complicated tables with <code>kableExtra</code></h2>
<p>The tables created with <code>kable()</code> are aimed to be simple tables that are relatively quick to create with less focus on the styling of the tables. For some tables, this approach is sufficient. For other tables, the additional formatting or styling is useful to control how the table appears in the final document. This is where the <code>kableExtra</code> package is useful and builds off the of the <code>kable()</code> function that we have already used to create reproducible tables.</p>
<div id="table-styling" class="section level3">
<h3>Table styling</h3>
<p>Adding some basic styling is easy to do by adding a single function call <code>kable_styling()</code> after using the <code>kable()</code> function. Here is an example:</p>
<pre class="r"><code>kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;SD Age&#39;, &#39;Avg. Fare&#39;, &#39;SD Fare&#39;, 
                      &#39;Min. Fare&#39;, &#39;Max. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrrrrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:kable-styling">Table 2: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
SD Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
SD Fare
</th>
<th style="text-align:right;">
Min. Fare
</th>
<th style="text-align:right;">
Max. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.6
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
<p>What the <code>kable_styling()</code> function does is explicitly style the resulting table with the <a href="https://getbootstrap.com/">bootstrap</a> which is the default style for Rmd documents compiled to HTML. The added bonus of using a theme like bootstrap is you can get a lot of additional features that are defined in the bootstrap theme directly by specifying these options within the <code>kable_styling()</code> function.</p>
</div>
<div id="bootstrap-table-options" class="section level3">
<h3>Bootstrap table options</h3>
<p>The predefined bootstrap table options include striped tables, adding mouse hover effects, add borders around the table, make the table more condensed, or responsive to screen re-sizing. These options can be passed to the argument, <code>bootstrap_options</code> as a character vector. For example, adding stripes to the table, hover effects, a more condensed table, borders, and a responsive table would look like the following.</p>
<pre class="r"><code>kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;SD Age&#39;, &#39;Avg. Fare&#39;, &#39;SD Fare&#39;, 
                      &#39;Min. Fare&#39;, &#39;Max. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrrrrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;, 
                                      &#39;responsive&#39;, &#39;bordered&#39;))</code></pre>
<table class="table table-striped table-hover table-condensed table-responsive table-bordered" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:boostrap-options">Table 3: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
SD Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
SD Fare
</th>
<th style="text-align:right;">
Min. Fare
</th>
<th style="text-align:right;">
Max. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.6
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
</div>
<div id="more-options-to-kable_styling" class="section level3">
<h3>More options to <code>kable_styling</code></h3>
<p>There are some additional options to <code>kable_styling()</code> that can come in handy. By default, tables span the full width of the document. This can be adjusted by adding the argument, <code>full_width = FALSE</code>. To show the benefits of this approach, I’ve made a smaller table with fewer columns.</p>
<pre class="r"><code>titanic_summary_small &lt;- titanic %&gt;%
  group_by(Pclass) %&gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            perc_survied = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  )

kable(titanic_summary_small, digits = c(0, 2, 2, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;Avg. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;),
                full_width = FALSE)</code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:full-width">Table 4: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
<p>When you specify a table to only span a portion of the document width, you now also have control over how the table is positioned on the page. The table could be on the left side, right side, or centered. These are passed to an argument called <code>position</code>.</p>
<pre class="r"><code>kable(titanic_summary_small, digits = c(0, 2, 2, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;Avg. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;),
                full_width = FALSE, position = &#39;right&#39;)</code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-right: 0; margin-left: auto">
<caption>
<span id="tab:full-width-position">Table 5: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
<p>There are also position arguments that allow the table to float. When a table floats, text can wrap around the table so that the table and text could be compared side by side. These arguments are passed to the <code>position</code> argument as before, however, now these argument names are <code>float_right</code> or <code>float_left</code>.</p>
<pre class="r"><code>kable(titanic_summary_small, digits = c(0, 2, 2, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;Avg. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;),
                full_width = FALSE, position = &#39;float_right&#39;)</code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; float: right; margin-left: 10px;">
<caption>
<span id="tab:unnamed-chunk-1">Table 6: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
<p>You could now describe the table in more detail to discuss the relevant findings. For example, we could now say that there are differences in the average age and fare prices across the classes. In addition, the class appears to be highly predictive of the survival rate.</p>
<p>The text that wraps around the table appears directly after the code chunk containing the table definition. This is important to keep in mind when writing your document. The text will continue to wrap as well until the end of the table, therefore you need to be a bit careful about this option if you want to ensure that a new section or paragraph is not next to the paragraph.</p>
<p>The final argument that I’ll mention briefly is <code>font_size</code> which adjusts the font size of the table. Here I switch back to the larger table with more summary columns, but now specify a smaller font size. The default font size is 12 I believe, therefore if you are trying to get a table to fit on a single page, decreasing the font size like this may be helpful.</p>
<pre class="r"><code>kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;SD Age&#39;, &#39;Avg. Fare&#39;, &#39;SD Fare&#39;, 
                      &#39;Min. Fare&#39;, &#39;Max. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrrrrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;),
                font_size = 10)</code></pre>
<table class="table table-striped table-hover table-condensed" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:font-size">Table 7: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
SD Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
SD Fare
</th>
<th style="text-align:right;">
Min. Fare
</th>
<th style="text-align:right;">
Max. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.6
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="column-or-row-control" class="section level2">
<h2>Column or Row Control</h2>
<p>It is possible to format entire columns or rows within a table. This can be useful if there is an entire row or column that should be bold, italic, a different background color, or font color. These can be controlled at the column and row levels with the <code>column_spec()</code> or <code>row_spec()</code> functions respectively.</p>
<p>These two function behave very similarly, with each function taking a column or row number as the first argument. Ranges of columns or rows are also possible to specify when declaring a column or row number. Subsequent arguments are the formatting arguments for that specific column or row. Examples or arguments are: <code>bold</code>, <code>italic</code>, <code>color</code>, <code>background</code>, <code>width</code>, or <code>angle</code> which make the font bold, italic, change the font color, change the background color, alter the width of the columns, or change the angle of the text respectively.</p>
<p>Suppose given the table above, we wanted to make the “% Survived” and “Number of Passengers” columns bold and we wished to make the class three row italic change the background color to a light red.</p>
<pre class="r"><code>kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;SD Age&#39;, &#39;Avg. Fare&#39;, &#39;SD Fare&#39;, 
                      &#39;Min. Fare&#39;, &#39;Max. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrrrrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;)) %&gt;%
  column_spec(8:9, bold = TRUE, width = &#39;0.75in&#39;) %&gt;%
  row_spec(3, italic = TRUE, background = &quot;#FF6347&quot;)</code></pre>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:row-columns">Table 8: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
SD Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
SD Fare
</th>
<th style="text-align:right;">
Min. Fare
</th>
<th style="text-align:right;">
Max. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
62.963
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
47.283
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
277
</td>
</tr>
<tr>
<td style="text-align:center;font-style: italic;background-color: #FF6347 !important;">
3
</td>
<td style="text-align:right;font-style: italic;background-color: #FF6347 !important;">
24.82
</td>
<td style="text-align:right;font-style: italic;background-color: #FF6347 !important;">
11.96
</td>
<td style="text-align:right;font-style: italic;background-color: #FF6347 !important;">
13.30
</td>
<td style="text-align:right;font-style: italic;background-color: #FF6347 !important;">
11.49
</td>
<td style="text-align:right;font-style: italic;background-color: #FF6347 !important;">
0
</td>
<td style="text-align:right;font-style: italic;background-color: #FF6347 !important;">
69.6
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;font-style: italic;background-color: #FF6347 !important;">
24.236
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;font-style: italic;background-color: #FF6347 !important;">
709
</td>
</tr>
</tbody>
</table>
<p>You’ll notice that the <code>bold</code> and <code>italic</code> arguments are logical, specifying TRUE turns the attribute on. Secondly, the identification of the column and rows that are to be formatted is done with column and row numbers respectively. When declaring the row number, the header row is skipped. The header can be formatted using the <code>row_spec()</code>, however you would specify the row number as 0. Finally, names of colors that are valid within R can be used as a character string, (use <code>colors()</code> to see all the colors defined within R), but hex codes can also be specified which can give further control. The <code>color</code> argument works identically to the <code>background</code> argument. Finally, the <code>width</code> argument was used which forced the last two columns to be 0.75 inches wide respectively. This argument can be particularly useful for columns that have text strings that are long.</p>
</div>
<div id="cell-control" class="section level2">
<h2>Cell Control</h2>
<p>Cell control is another way to format a table, but this time the formatting is done within the cells with the <code>cell_spec()</code> function. Another way to think about this is conditional logic for specific cells in the table. This process is done before being passed to the <code>kable()</code> function via a call to <code>mutate()</code>. Suppose for example, we wanted to color the cells differently for the percentage survival greater than 50% compared to those less than 50%. Here is an example of doing this.</p>
<pre class="r"><code>titanic_summary %&gt;% 
  mutate(
    perc_survived = cell_spec(round(perc_survived, 3), 
                              color = ifelse(perc_survived &gt; 50, 
                                                  &#39;#440154&#39;, &#39;#FDE725&#39;))
  ) %&gt;% 
  kable(escape = FALSE, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;SD Age&#39;, &#39;Avg. Fare&#39;, &#39;SD Fare&#39;, 
                      &#39;Min. Fare&#39;, &#39;Max. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrrrrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;)) %&gt;%
  column_spec(8:9, bold = TRUE, width = &#39;0.75in&#39;)</code></pre>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:cell-control">Table 9: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
SD Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
SD Fare
</th>
<th style="text-align:right;">
Min. Fare
</th>
<th style="text-align:right;">
Max. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
<span style="     color: #440154 !important;">62.963</span>
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
<span style="     color: #FDE725 !important;">47.283</span>
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
277
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.6
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
<span style="     color: #FDE725 !important;">24.236</span>
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
709
</td>
</tr>
</tbody>
</table>
<p>A couple of things to note about the <code>cell_spec()</code> function. When using <code>cell_spec()</code>, the additional argument, <code>escape = FALSE</code> to the <code>kable()</code> function must be specified. In addition, notice the <code>round()</code> function used within the <code>mutate()</code> function. This is needed to ensure that the digits are rounded as this column will be ignored by the <code>digits</code> argument from the <code>kable()</code> function. Additional formatting can also still be passed using the <code>column_spec()</code> function after the <code>cell_spec()</code> function was used. This is done here to control the width and bold font specification.</p>
<div id="using-formattable-and-kableextra-together" class="section level3">
<h3>Using <code>formattable</code> and <code>kableExtra</code> together</h3>
<p>The <code>formattable</code> package has a couple cool elements that work with <code>kableExtra</code>. One that I find useful to use is the <code>color_bar()</code> function. The <code>color_bar()</code> function adds a bar chart in addition to the numeric values already depicted in the table. This argument is also used prior to the table being passed to the <code>kable()</code> function. Let’s try to turn the last column, Number of Passengers, to a bar chart that is light red colored. The <code>color_bar()</code> function is a bit unique in that it takes two sets of parentheses specifying the main two arguments. The function takes the following form, <code>color_bar("#FF6347")(number_passengers)</code> where the first argument is the color for the bars and the second argument is the variable to use. Finally, the <code>color_bar()</code> function is specified within a <code>mutate()</code> function call prior to being passed to the <code>kable()</code> function. The argument <code>escape = FALSE</code> also needs to be specified in the <code>kable()</code> function.</p>
<pre class="r"><code>titanic_summary %&gt;% 
  mutate(
    perc_survived = cell_spec(round(perc_survived, 3), 
                              color = ifelse(perc_survived &gt; 50, 
                                                  &#39;#440154&#39;, &#39;#FDE725&#39;)),
    number_passengers = color_bar(&quot;#FF6347&quot;)(number_passengers)
  ) %&gt;% 
  kable(escape = FALSE, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;SD Age&#39;, &#39;Avg. Fare&#39;, &#39;SD Fare&#39;, 
                      &#39;Min. Fare&#39;, &#39;Max. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrrrrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;)) %&gt;%
  column_spec(8, bold = TRUE, width = &#39;0.75in&#39;) %&gt;% 
  column_spec(9, bold = TRUE)</code></pre>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:formattable">Table 10: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
SD Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
SD Fare
</th>
<th style="text-align:right;">
Min. Fare
</th>
<th style="text-align:right;">
Max. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
<span style="     color: #440154 !important;">62.963</span>
</td>
<td style="text-align:right;font-weight: bold;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #FF6347; width: 45.56%">323</span>
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
<span style="     color: #FDE725 !important;">47.283</span>
</td>
<td style="text-align:right;font-weight: bold;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #FF6347; width: 39.07%">277</span>
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.6
</td>
<td style="text-align:right;width: 0.75in; font-weight: bold;">
<span style="     color: #FDE725 !important;">24.236</span>
</td>
<td style="text-align:right;font-weight: bold;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #FF6347; width: 100.00%">709</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="grouped-columns-or-rows" class="section level2">
<h2>Grouped Columns or Rows</h2>
<p>The last element of the table formatting that will be covered is the ability to add grouped columns or rows. The <code>add_header_above()</code> function gives the user the ability to add additional header columns above the currently defined header(s). This is helpful to add a grouping label that spans multiple columns and remove redundancy in the header labels across columns. For example, if you look at the original <code>titanic_summary</code> data object created previously, there are two columns representing descriptive statistics for the age variable and four columns for the fare variable. The age and fare variable labels can be removed and added as an additional header. The <code>add_header_above()</code> function takes a character string representing the names of the new header labels and the number of columns that these labels should span.</p>
<pre class="r"><code>kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg.&#39;, &#39;SD&#39;, &#39;Avg.&#39;, &#39;SD&#39;, 
                      &#39;Min.&#39;, &#39;Max.&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrrrrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;, &#39;bordered&#39;)) %&gt;% 
  add_header_above(c(&quot;&quot;, &quot;Age&quot; = 2, &quot;Fare&quot; = 4, &quot;&quot;, &quot;&quot;))</code></pre>
<table class="table table-striped table-hover table-condensed table-bordered" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:add-header">Table 11: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Age
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Fare
</div>
</th>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
</tr>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg.
</th>
<th style="text-align:right;">
SD
</th>
<th style="text-align:right;">
Avg.
</th>
<th style="text-align:right;">
SD
</th>
<th style="text-align:right;">
Min.
</th>
<th style="text-align:right;">
Max.
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
14.55
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
80.45
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
512.3
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
13.64
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
13.61
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
73.5
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
11.96
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
11.49
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
69.6
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
<div id="group-row-labels" class="section level3">
<h3>Group Row Labels</h3>
<p>Group row labels can also be added to break up a table into different sections with the <code>group_rows()</code> function. This function takes three main arguments, the first being the row label as a character string followed by the starting row to include in the group and the ending row. For example, if the original titanic descriptive statistics was broken up for males and females, this grouping variable could be added to split up the table. The following code generates descriptive statistics for males and females, then combines these into a single data-frame to be included in the table.</p>
<pre class="r"><code>titanic_summary_male &lt;- titanic %&gt;%
  filter(Sex == &#39;male&#39;) %&gt;%
  group_by(Pclass) %&gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            perc_survied = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  )
titanic_summary_female &lt;- titanic %&gt;%
  filter(Sex == &#39;female&#39;) %&gt;%
  group_by(Pclass) %&gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            perc_survied = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  )
titanic_summary_sex &lt;- dplyr::bind_rows(
  titanic_summary_male,
  titanic_summary_female,
  titanic_summary_small
)
titanic_summary_sex</code></pre>
<pre><code>## # A tibble: 9 × 5
##   Pclass avg_age avg_fare perc_survied number_passengers
##    &lt;int&gt;   &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;             &lt;int&gt;
## 1      1    41.0     69.9         36.9               179
## 2      2    30.8     19.9         15.7               171
## 3      3    26.0     12.4         13.5               493
## 4      1    37.0    109.          96.8               144
## 5      2    27.5     23.2         92.1               106
## 6      3    22.2     15.3         50                 216
## 7      1    39.2     87.5         63.0               323
## 8      2    29.5     21.2         47.3               277
## 9      3    24.8     13.3         24.2               709</code></pre>
<p>This table can then be passed to the <code>kable()</code> function and the <code>group_rows</code> function can be used to differentiate between the rows that are male, female, or total.</p>
<pre class="r"><code>kable(titanic_summary_sex, digits = c(0, 2, 2, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;Avg. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrr&#39;,
        caption = &#39;Descriptive statistics of Titanic passengers by ticket class&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;),
                full_width = FALSE) %&gt;%
  kableExtra::group_rows(&#39;Male&#39;, 1, 3) %&gt;%
  kableExtra::group_rows(&#39;Female&#39;, 4, 6) %&gt;%
  kableExtra::group_rows(&#39;Total&#39;, 7, 9)</code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:group-rows">Table 12: </span>Descriptive statistics of Titanic passengers by ticket class
</caption>
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr grouplength="3">
<td colspan="5" style="border-bottom: 1px solid;">
<strong>Male</strong>
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:right;">
41.03
</td>
<td style="text-align:right;">
69.89
</td>
<td style="text-align:right;">
36.885
</td>
<td style="text-align:right;">
179
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:right;">
30.82
</td>
<td style="text-align:right;">
19.90
</td>
<td style="text-align:right;">
15.741
</td>
<td style="text-align:right;">
171
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:right;">
25.96
</td>
<td style="text-align:right;">
12.42
</td>
<td style="text-align:right;">
13.545
</td>
<td style="text-align:right;">
493
</td>
</tr>
<tr grouplength="3">
<td colspan="5" style="border-bottom: 1px solid;">
<strong>Female</strong>
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:right;">
37.04
</td>
<td style="text-align:right;">
109.41
</td>
<td style="text-align:right;">
96.809
</td>
<td style="text-align:right;">
144
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:right;">
27.50
</td>
<td style="text-align:right;">
23.23
</td>
<td style="text-align:right;">
92.105
</td>
<td style="text-align:right;">
106
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:right;">
22.19
</td>
<td style="text-align:right;">
15.32
</td>
<td style="text-align:right;">
50.000
</td>
<td style="text-align:right;">
216
</td>
</tr>
<tr grouplength="3">
<td colspan="5" style="border-bottom: 1px solid;">
<strong>Total</strong>
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
<p>One note, the addition of <code>kableExtra::group_rows()</code> was used above due to there being two <code>group_rows()</code> function since the dplyr v0.8 was released. The <code>kableExtra::group_rows()</code> syntax tells R to look for the <code>group_rows()</code> function directly within the <code>kableExtra</code> package. This avoids duplicate function names across packages and ensures that the correct function is used in this case.</p>
</div>
</div>
<div id="cross-referencing-tables" class="section level2">
<h2>Cross-referencing tables</h2>
<p>The final topic to discuss briefly is cross-referencing of tables in Rmd documents. Cross-referencing allows the user to allow for the labeling of table numbers to be done dynamically and automatically rather than looking at the table numbers and updating if these change. The chunk label name from the Rmd chunk is used for the identification of the label name for cross-referencing. Specifically, cross-referencing a table would take this general form: <code>@\ref(tab:chunkname)</code> where the “chunkname” portion would be replaced with the name used for the table chunk. For example, when creating the chunk below to produce the table, the chunk name, “cross-reference” was used, therefore the cross-referencing code would look like the following: <code>@\ref(tab:cross-reference)</code>. Therefore, one could write, explore Table “@(tab:cross-reference)” for descriptive statistics by ticket class for males, females, and total numbers. Note: I put the citation portion in quotes as these do not work in R notebook output, but should work if you compile the Rmd document to HTML or PDF.</p>
<pre class="r"><code>kable(titanic_summary_sex, digits = c(0, 2, 2, 3, 0),
        col.names = c(&#39;Class&#39;, &#39;Avg. Age&#39;, &#39;Avg. Fare&#39;, &#39;% Survived&#39;, &#39;Number of Passengers&#39;),
        align = &#39;crrrr&#39;) %&gt;% 
  kable_styling(bootstrap_options = c(&#39;striped&#39;, &#39;hover&#39;, &#39;condensed&#39;),
                full_width = FALSE) %&gt;%
  kableExtra::group_rows(&#39;Male&#39;, 1, 3) %&gt;%
  kableExtra::group_rows(&#39;Female&#39;, 4, 6) %&gt;%
  kableExtra::group_rows(&#39;Total&#39;, 7, 9)</code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
Class
</th>
<th style="text-align:right;">
Avg. Age
</th>
<th style="text-align:right;">
Avg. Fare
</th>
<th style="text-align:right;">
% Survived
</th>
<th style="text-align:right;">
Number of Passengers
</th>
</tr>
</thead>
<tbody>
<tr grouplength="3">
<td colspan="5" style="border-bottom: 1px solid;">
<strong>Male</strong>
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:right;">
41.03
</td>
<td style="text-align:right;">
69.89
</td>
<td style="text-align:right;">
36.885
</td>
<td style="text-align:right;">
179
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:right;">
30.82
</td>
<td style="text-align:right;">
19.90
</td>
<td style="text-align:right;">
15.741
</td>
<td style="text-align:right;">
171
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:right;">
25.96
</td>
<td style="text-align:right;">
12.42
</td>
<td style="text-align:right;">
13.545
</td>
<td style="text-align:right;">
493
</td>
</tr>
<tr grouplength="3">
<td colspan="5" style="border-bottom: 1px solid;">
<strong>Female</strong>
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:right;">
37.04
</td>
<td style="text-align:right;">
109.41
</td>
<td style="text-align:right;">
96.809
</td>
<td style="text-align:right;">
144
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:right;">
27.50
</td>
<td style="text-align:right;">
23.23
</td>
<td style="text-align:right;">
92.105
</td>
<td style="text-align:right;">
106
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:right;">
22.19
</td>
<td style="text-align:right;">
15.32
</td>
<td style="text-align:right;">
50.000
</td>
<td style="text-align:right;">
216
</td>
</tr>
<tr grouplength="3">
<td colspan="5" style="border-bottom: 1px solid;">
<strong>Total</strong>
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
1
</td>
<td style="text-align:right;">
39.16
</td>
<td style="text-align:right;">
87.51
</td>
<td style="text-align:right;">
62.963
</td>
<td style="text-align:right;">
323
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
2
</td>
<td style="text-align:right;">
29.51
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
47.283
</td>
<td style="text-align:right;">
277
</td>
</tr>
<tr>
<td style="text-align:center;padding-left: 2em;" indentlevel="1">
3
</td>
<td style="text-align:right;">
24.82
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
24.236
</td>
<td style="text-align:right;">
709
</td>
</tr>
</tbody>
</table>
<p>The final note about cross-references, is that the table caption needs to be specified as a Rmd chunk option, not within the <code>kable()</code> function. The caption argument is specified the same as when specified with the <code>kable()</code> function, therefore this could be copied and pasted from the previous examples.</p>
</div>
<div id="additional-resources" class="section level2">
<h2>Additional Resources</h2>
<p>Below are some additional resources for working with reproducible tables in R.</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html">kableExtra HTML Vignette</a></li>
<li><a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_pdf.pdf">kableExtra PDF Vignette</a></li>
<li><a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/use_kableExtra_with_formattable.html">kableExtra with formattable</a></li>
<li><a href="https://github.com/rstudio/gt">gt package (in active development)</a></li>
</ul>
</div>

          </div>

          



          
          
          <div class="article-widget">
            
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/rcode/2021/misc-model/" rel="next">Miscellaneous Modeling Topics</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="/rcode/2021/interactive-graphics/" rel="prev">Interactive Graphics</a>
  </div>
  
</div>

          </div>
          
        </div>

        <div class="body-footer">
          <p>Last updated on Mar 29, 2021</p>

          



          




          


        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    
    
    
    Published with
    <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a>  —
    the free, <a href="https://github.com/wowchemy/wowchemy-hugo-modules" target="_blank" rel="noopener">
    open source</a> website builder that empowers creators.
    
  </p>
</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js" integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'event' : "Events",
        'slides' : "Slides"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
      
      
    
    
    <script src="/js/wowchemy.min.d4185df71ecf716f1c4e7ef5f3d4e2b8.js"></script>

    






</body>
</html>
