<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>PSQF 6250</title>
    <link>https://psqf6250.brandonlebeau.org/</link>
      <atom:link href="https://psqf6250.brandonlebeau.org/index.xml" rel="self" type="application/rss+xml" />
    <description>PSQF 6250</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><lastBuildDate>Mon, 28 Mar 2022 00:00:00 +0000</lastBuildDate>
    <image>
      <url>https://psqf6250.brandonlebeau.org/media/blue-balloon.jpg</url>
      <title>PSQF 6250</title>
      <link>https://psqf6250.brandonlebeau.org/</link>
    </image>
    
    <item>
      <title>Graphics</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/graphics/</link>
      <pubDate>Mon, 01 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/graphics/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;We are going to start by exploring graphics with R using the &lt;code&gt;midwest&lt;/code&gt; data. To access this data, run the following commands:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(&amp;quot;tidyverse&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Suppose we were interested in exploring the question: How does population density influence the percentage of the population with at least a college degree? Let’s explore these data closer.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;midwest&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 437 × 28
##      PID county  state  area poptotal popdensity popwhite popblack popamerindian
##    &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;      &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;    &amp;lt;int&amp;gt;         &amp;lt;int&amp;gt;
##  1   561 ADAMS   IL    0.052    66090      1271.    63917     1702            98
##  2   562 ALEXAN… IL    0.014    10626       759      7054     3496            19
##  3   563 BOND    IL    0.022    14991       681.    14477      429            35
##  4   564 BOONE   IL    0.017    30806      1812.    29344      127            46
##  5   565 BROWN   IL    0.018     5836       324.     5264      547            14
##  6   566 BUREAU  IL    0.05     35688       714.    35157       50            65
##  7   567 CALHOUN IL    0.017     5322       313.     5298        1             8
##  8   568 CARROLL IL    0.027    16805       622.    16519      111            30
##  9   569 CASS    IL    0.024    13437       560.    13384       16             8
## 10   570 CHAMPA… IL    0.058   173025      2983.   146506    16559           331
## # … with 427 more rows, and 19 more variables: popasian &amp;lt;int&amp;gt;, popother &amp;lt;int&amp;gt;,
## #   percwhite &amp;lt;dbl&amp;gt;, percblack &amp;lt;dbl&amp;gt;, percamerindan &amp;lt;dbl&amp;gt;, percasian &amp;lt;dbl&amp;gt;,
## #   percother &amp;lt;dbl&amp;gt;, popadults &amp;lt;int&amp;gt;, perchsd &amp;lt;dbl&amp;gt;, percollege &amp;lt;dbl&amp;gt;,
## #   percprof &amp;lt;dbl&amp;gt;, poppovertyknown &amp;lt;int&amp;gt;, percpovertyknown &amp;lt;dbl&amp;gt;,
## #   percbelowpoverty &amp;lt;dbl&amp;gt;, percchildbelowpovert &amp;lt;dbl&amp;gt;, percadultpoverty &amp;lt;dbl&amp;gt;,
## #   percelderlypoverty &amp;lt;dbl&amp;gt;, inmetro &amp;lt;int&amp;gt;, category &amp;lt;chr&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will bring up the first 10 rows of the data (hiding the additional 8,592) rows. A first common step to explore our research question is to plot the data. To do this we are going to use the R package, &lt;code&gt;ggplot2&lt;/code&gt;, which was installed when running the &lt;code&gt;install.packages&lt;/code&gt; command above. You can explore the &lt;code&gt;midwest&lt;/code&gt; data by calling up the help file as well with &lt;code&gt;?midwest&lt;/code&gt;.&lt;/p&gt;
&lt;div id=&#34;create-a-ggplot&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Create a ggplot&lt;/h2&gt;
&lt;p&gt;To plot these two variables from the &lt;code&gt;midwest&lt;/code&gt; data, we will use the function &lt;code&gt;ggplot&lt;/code&gt; and &lt;code&gt;geom_point&lt;/code&gt; to add a layer of points. We will treat &lt;code&gt;popdensity&lt;/code&gt; as the x variable and &lt;code&gt;percollege&lt;/code&gt; as the y variable.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest) +
  geom_point(mapping = aes(x = popdensity, y = percollege))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/plot1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;examples&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Examples&lt;/h3&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Try plotting &lt;code&gt;popdensity&lt;/code&gt; by &lt;code&gt;state&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Try plotting &lt;code&gt;county&lt;/code&gt; by &lt;code&gt;state&lt;/code&gt;. Does this plot work?&lt;/li&gt;
&lt;li&gt;Bonus: Try just using the &lt;code&gt;ggplot(data = midwest)&lt;/code&gt; from above. What do you get? Does this make sense?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Note: You should be able to modify the structure of the code above to do this.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;add-aesthetics&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Add Aesthetics&lt;/h2&gt;
&lt;p&gt;Aesthetics are a way to explore more complex interactions within the data. Particularly, from the above example, lets add in the state variable to the plot via an aesthetic.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest) +
  geom_point(mapping = aes(x = popdensity, y = percollege, color = state))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/aesthetic-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As you can see, we simply colored the points by the state they belong in. Does there appear to be a trend?&lt;/p&gt;
&lt;div id=&#34;examples-1&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Examples&lt;/h3&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the same aesthetic structure as above, instead of using colors, make the shape of the points different for each state.&lt;/li&gt;
&lt;li&gt;Instead of color, use &lt;code&gt;alpha&lt;/code&gt; instead. What does this do to the plot?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;global-aesthetics&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Global Aesthetics&lt;/h2&gt;
&lt;p&gt;Above, we specified a variable to an aesthetic, which is a common use of aesthetics. However, the aesthetics can also be assigned globally. Here are two examples using the first scatterplot created.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest) +
  geom_point(mapping = aes(x = popdensity, y = percollege), color = &amp;#39;pink&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/global_aes-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest) +
  geom_point(mapping = aes(x = popdensity, y = percollege), shape = 15)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/global_aes2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;These two plots changed the aesthetics for all of the points. Notice, the suttle difference between the code for these plots and that for the plot above. The placement of the aesthetic is crucial, if it is within the parentheses for &lt;code&gt;aes()&lt;/code&gt; then it should be assigned a variable. If it is outside, as in the last two examples, it will define the aesthetic for all the data.&lt;/p&gt;
&lt;div id=&#34;examples-2&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Examples&lt;/h3&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Try the following command: &lt;code&gt;colors()&lt;/code&gt;. This will print a vector of all the color names within R, try a few to find your favorites.&lt;/li&gt;
&lt;li&gt;What happens if you use the following code:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest) + 
  geom_point(mapping = aes(x = popdensity, y = percollege, color = &amp;#39;green&amp;#39;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What is the problem?&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;facets&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Facets&lt;/h2&gt;
&lt;p&gt;Instead of defining an aesthetic to change the color or shape of points by a third variable, we can also plot each groups data in a single plot and combine them. The process is easy with &lt;code&gt;ggplot2&lt;/code&gt; by using facets.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest) +
  geom_point(mapping = aes(x = popdensity, y = percollege)) + 
  facet_grid(. ~ state)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/facets-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can also use &lt;code&gt;facet_wrap&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest) +
  geom_point(mapping = aes(x = popdensity, y = percollege)) + 
  facet_wrap(~ state)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/facet_wrap-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;examples-3&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Examples&lt;/h3&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Can you facet with a continuous variable? Try it!&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;geoms&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Geoms&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ggplot2&lt;/code&gt; uses a grammar of graphics which makes it easy to switch different plot types (called geoms) once you are comfortable with the basic syntax. For example, how does the following plot differ from the scatterplot first generated above? What is similar?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest) +
  geom_smooth(mapping = aes(x = popdensity, y = percollege))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/smooth-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We can also do this plot by states&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest) +
  geom_smooth(mapping = aes(x = popdensity, y = percollege, linetype = state), 
              se = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/smooth_states-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;What about the code above gave me the different lines for each state? Note, I also removed the standard error shading from the plot as well.&lt;/p&gt;
&lt;div id=&#34;examples-4&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Examples&lt;/h3&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;It is possible to combine geoms, which we will do next, but try it first. Try to recreate this plot.
&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/combine-1.png&#34; width=&#34;672&#34; /&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;combining-multiple-geoms&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Combining multiple geoms&lt;/h2&gt;
&lt;p&gt;Combining more than one geom into a single plot is relatively straightforward, but a few considerations are important. Essentially to do the task, we just simply need to combine the two geoms we have used:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest) +
  geom_point(aes(x = popdensity, y = percollege, color = state)) +
  geom_smooth(mapping = aes(x = popdensity, y = percollege, color = state), 
              se = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/combine_geoms-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;A couple points about combining geoms, first, the order matters. In the above example, we called &lt;code&gt;geom_point&lt;/code&gt; first, then &lt;code&gt;geom_smooth&lt;/code&gt;. When plotting these data, the points will then be plotted first followed by the lines. Try flipping the order of the two geoms to see how the plot differs.&lt;/p&gt;
&lt;p&gt;We can also simplify this code to not duplicate typing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = popdensity, y = percollege, color = state)) +
  geom_point() +
  geom_smooth(se = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/two_geoms-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;examples-5&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Examples&lt;/h3&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Can you recreate the following figure?
&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/differ_aes-1.png&#34; width=&#34;672&#34; /&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;other-geom-examples&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Other geom examples&lt;/h2&gt;
&lt;p&gt;There are many other geoms available to use. To see them all, visit &lt;a href=&#34;https://ggplot2.tidyverse.org/reference/index.html&#34; class=&#34;uri&#34;&gt;https://ggplot2.tidyverse.org/reference/index.html&lt;/a&gt; which gives examples of all the possibilities. This is a handy resource that I keep going back to.&lt;/p&gt;
&lt;div id=&#34;geoms-for-single-variables&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Geoms for single variables&lt;/h3&gt;
&lt;p&gt;The introduction to plotting has been with two variables, but lets take a step back and focus on one variable with a bar chart.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = state)) + 
  geom_bar()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/bar-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can also easily add aesthetics this base plot as shown before.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = state)) + 
  geom_bar(aes(fill = factor(inmetro)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/bar_fill-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;A few additions can help interpretation of this plot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = state)) + 
  geom_bar(aes(fill = factor(inmetro)), position = &amp;#39;fill&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/bar_fill2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = state)) + 
  geom_bar(aes(fill = factor(inmetro)), position = &amp;#39;dodge&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It is also possible to do a histrogram of a quantitative variable:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = popdensity)) + 
  geom_histogram()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/histogram-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can adjust the binwidth directly:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = popdensity)) + 
  geom_histogram(binwidth = 1000)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/binwidth-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;examples-6&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Examples&lt;/h3&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;With more than two groups, histograms are difficult to interpret due to overlap. Instead, use the &lt;code&gt;geom_density&lt;/code&gt; to create a density plot for &lt;code&gt;popdensity&lt;/code&gt; for each state. The final plot should look similar to this:
&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/density-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Using &lt;code&gt;geom_boxplot&lt;/code&gt;, create boxplots with &lt;code&gt;popdensity&lt;/code&gt; as the y variable and &lt;code&gt;state&lt;/code&gt; as the x variable. Bonus: facet this plot by the variable &lt;code&gt;inmetro&lt;/code&gt;.
&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/boxplot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;plot-customization&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Plot Customization&lt;/h2&gt;
&lt;p&gt;There are many many ways to adjust the look of the plot, I will discuss a few that are common.&lt;/p&gt;
&lt;div id=&#34;change-axes&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Change axes&lt;/h3&gt;
&lt;p&gt;Axes are something that are commonly altered, particularly to give them a good name and also to alter the values shown on the axes. These are generally done with &lt;code&gt;scale_x_*&lt;/code&gt; and &lt;code&gt;scale_y_*&lt;/code&gt; where &lt;code&gt;*&lt;/code&gt; is a filler based on the type of variable on the axes.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = popdensity, y = percollege, color = state)) +
  geom_point() + 
  scale_x_continuous(&amp;quot;Population Density&amp;quot;) + 
  scale_y_continuous(&amp;quot;Percent College Graduates&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/axes_labels-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To change the legend title, the &lt;code&gt;scale_color_discrete&lt;/code&gt; command can be used to adjust the color aesthetic and the variable is discrete.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = popdensity, y = percollege, color = state)) +
  geom_point() + 
  scale_x_continuous(&amp;quot;Population Density&amp;quot;) + 
  scale_y_continuous(&amp;quot;Percent College Graduates&amp;quot;) + 
  scale_color_discrete(&amp;quot;State&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/aes_labels-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;we can also alter the breaks showing on the x-axis.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = popdensity, y = percollege, color = state)) +
  geom_point() + 
  scale_x_continuous(&amp;quot;Population Density&amp;quot;, breaks = seq(0, 80000, 20000)) + 
  scale_y_continuous(&amp;quot;Percent College Graduates&amp;quot;) + 
  scale_color_discrete(&amp;quot;State&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/breaks_x-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;zoom-in-on-plot&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Zoom in on plot&lt;/h2&gt;
&lt;p&gt;You’ll notice that there are outliers in this scatterplot due to larger population density values for some counties. It may be of interest to zoom in on the plot. The plot can be zoomed in by using the &lt;code&gt;coord_cartesian&lt;/code&gt; command as follows.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = popdensity, y = percollege, color = state)) +
  geom_point() + 
  scale_x_continuous(&amp;quot;Population Density&amp;quot;) + 
  scale_y_continuous(&amp;quot;Percent College Graduates&amp;quot;) + 
  scale_color_discrete(&amp;quot;State&amp;quot;) + 
  coord_cartesian(xlim = c(0, 15000))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/zoom-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Note: This can also be achieved using the &lt;code&gt;xlim&lt;/code&gt; argument to &lt;code&gt;scale_x_continuous&lt;/code&gt; above, however this will cause some points to not be plotted. In this case it would not be a huge deal, however, if we plotted the smooth lines from before you can see the difference.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = popdensity, y = percollege, color = state)) +
  geom_point() + 
  geom_smooth(se = FALSE) +
  scale_x_continuous(&amp;quot;Population Density&amp;quot;) + 
  scale_y_continuous(&amp;quot;Percent College Graduates&amp;quot;) + 
  scale_color_discrete(&amp;quot;State&amp;quot;) + 
  coord_cartesian(xlim = c(0, 15000))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/zoom2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(data = midwest, mapping = aes(x = popdensity, y = percollege, color = state)) +
  geom_point() + 
  geom_smooth(se = FALSE) +
  scale_x_continuous(&amp;quot;Population Density&amp;quot;, limits = c(0, 15000)) + 
  scale_y_continuous(&amp;quot;Percent College Graduates&amp;quot;) + 
  scale_color_discrete(&amp;quot;State&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 16 rows containing non-finite values (stat_smooth).&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 16 rows containing missing values (geom_point).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics_files/figure-html/zoom3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>R Basics</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/r-basics/</link>
      <pubDate>Mon, 01 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/r-basics/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;In an attempt to get you “doing things” in R quickly, I’ve omitted a lot of discussion surrounding internal R workings. R is an object oriented language, this is much different than many other software languages.&lt;/p&gt;
&lt;div id=&#34;r-works-as-a-calculator&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;R works as a calculator&lt;/h2&gt;
&lt;p&gt;R can be used as a calculator to do any type of addition, subtraction, multiplication, or division (among other things).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;1 + 2 - 3&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;5 * 7&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 35&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;2/1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 2&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sqrt(4)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 2&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;2^2&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 4&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Being an object oriented system, values can directly saved within an object to be used later. As an example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- 1 + 3
x&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 4&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This can then be used later in other calculations:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x * 3&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 12&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This simplistic example is a bit too simple to show all the benefits of this approach, but will become more apparent when we start reading in data and doing more complicated data munging type tasks.&lt;/p&gt;
&lt;div id=&#34;naming-conventions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Naming conventions&lt;/h3&gt;
&lt;p&gt;This is a topic in which you will not get a single answer, but rather a different answer for everyone you ask. I prefer something called &lt;strong&gt;snake_case&lt;/strong&gt; using underscores to separate words in an object. Others use &lt;strong&gt;titleCase&lt;/strong&gt; as a way to distinguish words others yet use &lt;strong&gt;period.to.separate&lt;/strong&gt; words in object names.&lt;/p&gt;
&lt;p&gt;The most important thing is to be consistent. Pick a convention that works for you and stick with it through out. Avoiding this &lt;strong&gt;Mixed.TypeOf_conventions&lt;/strong&gt; at all costs.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;r-is-case-sensitive&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;R is case sensitive&lt;/h2&gt;
&lt;p&gt;This can cause problems and make debugging a bit more difficult. Be careful with typos and with case. Here is an example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;case_sensitive &amp;lt;- 10
Case_sensitive&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error in eval(expr, envir, enclos) : object &amp;#39;Case_sensitive&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;functions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Functions&lt;/h2&gt;
&lt;p&gt;We have already been using functions when working through creating graphics with R. A function consists of at least two parts, the &lt;em&gt;function name&lt;/em&gt; and the &lt;em&gt;arguments&lt;/em&gt; as follows: &lt;code&gt;function_name(arg1 = num, arg2 = num)&lt;/code&gt;. The arguments are always inside of parentheses, take on some value, and are always named. To call a function, use the &lt;code&gt;function_name&lt;/code&gt; followed by parentheses with the arguments inside the parentheses. For example, using the &lt;code&gt;rnorm&lt;/code&gt; function to generate values from a random normal distribution:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(1)
rnorm(n = 10, mean = 0, sd = 1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] -0.6264538  0.1836433 -0.8356286  1.5952808  0.3295078 -0.8204684
##  [7]  0.4874291  0.7383247  0.5757814 -0.3053884&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice I called the arguments by name directly, this is good practice, however, this code will generate the same values (the values are the same because I’m using &lt;code&gt;set.seed&lt;/code&gt; here):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(1)
rnorm(10, 0, 1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] -0.6264538  0.1836433 -0.8356286  1.5952808  0.3295078 -0.8204684
##  [7]  0.4874291  0.7383247  0.5757814 -0.3053884&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The key when arguments are not called via their names is the order of the arguments. Look at &lt;code&gt;?rnorm&lt;/code&gt; to see that the first three arguments are indeed &lt;code&gt;n&lt;/code&gt;, &lt;code&gt;mean&lt;/code&gt;, and &lt;code&gt;sd&lt;/code&gt;. When you name arguments, they can be specified in any order (generally bad practice).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(1)
rnorm(sd = 1, n = 10, mean = 0)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] -0.6264538  0.1836433 -0.8356286  1.5952808  0.3295078 -0.8204684
##  [7]  0.4874291  0.7383247  0.5757814 -0.3053884&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can save this result to an object to be used later.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(1)
norm_values &amp;lt;- rnorm(n = 10, mean = 0, sd = 1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice the result is no longer printed to the screen, but rather is saved to the object &lt;code&gt;norm_values&lt;/code&gt;. To see the result, you could just type &lt;code&gt;norm_values&lt;/code&gt; in the console.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;errors&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Errors&lt;/h2&gt;
&lt;p&gt;Lastly, I want to discuss errors. Errors are going to happen. Even the best programmers encounter errors that they did not anticipate and debugging needs to happen. If you encounter an error I recommend doing the following few things first:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Use &lt;code&gt;?function_name&lt;/code&gt; to explore the details of the function. The examples at the bottom of every R help page can be especially helpful.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If this does not help, copy and paste the error and search on the internet. Chances are someone else has had this error and has asked how to fix it. This is how I fix most errors I am unable to figure out with the R help.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If these two steps still do not help, feel free to email me, but take the time to do steps 1 and 2. If you do email me, please include the following things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The error message directly given from R&lt;/li&gt;
&lt;li&gt;A reproducible example of the code. The reproducible example is one in which I can run the code directly with no modifications. Without this, it is much more difficult if not impossible for me to help without asking for more information.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Welcome</title>
      <link>https://psqf6250.brandonlebeau.org/content/00-getting-started/</link>
      <pubDate>Mon, 25 Jan 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/00-getting-started/</guid>
      <description>&lt;h2 id=&#34;getting-started&#34;&gt;Getting Started&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Review the &lt;a href=&#34;https://psqf6250.brandonlebeau.org/syllabus/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;syllabus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Review the schedule&lt;/li&gt;
&lt;li&gt;Install R (or use the RStudio Cloud link) - &lt;a href=&#34;https://notebooks.hpc.uiowa.edu/psqf62500exw/hub/home&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RStudio Cloud&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Optionally, install RSTudio&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Course Overview&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/LiaaXMzxTOw&#34; title=&#34;YouTube video player&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Course Logistics&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=def9f5f8-1c93-4fcc-bbe1-ae21005a4c47&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;captions=false&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
</description>
    </item>
    
    <item>
      <title>Week 1</title>
      <link>https://psqf6250.brandonlebeau.org/content/01-week1/</link>
      <pubDate>Mon, 25 Jan 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/01-week1/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week will introduce you to Rmarkdown documents, markdown syntax, and discussion of installing R/RStudio.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Define reproducible research&lt;/li&gt;
&lt;li&gt;Demonstrate code and markdown chunks&lt;/li&gt;
&lt;li&gt;Create a reproducible document template&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;activities&#34;&gt;Activities&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Read R for Data Science Textbook - &lt;a href=&#34;https://r4ds.had.co.nz/r-markdown.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;chapter 27&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Optional reading, Reproducible Research in Education - &lt;a href=&#34;https://iro.uiowa.edu/permalink/01IOWA_INST/1dlne5o/alma9984002060102771&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;LeBeau, Ellison &amp;amp; Aloe, in press&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.markdownguide.org/basic-syntax/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Basic Markdown Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.markdownguide.org/extended-syntax/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Extended Markdown Syntax&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Introduction to Reproducible Research&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=7709a583-bf08-47af-b99a-467dd3d3f166&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Dynamic Documents (part 1)&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=bc76ea6f-9a08-45db-888c-a2b1f1c8414a&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Dynamic Documents (part 2)&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=9b38cca1-66d7-4ec6-ad39-ce721fa2ed5d&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;syntax&#34;&gt;Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/lebebr01/psqf_6250/blob/master/Syntax/R/v2/rrdoc.Rmd&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Raw syntax for reproducible document&lt;/a&gt; (Rmd file)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;p&gt;None this week.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ggplot2 extensions</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions/</link>
      <pubDate>Wed, 03 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;ggplot2&lt;/em&gt; package has a robust ecosystem of many other packages that extend the functionality of &lt;em&gt;ggplot2&lt;/em&gt;. This week, we are going to explore some of these packages in more detail, highlighting a few packages that give you additional ways to create stunning visualizations. You can see all of the extensions packages in the following &lt;a href=&#34;https://exts.ggplot2.tidyverse.org/gallery/&#34;&gt;&lt;em&gt;ggplot2&lt;/em&gt; extension website&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We are going to spend some time with the following packages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ggrepel.slowkow.com/&#34;&gt;&lt;em&gt;ggrepel&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggforce.data-imaginist.com/&#34;&gt;&lt;em&gt;ggforce&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://patchwork.data-imaginist.com/&#34;&gt;&lt;em&gt;patchwork&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I also plan to discuss, &lt;a href=&#34;https://gganimate.com/&#34;&gt;&lt;em&gt;gganimate&lt;/em&gt;&lt;/a&gt;, but we are going to come back to this later in the course when talking about interactive graphics.&lt;/p&gt;
&lt;p&gt;All of these packages are on CRAN and you can install with the following command:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(c(&amp;quot;ggrepel&amp;quot;, &amp;quot;ggforce&amp;quot;, &amp;quot;patchwork&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;ggrepel&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;em&gt;ggrepel&lt;/em&gt;&lt;/h1&gt;
&lt;p&gt;Let’s start by exploring the &lt;em&gt;ggrepel&lt;/em&gt; package. This package is particularly useful when working with text labels and provides some algorithms to help with text label placement automatically. One challenge when placing text labels in a figure is that they often overlap and they also often are placed on top of the data too. &lt;em&gt;ggrepel&lt;/em&gt; helps to solve this problem.&lt;/p&gt;
&lt;p&gt;To show a motivating example, we are going to use data in this section based on penguins. To do this, we first need to install this data package.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(&amp;quot;palmerpenguins&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The data include three different species of penguins originally collected by Dr. Kristen Gorman at the Palmer Station in Antarctica. There are a total of 344 penguins collected from 3 islands in Antarctica and include information about the species, which island, penguin measurements, and the sex of the penguin. More information about the data including artwork about the species and penguin measurements are on this &lt;a href=&#34;https://github.com/allisonhorst/palmerpenguins&#34;&gt;page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here are the penguin &lt;a href=&#34;https://github.com/allisonhorst/palmerpenguins/blob/master/man/figures/lter_penguins.png&#34;&gt;species&lt;/a&gt; and what the &lt;a href=&#34;https://github.com/allisonhorst/palmerpenguins/blob/master/man/figures/culmen_depth.png&#34;&gt;measurements mean&lt;/a&gt;, “artwork by &lt;span class=&#34;citation&#34;&gt;@allison_horst&lt;/span&gt;”.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(palmerpenguins)
library(ggplot2)

penguins&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 344 × 8
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &amp;lt;fct&amp;gt;   &amp;lt;fct&amp;gt;              &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt;             &amp;lt;int&amp;gt;       &amp;lt;int&amp;gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           NA            NA                  NA          NA
##  5 Adelie  Torgersen           36.7          19.3               193        3450
##  6 Adelie  Torgersen           39.3          20.6               190        3650
##  7 Adelie  Torgersen           38.9          17.8               181        3625
##  8 Adelie  Torgersen           39.2          19.6               195        4675
##  9 Adelie  Torgersen           34.1          18.1               193        3475
## 10 Adelie  Torgersen           42            20.2               190        4250
## # … with 334 more rows, and 2 more variables: sex &amp;lt;fct&amp;gt;, year &amp;lt;int&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Suppose we wanted to explore the bill length and flipper length with a scatter plot. We can do that with &lt;em&gt;ggplot2&lt;/em&gt; using the &lt;code&gt;geom_point()&lt;/code&gt; function. I’m also using the &lt;code&gt;theme_set()&lt;/code&gt; function to set the theme to be &lt;code&gt;theme_bw()&lt;/code&gt; for the remainder of the notebook. I’ve also altered the theme settings by increasing the base font size from 12 to 16 so hopefully it is a bit easier to read the figure.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;theme_set(theme_bw(base_size = 16))

ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 4) + 
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/length-depth-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Suppose we wished to add the species to this figure. More specifically, we want to add the species information to the points in the figure to label which points below to each penguin species. There are a few ways we could do this, we could do this by color, shape, or both.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 4, aes(color = species, shape = species)) + 
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/penguin-color-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Another potential option would be to add the text labels directly to the figure and not use color. Adding text to a figure is typically done with the &lt;code&gt;geom_text()&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 4, aes(shape = species)) + 
  geom_text(aes(label = species)) +
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/text-labels-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Notice how the text labels overlap and the word is centered with the data point? This makes the plot unusable. We could fiddle with some settings to the &lt;code&gt;geom_text()&lt;/code&gt; function, but the &lt;em&gt;ggrepel&lt;/em&gt; package helps to fix this issue for us without having to guess and test. The primary difference in the code below is to use &lt;code&gt;geom_text_repel()&lt;/code&gt; instead of &lt;code&gt;geom_text()&lt;/code&gt;. Note, I shrunk the data point slightly in the following figure.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggrepel)

ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 3, aes(shape = species)) + 
  geom_text_repel(aes(label = species)) +
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/ggrepel-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This isn’t actually better, but you can see the points were moved away. The issue here is that there are too many text labels to show in a single plot. I’m going to plot only 30 points, 10 from each species.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr)
set.seed(100)

penguins %&amp;gt;% 
  group_by(species) %&amp;gt;% 
  sample_n(10) %&amp;gt;%
  ggplot(., aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 3, aes(shape = species)) + 
  geom_text_repel(aes(label = species)) +
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/ggrepel-one-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To see exactly what was done, I’m going to generate the same figure using &lt;code&gt;geom_text()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(100)

penguins %&amp;gt;% 
  group_by(species) %&amp;gt;% 
  sample_n(10) %&amp;gt;%
  ggplot(., aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 3, aes(shape = species)) + 
  geom_text(aes(label = species)) +
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/text-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;geom_label_repel&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;geom_label_repel()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;em&gt;ggrepel&lt;/em&gt; package only has two functions, the first we saw, &lt;code&gt;geom_text_repel()&lt;/code&gt;. The second is &lt;code&gt;geom_label_repel()&lt;/code&gt;. This works the same as &lt;code&gt;geom_text_repel()&lt;/code&gt;, but creates a box around the text attribute.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(100)

penguins %&amp;gt;% 
  group_by(species) %&amp;gt;% 
  sample_n(10) %&amp;gt;%
  ggplot(., aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 3, aes(shape = species)) + 
  geom_label_repel(aes(label = species)) +
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/label-repel-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ggforce&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;em&gt;ggforce&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;em&gt;ggforce&lt;/em&gt; package has a few powerful additions. One of these helps to solve the problem of too many text labels when using the entire penguin data and is the problem I’d like to start with.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 3, aes(shape = species)) + 
  geom_text_repel(aes(label = species)) +
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/ggrepel-toomany-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Way too many text labels and for this example, there would be too many duplicate text labels. Since there are only three species, other ways of showing the text and groups would be helpful. &lt;em&gt;ggforce&lt;/em&gt; helps with this problem using a series of functions that enclose data within different shapes. These functions are &lt;code&gt;geom_mark_rect()&lt;/code&gt;, &lt;code&gt;geom_mark_circle()&lt;/code&gt;, &lt;code&gt;geom_mark_ellipse()&lt;/code&gt;, and &lt;code&gt;geom_mark_hull()&lt;/code&gt; for rectangle, circle, ellipse, and hulls respectively. For an example, let’s try &lt;code&gt;geom_mark_ellipse()&lt;/code&gt; instead of the text labels.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggforce)
library(tidyr)

penguins %&amp;gt;%
  drop_na(flipper_length_mm, bill_length_mm) %&amp;gt;%
ggplot(., aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_mark_ellipse(aes(fill = species)) +
  geom_point(size = 3, aes(shape = species)) + 
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/ggforce-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To take this one step further, we can add a text label to this figure by setting a label aesthetic to &lt;code&gt;geom_mark_ellipse()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;penguins %&amp;gt;%
  drop_na(flipper_length_mm, bill_length_mm) %&amp;gt;%
  ggplot(., aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_mark_ellipse(aes(fill = species, label = species)) +
  geom_point(size = 3, aes(shape = species)) + 
  scale_x_continuous(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  scale_y_continuous(&amp;quot;Penguin Bill Length (in mm)&amp;quot;, 
                     limits = c(25, 70))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/ggforce-label-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Another cool feature of &lt;em&gt;ggforce&lt;/em&gt; is the ability to use something called facet zoom. Essentially, this will create a zoomed in element of a portion of your figure. For example, suppose we wanted to zoom in on the Gentoo penguins to explore their relationship between bill length and flipper length. This creates a picture in picture plotting effect.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 3, aes(shape = species, color = species)) + 
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;) + 
  facet_zoom(x = species == &amp;#39;Gentoo&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/facet-zoom-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;patchwork&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;em&gt;patchwork&lt;/em&gt;&lt;/h1&gt;
&lt;p&gt;The &lt;em&gt;patchwork&lt;/em&gt; package is particularly helpful to combine multiple &lt;em&gt;ggplot2&lt;/em&gt; figures into a single figure, but you don’t want to facet. This can be useful to show multiple different relationships of attributes and combine these into a single figure element to include in a document to share.&lt;/p&gt;
&lt;p&gt;To combine figure elements, basic math notation is used, including &lt;code&gt;+&lt;/code&gt;, &lt;code&gt;/&lt;/code&gt;, or &lt;code&gt;|&lt;/code&gt;. There are other operators as well, but these are the primary ones we will explore and will also use parentheses to group plots together.&lt;/p&gt;
&lt;p&gt;First, let’s create a few plots that we may want to combine.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p1 &amp;lt;- ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 4, aes(color = species, shape = species)) + 
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;)

p1 &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/patchwork-plots-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p2 &amp;lt;- ggplot(penguins, aes(x = flipper_length_mm, y = bill_depth_mm)) + 
  geom_point(size = 4, aes(color = species, shape = species)) + 
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Depth (in mm)&amp;quot;)
p2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/patchwork2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now, we will start by using the &lt;code&gt;+&lt;/code&gt; operator to combine plots.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(patchwork)

p1 + p2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/patchwork-combine-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As you can see, the plots are combined directly as generated. In the above example, we’d likely want to only have one legend instead of two. We can do this by modifying the first figure to remove the legend.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p1 &amp;lt;- ggplot(penguins, aes(x = flipper_length_mm, y = bill_length_mm)) + 
  geom_point(size = 4, aes(color = species, shape = species)) + 
  xlab(&amp;quot;Penguin Flipper Length (in mm)&amp;quot;) +
  ylab(&amp;quot;Penguin Bill Length (in mm)&amp;quot;) + 
  theme(legend.position = &amp;#39;none&amp;#39;)

p1 &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/no-legend-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p1 + p2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/combine-nolegend-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We can use the &lt;code&gt;/&lt;/code&gt; operator to stack plots into multiple rows.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p1 / p2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/patchwork-ontop-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;+&lt;/code&gt; operator has one issue with it, it tries to keep things in a square grid, similar to how &lt;code&gt;facet_wrap()&lt;/code&gt; works. For more advanced layout, the &lt;code&gt;|&lt;/code&gt; operator separates columns whereas we saw above that the &lt;code&gt;/&lt;/code&gt; operator will stack plots. Combined with parentheses, you can get more advanced layouts. First, let’s add one more figure.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p3 &amp;lt;- ggplot(drop_na(penguins, sex), 
             aes(x = sex, y = body_mass_g)) + 
  geom_violin(aes(fill = species), draw_quantiles = c(0.1, .5, 0.9)) + 
  xlab(&amp;quot;Penguin Sex&amp;quot;) + 
  ylab(&amp;quot;Penguin Body Mass (in g)&amp;quot;) + 
  theme(legend.position = &amp;#39;none&amp;#39;)

p3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/patch-box-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p3 | (p1 / p2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/patchwork-combined-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Note, without parentheses, the figures may not turn out as you want.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p1 | p2 / p3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/patchwork-error-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;(p1 + p2) / p3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions_files/figure-html/patchwork-correct-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Week 2</title>
      <link>https://psqf6250.brandonlebeau.org/content/02-week2/</link>
      <pubDate>Mon, 01 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/02-week2/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week will explore data visualization using ggplot2 in R.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Classify different figure types by their usage&lt;/li&gt;
&lt;li&gt;Interpret different figure types&lt;/li&gt;
&lt;li&gt;Evaluate if the figure is appropriate for a given research question&lt;/li&gt;
&lt;li&gt;Create new figures&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;activities&#34;&gt;Activities&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Read R for Data Science Textbook - &lt;a href=&#34;https://r4ds.had.co.nz/introduction.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;chapters 1 &amp;ndash; 4&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Introduction to Graphics with R&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=7b28ead3-bf45-4dc5-9a53-b3136b352bb1&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Adding Aesthetics&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=e7e34813-e60f-4565-a9bd-b524aad6667a&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;More geoms&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=1742de3c-1324-4807-88cf-d482da9f51a4&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Plot Customization&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=3a7f5303-6a16-4413-887b-7270684cb598&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;R Basics&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=5bb9fae9-197f-4ac0-b42f-5f79a4d902a3&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Graphics Syntax&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/r-basics/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;R Basics&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://uiowa.instructure.com/courses/183068/quizzes/307658&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quiz 1&lt;/a&gt; - Due January 30th, 2022&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Graphics Tips</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/graphics-tips/</link>
      <pubDate>Wed, 03 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/graphics-tips/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;div id=&#34;graphics-basics&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Graphics Basics&lt;/h1&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;What is the story you want to tell?&lt;/li&gt;
&lt;li&gt;Is the figure misleading?&lt;/li&gt;
&lt;li&gt;Could other figure types be more effective?&lt;/li&gt;
&lt;li&gt;Does the figure show variation?&lt;/li&gt;
&lt;li&gt;Is the figure self-contained?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;misleading-graphs&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Misleading Graphs&lt;/h1&gt;
&lt;p&gt;Data visualization is hard and it is easy to mislead, intentionally or unintentionally.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics-tips_files/figure-html/mislead-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;better-approach&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Better Approach&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics-tips_files/figure-html/better-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;axis-labels&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Axis Labels&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Axis labels are often placed on the x-axis, but for long labels this can be less effective.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics-tips_files/figure-html/Axis-labels-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;axis-labels-2&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Axis Labels 2&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Often, the labels are rotated. Works, but is ugly and difficult to read in my opinion.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics-tips_files/figure-html/labels-rotate-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;axis-labels-3&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Axis Labels 3&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;The solution, flip x and y axis using &lt;code&gt;coord_flip()&lt;/code&gt;!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics-tips_files/figure-html/flip-axes-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;showing-variation&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Showing Variation&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Figures depicting statistics, should show variation.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics-tips_files/figure-html/mean-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;showing-variation-2&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Showing Variation 2&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;There are multiple values for each major category, the mean is useful, but simplifies too much and could mislead.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics-tips_files/figure-html/violin-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Week 3</title>
      <link>https://psqf6250.brandonlebeau.org/content/03-week3/</link>
      <pubDate>Wed, 03 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/03-week3/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;The following week the course will continue discussing data visualization using ggplot2 by exploring a handful of useful extension packages that allows new functionality to be implemented. In addition to the new extension packages, some graphical creation tips will be shared.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Engage with the ggplot2 extension packages&lt;/li&gt;
&lt;li&gt;Create new figures using the ggplot2 extension packages&lt;/li&gt;
&lt;li&gt;Evaluate and implement appropriate data visualization standards&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;activities&#34;&gt;Activities&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fundamentals of Data Visualization - &lt;a href=&#34;https://clauswilke.com/dataviz/proportional-ink.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;chapters 17 &amp;ndash; 26&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ggrepel&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=0743a168-dd6e-4f9a-aa28-ac3000188697&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;ggforce&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=97eb6cbd-ff10-4905-97f6-ac30001ca5a7&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;patchwork&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=9cd7cdaf-dc31-4d60-9b9d-ac30001fed89&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Graphics Tips&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=8acace65-abcc-4c5a-ad86-ac330112ba2b&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/ggplot2_extensions/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ggplot2 extensions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/graphics-tips/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Graphics Tips&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Quiz 2 - To come &amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Week 4</title>
      <link>https://psqf6250.brandonlebeau.org/content/04-week4/</link>
      <pubDate>Tue, 01 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/04-week4/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week the course will turn to skills that are often not covered much in a statistics course, working with data to create new variables, arrange data, select columns, or filter data. These will make use of the dplyr package from the tidyverse to explore verbs to manipulate data.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Explore benefits of script based analyses&lt;/li&gt;
&lt;li&gt;Create new data attributes&lt;/li&gt;
&lt;li&gt;Evaluate dplyr code for data manipulation&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;activities&#34;&gt;Activities&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;R for Data Science - &lt;a href=&#34;https://r4ds.had.co.nz/transform.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;chapters 5 &amp;ndash; 6&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Data Munging Introduction&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=a6e3aaa0-f9ae-4263-9916-02eb5e71069a&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Arranging Data&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=e7bab4c5-d407-4455-8e64-bf7344786912&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Selecting Columns of Data&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=4241645d-6afb-478d-add0-0c65606d41fd&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Add Variables to Data&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=5e4e43bb-193d-487e-89eb-88f7bda5b69c&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Summarise Data&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=37717e59-e140-4ea3-91b0-85689161dffd&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Chaining Commands Together&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=a4540e74-2046-4237-a12c-9972b6fa4ef3&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;R Scripts&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=deb9726a-5b28-4050-8b0a-ea25ceb9fcff&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/data_munging/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ggplot2 extensions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/r_scripts/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;R Basics&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/assignments/assignment/assignment1/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Assignment 1&lt;/a&gt; - Due around February 13th&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Data Manipulation</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/data_munging/</link>
      <pubDate>Mon, 08 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/data_munging/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;Data munging (i.e. data transformations, variable creation, filtering) is a common task that is often overlooked in traditional statistics textbooks and courses. Even though it is omitted, the task of cleaning and organizing the data (coming in week 5 of the course)&lt;/p&gt;
&lt;p&gt;Data from the &lt;code&gt;fivethirtyeight&lt;/code&gt; package is used in this set of notes to show the use of the &lt;code&gt;dplyr&lt;/code&gt; verbs for data munging. This package can be installed with the following command:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(&amp;quot;fivethirtyeight&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To get started with this set of notes, you will need the following packages loaded:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(fivethirtyeight)
library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We are going to explore the &lt;code&gt;congress_age&lt;/code&gt; data set in more detail. Take a few minutes to familiarize yourself with the data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;View(congress_age)
?congress_age&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;congress_age&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,635 × 13
##    congress chamber bioguide firstname middlename lastname  suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 house   M000112  Joseph    Jefferson  Mansfield &amp;lt;NA&amp;gt;   1861-02-09
##  2       80 house   D000448  Robert    Lee        Doughton  &amp;lt;NA&amp;gt;   1863-11-07
##  3       80 house   S000001  Adolph    Joachim    Sabath    &amp;lt;NA&amp;gt;   1866-04-04
##  4       80 house   E000023  Charles   Aubrey     Eaton     &amp;lt;NA&amp;gt;   1868-03-29
##  5       80 house   L000296  William   &amp;lt;NA&amp;gt;       Lewis     &amp;lt;NA&amp;gt;   1868-09-22
##  6       80 house   G000017  James     A.         Gallagher &amp;lt;NA&amp;gt;   1869-01-16
##  7       80 house   W000265  Richard   Joseph     Welch     &amp;lt;NA&amp;gt;   1869-02-13
##  8       80 house   B000565  Sol       &amp;lt;NA&amp;gt;       Bloom     &amp;lt;NA&amp;gt;   1870-03-09
##  9       80 house   H000943  Merlin    &amp;lt;NA&amp;gt;       Hull      &amp;lt;NA&amp;gt;   1870-12-18
## 10       80 house   G000169  Charles   Laceille   Gifford   &amp;lt;NA&amp;gt;   1871-03-15
## # … with 18,625 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;using-dplyr-for-data-munging&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Using &lt;code&gt;dplyr&lt;/code&gt; for data munging&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;dplyr&lt;/code&gt; package uses verbs for common data manipulation tasks. These include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;filter()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;arrange()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;select()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mutate()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;summarise()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The great aspect of these verbs are that they all take a similar data structure, the first argument is always the data, the other arguments are unquoted column names. These functions also always return a data frame in which the rows are observations and the columns are variables.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;examples-with-filter&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Examples with &lt;code&gt;filter()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;filter&lt;/code&gt; function selects rows that match a specified condition(s). For example, suppose we wanted to select only the rows in the data that are a part of the 80th congress. The following code will do this action:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(congress_age, congress == 80)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 555 × 13
##    congress chamber bioguide firstname middlename lastname  suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 house   M000112  Joseph    Jefferson  Mansfield &amp;lt;NA&amp;gt;   1861-02-09
##  2       80 house   D000448  Robert    Lee        Doughton  &amp;lt;NA&amp;gt;   1863-11-07
##  3       80 house   S000001  Adolph    Joachim    Sabath    &amp;lt;NA&amp;gt;   1866-04-04
##  4       80 house   E000023  Charles   Aubrey     Eaton     &amp;lt;NA&amp;gt;   1868-03-29
##  5       80 house   L000296  William   &amp;lt;NA&amp;gt;       Lewis     &amp;lt;NA&amp;gt;   1868-09-22
##  6       80 house   G000017  James     A.         Gallagher &amp;lt;NA&amp;gt;   1869-01-16
##  7       80 house   W000265  Richard   Joseph     Welch     &amp;lt;NA&amp;gt;   1869-02-13
##  8       80 house   B000565  Sol       &amp;lt;NA&amp;gt;       Bloom     &amp;lt;NA&amp;gt;   1870-03-09
##  9       80 house   H000943  Merlin    &amp;lt;NA&amp;gt;       Hull      &amp;lt;NA&amp;gt;   1870-12-18
## 10       80 house   G000169  Charles   Laceille   Gifford   &amp;lt;NA&amp;gt;   1871-03-15
## # … with 545 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice from above two things, first, the function returned a new data frame. Therefore, if this subsetted data is to be saved, we need to save it to an object, for example, as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;congress_80 &amp;lt;- filter(congress_age, congress == 80)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice now that the data were not automatically printed, instead it was saved into the object called &lt;code&gt;congress_80&lt;/code&gt;. If you wish to preview the data and save it to an object in a single step, you need to wrap the command above in parentheses. Take a second to try this yourself.&lt;/p&gt;
&lt;p&gt;Secondly, notice from the above commands that equality in R is done with &lt;code&gt;==&lt;/code&gt; not just a single &lt;code&gt;=&lt;/code&gt;. The single &lt;code&gt;=&lt;/code&gt; is used for named arguments, therefore when testing for equality you need to be sure to use &lt;code&gt;==&lt;/code&gt;, this is a common frustration and source of bugs when getting started with R.&lt;/p&gt;
&lt;p&gt;Selecting values based on a character vector are similar to numeric values. For example, suppose we wanted to select only those rows pertaining to those from the senate. The following code will do that:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;senate &amp;lt;- filter(congress_age, chamber == &amp;#39;senate&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;combining-logical-operations&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Combining Logical Operations&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;filter&lt;/code&gt; function becomes much more useful with more complex operations. For example, suppose we were interested in selecting the rows that belong to the 80th senate.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(congress_age, congress == 80, chamber == &amp;#39;senate&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 102 × 13
##    congress chamber bioguide firstname middlename lastname suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 senate  C000133  Arthur    &amp;lt;NA&amp;gt;       Capper   &amp;lt;NA&amp;gt;   1865-07-14
##  2       80 senate  G000418  Theodore  Francis    Green    &amp;lt;NA&amp;gt;   1867-10-02
##  3       80 senate  M000499  Kenneth   Douglas    McKellar &amp;lt;NA&amp;gt;   1869-01-29
##  4       80 senate  R000112  Clyde     Martin     Reed     &amp;lt;NA&amp;gt;   1871-10-19
##  5       80 senate  M000895  Edward    Hall       Moore    &amp;lt;NA&amp;gt;   1871-11-19
##  6       80 senate  O000146  John      Holmes     Overton  &amp;lt;NA&amp;gt;   1875-09-17
##  7       80 senate  M001108  James     Edward     Murray   &amp;lt;NA&amp;gt;   1876-05-03
##  8       80 senate  M000308  Patrick   Anthony    McCarran &amp;lt;NA&amp;gt;   1876-08-08
##  9       80 senate  T000165  Elmer     &amp;lt;NA&amp;gt;       Thomas   &amp;lt;NA&amp;gt;   1876-09-08
## 10       80 senate  W000021  Robert    Ferdinand  Wagner   &amp;lt;NA&amp;gt;   1877-06-08
## # … with 92 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By default, the &lt;code&gt;filter&lt;/code&gt; function uses AND when combining multiple arguments. Therefore, the above command returned only the 102 rows belonging to senators from the 80th congress. The figure on &lt;a href=&#34;https://r4ds.had.co.nz/transform.html#logical-operators&#34;&gt;section 5.2.2&lt;/a&gt; of R for Data Science shows all the possible boolean operators.&lt;/p&gt;
&lt;p&gt;Using an example of the OR operator using &lt;code&gt;|&lt;/code&gt; to select the 80th and 81st congress:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(congress_age, congress == 80 | congress == 81)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1,112 × 13
##    congress chamber bioguide firstname middlename lastname  suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 house   M000112  Joseph    Jefferson  Mansfield &amp;lt;NA&amp;gt;   1861-02-09
##  2       80 house   D000448  Robert    Lee        Doughton  &amp;lt;NA&amp;gt;   1863-11-07
##  3       80 house   S000001  Adolph    Joachim    Sabath    &amp;lt;NA&amp;gt;   1866-04-04
##  4       80 house   E000023  Charles   Aubrey     Eaton     &amp;lt;NA&amp;gt;   1868-03-29
##  5       80 house   L000296  William   &amp;lt;NA&amp;gt;       Lewis     &amp;lt;NA&amp;gt;   1868-09-22
##  6       80 house   G000017  James     A.         Gallagher &amp;lt;NA&amp;gt;   1869-01-16
##  7       80 house   W000265  Richard   Joseph     Welch     &amp;lt;NA&amp;gt;   1869-02-13
##  8       80 house   B000565  Sol       &amp;lt;NA&amp;gt;       Bloom     &amp;lt;NA&amp;gt;   1870-03-09
##  9       80 house   H000943  Merlin    &amp;lt;NA&amp;gt;       Hull      &amp;lt;NA&amp;gt;   1870-12-18
## 10       80 house   G000169  Charles   Laceille   Gifford   &amp;lt;NA&amp;gt;   1871-03-15
## # … with 1,102 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that to do the OR operator, you need to name the variable twice. When selecting multiple values in the same variable, a handy shortcut is &lt;code&gt;%in%&lt;/code&gt;. The same command can be run with the following shorthand: handy shortcut is &lt;code&gt;%in%&lt;/code&gt;. The same command can be run with the following shorthard&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(congress_age, congress %in% c(80, 81))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1,112 × 13
##    congress chamber bioguide firstname middlename lastname  suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 house   M000112  Joseph    Jefferson  Mansfield &amp;lt;NA&amp;gt;   1861-02-09
##  2       80 house   D000448  Robert    Lee        Doughton  &amp;lt;NA&amp;gt;   1863-11-07
##  3       80 house   S000001  Adolph    Joachim    Sabath    &amp;lt;NA&amp;gt;   1866-04-04
##  4       80 house   E000023  Charles   Aubrey     Eaton     &amp;lt;NA&amp;gt;   1868-03-29
##  5       80 house   L000296  William   &amp;lt;NA&amp;gt;       Lewis     &amp;lt;NA&amp;gt;   1868-09-22
##  6       80 house   G000017  James     A.         Gallagher &amp;lt;NA&amp;gt;   1869-01-16
##  7       80 house   W000265  Richard   Joseph     Welch     &amp;lt;NA&amp;gt;   1869-02-13
##  8       80 house   B000565  Sol       &amp;lt;NA&amp;gt;       Bloom     &amp;lt;NA&amp;gt;   1870-03-09
##  9       80 house   H000943  Merlin    &amp;lt;NA&amp;gt;       Hull      &amp;lt;NA&amp;gt;   1870-12-18
## 10       80 house   G000169  Charles   Laceille   Gifford   &amp;lt;NA&amp;gt;   1871-03-15
## # … with 1,102 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;not-operator&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Not Operator&lt;/h3&gt;
&lt;p&gt;Another useful operator that deserves a bit more discussion is the not operator, &lt;code&gt;!&lt;/code&gt;. For example, suppose we wanted to omit the 80th congress:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(congress_age, congress != 80)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,080 × 13
##    congress chamber bioguide firstname middlename lastname suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       81 house   D000448  Robert    Lee        Doughton &amp;lt;NA&amp;gt;   1863-11-07
##  2       81 house   S000001  Adolph    Joachim    Sabath   &amp;lt;NA&amp;gt;   1866-04-04
##  3       81 house   E000023  Charles   Aubrey     Eaton    &amp;lt;NA&amp;gt;   1868-03-29
##  4       81 house   W000265  Richard   Joseph     Welch    &amp;lt;NA&amp;gt;   1869-02-13
##  5       81 house   B000565  Sol       &amp;lt;NA&amp;gt;       Bloom    &amp;lt;NA&amp;gt;   1870-03-09
##  6       81 house   H000943  Merlin    &amp;lt;NA&amp;gt;       Hull     &amp;lt;NA&amp;gt;   1870-12-18
##  7       81 house   B000545  Schuyler  Otis       Bland    &amp;lt;NA&amp;gt;   1872-05-04
##  8       81 house   K000138  John      Hosea      Kerr     &amp;lt;NA&amp;gt;   1873-12-31
##  9       81 house   C000932  Robert    &amp;lt;NA&amp;gt;       Crosser  &amp;lt;NA&amp;gt;   1874-06-07
## 10       81 house   K000039  John      &amp;lt;NA&amp;gt;       Kee      &amp;lt;NA&amp;gt;   1874-08-22
## # … with 18,070 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It is also possible to do not with an AND operator as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(congress_age, congress == 80 &amp;amp; !chamber == &amp;#39;senate&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 453 × 13
##    congress chamber bioguide firstname middlename lastname  suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 house   M000112  Joseph    Jefferson  Mansfield &amp;lt;NA&amp;gt;   1861-02-09
##  2       80 house   D000448  Robert    Lee        Doughton  &amp;lt;NA&amp;gt;   1863-11-07
##  3       80 house   S000001  Adolph    Joachim    Sabath    &amp;lt;NA&amp;gt;   1866-04-04
##  4       80 house   E000023  Charles   Aubrey     Eaton     &amp;lt;NA&amp;gt;   1868-03-29
##  5       80 house   L000296  William   &amp;lt;NA&amp;gt;       Lewis     &amp;lt;NA&amp;gt;   1868-09-22
##  6       80 house   G000017  James     A.         Gallagher &amp;lt;NA&amp;gt;   1869-01-16
##  7       80 house   W000265  Richard   Joseph     Welch     &amp;lt;NA&amp;gt;   1869-02-13
##  8       80 house   B000565  Sol       &amp;lt;NA&amp;gt;       Bloom     &amp;lt;NA&amp;gt;   1870-03-09
##  9       80 house   H000943  Merlin    &amp;lt;NA&amp;gt;       Hull      &amp;lt;NA&amp;gt;   1870-12-18
## 10       80 house   G000169  Charles   Laceille   Gifford   &amp;lt;NA&amp;gt;   1871-03-15
## # … with 443 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the congress data, select the rows belonging to the democrats (party = D) from the senate of the 100th congress.&lt;/li&gt;
&lt;li&gt;Select all congress members who are older than 80 years old.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;note-on-missing-data&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Note on Missing Data&lt;/h3&gt;
&lt;p&gt;Missing data within R are represented with &lt;code&gt;NA&lt;/code&gt; which stands for not available.&lt;/p&gt;
&lt;p&gt;There are no missing data in the congress data, however, by default the &lt;code&gt;filter&lt;/code&gt; function will not return any missing values. In order to select missing data, you need to use the &lt;code&gt;is.na&lt;/code&gt; function.&lt;/p&gt;
&lt;div id=&#34;exercise&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercise&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Given the following simple vector, run one filter that selects all values greater than 100. Write a second filter command that selects all the rows greater than 100 and also the NA value.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df &amp;lt;- tibble(x = c(200, 30, NA, 45, 212))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;examples-with-arrange&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Examples with &lt;code&gt;arrange()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;arrange&lt;/code&gt; function is used for ordering rows in the data. For example, suppose we wanted to order the rows in the congress data by the state the members of congress lived in. This can be done using the &lt;code&gt;arrange&lt;/code&gt; function as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;arrange(congress_age, state)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,635 × 13
##    congress chamber bioguide firstname middlename lastname suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  2       81 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  3       82 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  4       83 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  5       84 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  6       85 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  7       86 house   R000282  Ralph     Julian     Rivers   &amp;lt;NA&amp;gt;   1903-05-23
##  8       86 senate  G000508  Ernest    &amp;lt;NA&amp;gt;       Gruening &amp;lt;NA&amp;gt;   1887-02-06
##  9       86 senate  B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
## 10       87 house   R000282  Ralph     Julian     Rivers   &amp;lt;NA&amp;gt;   1903-05-23
## # … with 18,625 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Similar to the filter function, additional arguments can be added to add more layers to the ordering. For example, if we were interested in ordering the rows by state and then by party affiliation.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;arrange(congress_age, state, party)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,635 × 13
##    congress chamber bioguide firstname middlename lastname suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  2       81 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  3       82 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  4       83 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  5       84 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  6       85 house   B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
##  7       86 house   R000282  Ralph     Julian     Rivers   &amp;lt;NA&amp;gt;   1903-05-23
##  8       86 senate  G000508  Ernest    &amp;lt;NA&amp;gt;       Gruening &amp;lt;NA&amp;gt;   1887-02-06
##  9       86 senate  B000201  Edward    Lewis      Bartlett &amp;lt;NA&amp;gt;   1904-04-20
## 10       87 house   R000282  Ralph     Julian     Rivers   &amp;lt;NA&amp;gt;   1903-05-23
## # … with 18,625 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;More variables can easily be added to the &lt;code&gt;arrange&lt;/code&gt; function. Notice from the above two commands that the ordering of the rows is in ascending order, if descending order is desired, the &lt;code&gt;desc&lt;/code&gt; function. For example, to order the data starting with the latest congress first:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;arrange(congress_age, desc(congress))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,635 × 13
##    congress chamber bioguide firstname middlename lastname  suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1      113 house   H000067  Ralph     M.         Hall      &amp;lt;NA&amp;gt;   1923-05-03
##  2      113 house   D000355  John      D.         Dingell   &amp;lt;NA&amp;gt;   1926-07-08
##  3      113 house   C000714  John      &amp;lt;NA&amp;gt;       Conyers   Jr.    1929-05-16
##  4      113 house   S000480  Louise    McIntosh   Slaughter &amp;lt;NA&amp;gt;   1929-08-14
##  5      113 house   R000053  Charles   B.         Rangel    &amp;lt;NA&amp;gt;   1930-06-11
##  6      113 house   J000174  Sam       Robert     Johnson   &amp;lt;NA&amp;gt;   1930-10-11
##  7      113 house   Y000031  C.        W. Bill    Young     &amp;lt;NA&amp;gt;   1930-12-16
##  8      113 house   C000556  Howard    &amp;lt;NA&amp;gt;       Coble     &amp;lt;NA&amp;gt;   1931-03-18
##  9      113 house   L000263  Sander    M.         Levin     &amp;lt;NA&amp;gt;   1931-09-06
## 10      113 house   Y000033  Don       E.         Young     &amp;lt;NA&amp;gt;   1933-06-09
## # … with 18,625 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;examples-with-select&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Examples with &lt;code&gt;select()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;select&lt;/code&gt; function is used to select columns (i.e. variables) from the data but keep all the rows. For example, maybe we only needed the congress number, the chamber, the party affiliation, and the age of the members of congress. We can reduce the data to just these variables using &lt;code&gt;select&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(congress_age, congress, chamber, party, age)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,635 × 4
##    congress chamber party   age
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt;
##  1       80 house   D      85.9
##  2       80 house   D      83.2
##  3       80 house   D      80.7
##  4       80 house   R      78.8
##  5       80 house   R      78.3
##  6       80 house   R      78  
##  7       80 house   R      77.9
##  8       80 house   D      76.8
##  9       80 house   R      76  
## 10       80 house   R      75.8
## # … with 18,625 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Similar to the &lt;code&gt;arrange&lt;/code&gt; functions, the variables that you wish to keep are separated by commas and come after the data argument.&lt;/p&gt;
&lt;p&gt;For more complex selection, the &lt;code&gt;dplyr&lt;/code&gt; package has additional functions that are helpful for variable selection. These include:
- &lt;code&gt;starts_with()&lt;/code&gt;
- &lt;code&gt;ends_with()&lt;/code&gt;
- &lt;code&gt;contains()&lt;/code&gt;
- &lt;code&gt;matches()&lt;/code&gt;
- &lt;code&gt;num_range()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;These helper functions can be useful for selecting many variables that match a specific pattern. For example, suppose we were interested in selecting all the name variables, this can be accomplished using the &lt;code&gt;contains&lt;/code&gt; function as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(congress_age, contains(&amp;#39;name&amp;#39;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,635 × 3
##    firstname middlename lastname 
##    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;    
##  1 Joseph    Jefferson  Mansfield
##  2 Robert    Lee        Doughton 
##  3 Adolph    Joachim    Sabath   
##  4 Charles   Aubrey     Eaton    
##  5 William   &amp;lt;NA&amp;gt;       Lewis    
##  6 James     A.         Gallagher
##  7 Richard   Joseph     Welch    
##  8 Sol       &amp;lt;NA&amp;gt;       Bloom    
##  9 Merlin    &amp;lt;NA&amp;gt;       Hull     
## 10 Charles   Laceille   Gifford  
## # … with 18,625 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Another useful shorthand to select multiple columns in succession is the &lt;code&gt;:&lt;/code&gt; operator. For example, suppose we wanted to select all the variables between congress and bithday.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(congress_age, congress:birthday)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,635 × 8
##    congress chamber bioguide firstname middlename lastname  suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 house   M000112  Joseph    Jefferson  Mansfield &amp;lt;NA&amp;gt;   1861-02-09
##  2       80 house   D000448  Robert    Lee        Doughton  &amp;lt;NA&amp;gt;   1863-11-07
##  3       80 house   S000001  Adolph    Joachim    Sabath    &amp;lt;NA&amp;gt;   1866-04-04
##  4       80 house   E000023  Charles   Aubrey     Eaton     &amp;lt;NA&amp;gt;   1868-03-29
##  5       80 house   L000296  William   &amp;lt;NA&amp;gt;       Lewis     &amp;lt;NA&amp;gt;   1868-09-22
##  6       80 house   G000017  James     A.         Gallagher &amp;lt;NA&amp;gt;   1869-01-16
##  7       80 house   W000265  Richard   Joseph     Welch     &amp;lt;NA&amp;gt;   1869-02-13
##  8       80 house   B000565  Sol       &amp;lt;NA&amp;gt;       Bloom     &amp;lt;NA&amp;gt;   1870-03-09
##  9       80 house   H000943  Merlin    &amp;lt;NA&amp;gt;       Hull      &amp;lt;NA&amp;gt;   1870-12-18
## 10       80 house   G000169  Charles   Laceille   Gifford   &amp;lt;NA&amp;gt;   1871-03-15
## # … with 18,625 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;rename-variables&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Rename variables&lt;/h3&gt;
&lt;p&gt;The select function does allow you to rename variables, however, using the select function to rename variables is not usually advised as you may end up missing a variable that you wish to keep during the renaming operation. Instead, using the &lt;code&gt;rename&lt;/code&gt; function is better practice.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rename(congress_age, first_name = firstname, last_name = lastname)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,635 × 13
##    congress chamber bioguide first_name middlename last_name suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 house   M000112  Joseph     Jefferson  Mansfield &amp;lt;NA&amp;gt;   1861-02-09
##  2       80 house   D000448  Robert     Lee        Doughton  &amp;lt;NA&amp;gt;   1863-11-07
##  3       80 house   S000001  Adolph     Joachim    Sabath    &amp;lt;NA&amp;gt;   1866-04-04
##  4       80 house   E000023  Charles    Aubrey     Eaton     &amp;lt;NA&amp;gt;   1868-03-29
##  5       80 house   L000296  William    &amp;lt;NA&amp;gt;       Lewis     &amp;lt;NA&amp;gt;   1868-09-22
##  6       80 house   G000017  James      A.         Gallagher &amp;lt;NA&amp;gt;   1869-01-16
##  7       80 house   W000265  Richard    Joseph     Welch     &amp;lt;NA&amp;gt;   1869-02-13
##  8       80 house   B000565  Sol        &amp;lt;NA&amp;gt;       Bloom     &amp;lt;NA&amp;gt;   1870-03-09
##  9       80 house   H000943  Merlin     &amp;lt;NA&amp;gt;       Hull      &amp;lt;NA&amp;gt;   1870-12-18
## 10       80 house   G000169  Charles    Laceille   Gifford   &amp;lt;NA&amp;gt;   1871-03-15
## # … with 18,625 more rows, and 5 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By default, the rename function will not save changes to the object, if you wish to save the name differences (very likely), be sure to save this new step to an object.&lt;/p&gt;
&lt;div id=&#34;exercises-1&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the &lt;code&gt;dplyr&lt;/code&gt; helper functions, select all the variables that start with the letter ‘c’.&lt;/li&gt;
&lt;li&gt;Rename the first three variables in the congress data to ‘x1’, ‘x2’, ‘x3’.&lt;/li&gt;
&lt;li&gt;After renaming the first three variables, use this new data (ensure you saved the previous step to an object) to select these three variables with the &lt;code&gt;num_range&lt;/code&gt; function.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;examples-with-mutate&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Examples with &lt;code&gt;mutate()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;mutate&lt;/code&gt; is a useful verb that allows you to add new columns to the existing data set. Actions done with &lt;code&gt;mutate&lt;/code&gt; include adding a column of means, counts, or other transformations of existing variables. Suppose for example, we wished to convert the party affiliation of the members of congress into a dummy (indicator) variable. This may be useful to more easily compute a proportion or count for instance.&lt;/p&gt;
&lt;p&gt;This can be done with the &lt;code&gt;mutate&lt;/code&gt; function. Below, I’m first going to use &lt;code&gt;select&lt;/code&gt; to reduce the number of columns to make it easier to see the operation.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;congress_red &amp;lt;- select(congress_age, congress, chamber, state, party)

mutate(congress_red, 
       democrat = ifelse(party == &amp;#39;D&amp;#39;, 1, 0),
       num_democrat = sum(democrat)
       )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,635 × 6
##    congress chamber state party democrat num_democrat
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;
##  1       80 house   TX    D            1        10290
##  2       80 house   NC    D            1        10290
##  3       80 house   IL    D            1        10290
##  4       80 house   NJ    R            0        10290
##  5       80 house   KY    R            0        10290
##  6       80 house   PA    R            0        10290
##  7       80 house   CA    R            0        10290
##  8       80 house   NY    D            1        10290
##  9       80 house   WI    R            0        10290
## 10       80 house   MA    R            0        10290
## # … with 18,625 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’ll notice that the number of rows in the data are the same (18635) as it was previously, but now the two new columns have been added to the data. One converted the party affiliation to a series of 0/1 values and the other variable counted up the number of democrats elected since the 80th congress. Notice how this last variable is simply repeated for all values in the data. The operation done here is not too exciting, however, we will learn another utility later that allows us to group the data to calculate different values for each group.&lt;/p&gt;
&lt;p&gt;Lastly, from the output above, notice that I was able to reference a variable that I created previously in the mutate command. This is unique to the &lt;code&gt;dplyr&lt;/code&gt; package and allows you to create a single &lt;code&gt;mutate&lt;/code&gt; command to add many variables, even those that depend on prior calculations. Obviously, if you need to reference a calculation in another calculation, they need to be done in the proper order.&lt;/p&gt;
&lt;div id=&#34;creation-functions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Creation Functions&lt;/h3&gt;
&lt;p&gt;There are many useful operators to use when creating additional variables. The R for Data Science text has many examples shown in &lt;a href=&#34;http://r4ds.had.co.nz/transform.html&#34;&gt;section 5.5.1&lt;/a&gt;. In general useful operators include addition, subtraction, multiplication, division, descriptive statistics (we will talk more about these in week 4), ranks, logical comparisons, and many more. The exercises will have you explore some of these operations in more detail.&lt;/p&gt;
&lt;div id=&#34;exercises-2&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the &lt;code&gt;diamonds&lt;/code&gt; data, use &lt;code&gt;?diamonds&lt;/code&gt; for more information on the data, use the &lt;code&gt;mutate&lt;/code&gt; function to calculate the price per carat. Hint, this operation would involve standardizing the price variable so that all are comparable at 1 carat.&lt;/li&gt;
&lt;li&gt;Calculate the rank of the original price variable and the new price variable calculated above using the &lt;code&gt;min_rank&lt;/code&gt; function. Are there differences in the ranking of the prices? Hint, it may be useful to test if the two ranks are equal to explore this.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;examples-with-summarise&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Examples with &lt;code&gt;summarise()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;summarise&lt;/code&gt; is very similar to the &lt;code&gt;mutate&lt;/code&gt; function, except instead of adding additional columns to the data, it collapses data down to a single row. For instance, doing the same operation as the example with &lt;code&gt;mutate&lt;/code&gt; above:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;congress_2 &amp;lt;- mutate(congress_age, 
       democrat = ifelse(party == &amp;#39;D&amp;#39;, 1, 0)
       )

summarise(congress_2, 
          num_democrat = sum(democrat)
          )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 × 1
##   num_democrat
##          &amp;lt;dbl&amp;gt;
## 1        10290&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice now, instead of repeating the same value for all the rows as with &lt;code&gt;mutate&lt;/code&gt;, &lt;code&gt;summarise&lt;/code&gt; collapsed the data into a single numeric summary. Normally this is not a very interesting data activity, however, used in tandem with another function, &lt;code&gt;group_by&lt;/code&gt;, interesting summary statistics can be calculated.&lt;/p&gt;
&lt;p&gt;Suppose we were interested in calculating the number of democrats in each congress. This can be achieved with similar code to above, but first by grouping the data as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;congress_grp &amp;lt;- group_by(congress_2, congress)

summarise(congress_grp, 
          num_democrat = sum(democrat),
          total = n(),
          prop_democrat = num_democrat / total
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 34 × 4
##    congress num_democrat total prop_democrat
##       &amp;lt;int&amp;gt;        &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;
##  1       80          247   555         0.445
##  2       81          330   557         0.592
##  3       82          292   555         0.526
##  4       83          274   557         0.492
##  5       84          288   544         0.529
##  6       85          295   547         0.539
##  7       86          356   554         0.643
##  8       87          339   559         0.606
##  9       88          332   552         0.601
## 10       89          371   548         0.677
## # … with 24 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice above, the use of the &lt;code&gt;group_by&lt;/code&gt; function to group the data first by congress. Then this new grouped data is passed to the &lt;code&gt;summarise&lt;/code&gt; command. As you can see from the output, the operations performed with the &lt;code&gt;summarise&lt;/code&gt; function are done for each unique level of the congress variable. You could now easily plot these to see the trend in proportion of democrats has changed over time.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggplot2)
num_dem &amp;lt;- summarise(congress_grp, 
                     num_democrat = sum(democrat),
                     total = n(),
                     prop_democrat = num_democrat / total
)
ggplot(num_dem, aes(x = congress, y = prop_democrat)) + 
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/data_munging_files/figure-html/trend-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;exercises-3&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Suppose we wanted to calculate the number and proportion of republicans instead of democrats, assuming these are the only two parties, edit the &lt;code&gt;summarise&lt;/code&gt; command above to calculate these values.&lt;/li&gt;
&lt;li&gt;Suppose instead of using &lt;code&gt;sum(democrat)&lt;/code&gt; above, we used &lt;code&gt;mean(democrat)&lt;/code&gt;, what does this value return? Why does it return this value?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;extending-group_by-in-other-places&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Extending &lt;code&gt;group_by()&lt;/code&gt; in other places&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;group_by&lt;/code&gt; function is also useful with the &lt;code&gt;mutate&lt;/code&gt; function and works in a similar way as &lt;code&gt;summarise&lt;/code&gt; above. For example, if we wanted to keep the values calculated above in the original data, we could use &lt;code&gt;mutate&lt;/code&gt; instead of &lt;code&gt;summarise&lt;/code&gt;. This would look like the following:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mutate(congress_grp, 
       num_democrat = sum(democrat),
       total = n(),
       prop_democrat = num_democrat / total
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 18,635 × 17
## # Groups:   congress [34]
##    congress chamber bioguide firstname middlename lastname  suffix birthday  
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;  &amp;lt;date&amp;gt;    
##  1       80 house   M000112  Joseph    Jefferson  Mansfield &amp;lt;NA&amp;gt;   1861-02-09
##  2       80 house   D000448  Robert    Lee        Doughton  &amp;lt;NA&amp;gt;   1863-11-07
##  3       80 house   S000001  Adolph    Joachim    Sabath    &amp;lt;NA&amp;gt;   1866-04-04
##  4       80 house   E000023  Charles   Aubrey     Eaton     &amp;lt;NA&amp;gt;   1868-03-29
##  5       80 house   L000296  William   &amp;lt;NA&amp;gt;       Lewis     &amp;lt;NA&amp;gt;   1868-09-22
##  6       80 house   G000017  James     A.         Gallagher &amp;lt;NA&amp;gt;   1869-01-16
##  7       80 house   W000265  Richard   Joseph     Welch     &amp;lt;NA&amp;gt;   1869-02-13
##  8       80 house   B000565  Sol       &amp;lt;NA&amp;gt;       Bloom     &amp;lt;NA&amp;gt;   1870-03-09
##  9       80 house   H000943  Merlin    &amp;lt;NA&amp;gt;       Hull      &amp;lt;NA&amp;gt;   1870-12-18
## 10       80 house   G000169  Charles   Laceille   Gifford   &amp;lt;NA&amp;gt;   1871-03-15
## # … with 18,625 more rows, and 9 more variables: state &amp;lt;chr&amp;gt;, party &amp;lt;chr&amp;gt;,
## #   incumbent &amp;lt;lgl&amp;gt;, termstart &amp;lt;date&amp;gt;, age &amp;lt;dbl&amp;gt;, democrat &amp;lt;dbl&amp;gt;,
## #   num_democrat &amp;lt;dbl&amp;gt;, total &amp;lt;int&amp;gt;, prop_democrat &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;useful-summary-functions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Useful summary functions&lt;/h3&gt;
&lt;p&gt;There are many useful summary functions, many of which we will explore in more detail in week 4 of the course during exploratory data analysis (EDA). However, I want to show a few here with the &lt;code&gt;summarise&lt;/code&gt; function to ease you in. Suppose for instance we were interested in the knowing the youngest and oldest member of congress for each congress. There are actually two ways of doing this, one is using the &lt;code&gt;min&lt;/code&gt; and &lt;code&gt;max&lt;/code&gt; functions on the grouped data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summarise(congress_grp,
          youngest = min(age),
          oldest = max(age)
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 34 × 3
##    congress youngest oldest
##       &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
##  1       80     25.9   85.9
##  2       81     27.2   85.2
##  3       82     27.9   87.2
##  4       83     26.7   85.3
##  5       84     28.5   87.3
##  6       85     30.5   89.3
##  7       86     31     91.3
##  8       87     28.9   86  
##  9       88     29     85.3
## 10       89     25     87.3
## # … with 24 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This could also be done by using the &lt;code&gt;first&lt;/code&gt; and &lt;code&gt;last&lt;/code&gt; functions after arranging the data:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summarise(arrange(congress_grp, age),
          youngest = first(age),
          oldest = last(age)
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 34 × 3
##    congress youngest oldest
##       &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
##  1       80     25.9   85.9
##  2       81     27.2   85.2
##  3       82     27.9   87.2
##  4       83     26.7   85.3
##  5       84     28.5   87.3
##  6       85     30.5   89.3
##  7       86     31     91.3
##  8       87     28.9   86  
##  9       88     29     85.3
## 10       89     25     87.3
## # … with 24 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This goes to show that there are commonly many different ways to calculate descriptive statistics. I would argue two strong virtues when writing code is to make it as clear, expressive, and ensure accuracy. Speed and grace in writing code can come later.&lt;/p&gt;
&lt;div id=&#34;exercises-4&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;For each congress, calculate a summary using the following command: &lt;code&gt;n_distinct(state)&lt;/code&gt;. What does this value return?&lt;/li&gt;
&lt;li&gt;What happens when you use a logical expression within a &lt;code&gt;sum&lt;/code&gt; function call? For example, what do you get in a summarise when you do: &lt;code&gt;sum(age &amp;gt; 75)&lt;/code&gt;?&lt;/li&gt;
&lt;li&gt;What happens when you try to use &lt;code&gt;sum&lt;/code&gt; or &lt;code&gt;mean&lt;/code&gt; on the variable incumbent?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;chaining-together-multiple-operations&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Chaining together multiple operations&lt;/h2&gt;
&lt;p&gt;Now that you have seen all of the basic &lt;code&gt;dplyr&lt;/code&gt; data manipulation verbs, it is useful to chain these together to create more complex operations. So far, I have shown you how to do it by saving intermediate steps, for example, saving the grouped data after using the &lt;code&gt;group_by&lt;/code&gt; function. In many instances, these intermediate steps are not useful to us. In these cases you can chain operations together.&lt;/p&gt;
&lt;p&gt;Suppose we are interested in calculating the proportion of democrats for each chamber of congress, but only since the 100th congress? There are two ways to do this, the difficult to read and the easier to read. I first shown the difficult to read.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summarise(
  group_by(
    mutate(
      filter(
        congress_age, congress &amp;gt;= 100
      ), 
      democrat = ifelse(party == &amp;#39;D&amp;#39;, 1, 0)
    ),
    congress, chamber
  ),
  num_democrat = sum(democrat),
  total = n(),
  prop_democrat = num_democrat / total
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` has grouped output by &amp;#39;congress&amp;#39;. You can override using the
## `.groups` argument.&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 28 × 5
## # Groups:   congress [14]
##    congress chamber num_democrat total prop_democrat
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;
##  1      100 house            263   443         0.594
##  2      100 senate            55   101         0.545
##  3      101 house            266   445         0.598
##  4      101 senate            56   101         0.554
##  5      102 house            272   443         0.614
##  6      102 senate            59   104         0.567
##  7      103 house            261   443         0.589
##  8      103 senate            58   105         0.552
##  9      104 house            206   441         0.467
## 10      104 senate            47   103         0.456
## # … with 18 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;How difficult do you find the code above to read? This is valid R code, but the first operation done is nested in the middle (it is the &lt;code&gt;filter&lt;/code&gt; function that is run first). This makes for difficult code to debug and write in my opinion. In my opinion, the better way to write code is through the pipe operator, &lt;code&gt;%&amp;gt;%&lt;/code&gt;. The same code above can be achieved with the following much easier to read code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;congress_age %&amp;gt;%
  filter(congress &amp;gt;= 100) %&amp;gt;%
  mutate(democrat = ifelse(party == &amp;#39;D&amp;#39;, 1, 0)) %&amp;gt;%
  group_by(congress, chamber) %&amp;gt;%
  summarise(
    num_democrat = sum(democrat),
    total = n(),
    prop_democrat = num_democrat / total
  )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` has grouped output by &amp;#39;congress&amp;#39;. You can override using the
## `.groups` argument.&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 28 × 5
## # Groups:   congress [14]
##    congress chamber num_democrat total prop_democrat
##       &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;         &amp;lt;dbl&amp;gt;
##  1      100 house            263   443         0.594
##  2      100 senate            55   101         0.545
##  3      101 house            266   445         0.598
##  4      101 senate            56   101         0.554
##  5      102 house            272   443         0.614
##  6      102 senate            59   104         0.567
##  7      103 house            261   443         0.589
##  8      103 senate            58   105         0.552
##  9      104 house            206   441         0.467
## 10      104 senate            47   103         0.456
## # … with 18 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The pipe allows for more readable code by humans and progresses from top to bottom, left to right. The best word to substitute when translating the &lt;code&gt;%&amp;gt;%&lt;/code&gt; code above is ‘then’. So the code above says, using the &lt;code&gt;congress_age&lt;/code&gt; data, then &lt;code&gt;filter&lt;/code&gt;, then &lt;code&gt;mutate&lt;/code&gt;, then &lt;code&gt;group_by&lt;/code&gt;, then &lt;code&gt;summarise&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This is much easier to read and follow the chain of commands. I highly recommend using the pipe in your code. For more details on what is actually happening, the R for Data Science book has a good explanation in Section 5.6.1.&lt;/p&gt;
&lt;div id=&#34;exercises-5&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Look at the following nested code and determine what is being done. Then translate this code to use the pipe operator.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summarise(
  group_by(
    mutate(
      filter(
        diamonds, 
        color %in% c(&amp;#39;D&amp;#39;, &amp;#39;E&amp;#39;, &amp;#39;F&amp;#39;) &amp;amp; cut %in% c(&amp;#39;Fair&amp;#39;, &amp;#39;Good&amp;#39;, &amp;#39;Very Good&amp;#39;)
      ),
      f_color = ifelse(color == &amp;#39;F&amp;#39;, 1, 0),
      vg_cut = ifelse(cut == &amp;#39;Very Good&amp;#39;, 1, 0)
    ),
    clarity
  ),
  avg = mean(carat),
  sd = sd(carat),
  avg_p = mean(price),
  num = n(),
  summary_f_color = mean(f_color),
  summary_vg_cut = mean(vg_cut)
)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Week 5</title>
      <link>https://psqf6250.brandonlebeau.org/content/05-week5/</link>
      <pubDate>Wed, 09 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/05-week5/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This module will give some tools to use when performing exploratory data analysis, a framework that helps you to better understand your data prior to doing any more formal analysis.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Evaluate exploratory figures&lt;/li&gt;
&lt;li&gt;Define exploratory data analysis&lt;/li&gt;
&lt;li&gt;Interpret exploratory data analysis output&lt;/li&gt;
&lt;li&gt;Create exploratory data analysis code&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;activities&#34;&gt;Activities&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;R for Data Science - &lt;a href=&#34;https://r4ds.had.co.nz/exploratory-data-analysis.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;chapter 7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;EDA - Missing Data&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=a1f1af26-3448-4d3f-8c28-9a028401b314&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;EDA - Variation&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=d87528ef-0d74-4b94-b115-093bbd6d1ef6&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;EDA - Covariation&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=90b4f216-e064-489a-8b8a-7c3bd0d5e048&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;EDA - Rare/Common Cases&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=519d03cf-6ac8-4003-8484-ed0d8e97b43c&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;R Projects&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=c9526abc-b9eb-4730-859b-2b5894b777f2&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/eda/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Exploratory Data Analysis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/projects/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;R Projects - RStudio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;p&gt;To come &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R Scripts</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/r_scripts/</link>
      <pubDate>Mon, 08 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/r_scripts/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;I want to talk very briefly about R scripts. You may have been using these already within your workflow for this course, but these are best practice instead of simply running code in the console. Creating R scripts are a crucial step to ensure the data analyses are reproducible, the script will act as a log of all the things that are done to the data to go from data import to any outputs (model results, tables, figures, etc.).&lt;/p&gt;
&lt;p&gt;To create an R script with RStudio, the short cut is CTRL/CMD + SHIFT + N. You can also create a new script by going to File &amp;gt; New File &amp;gt; R Script. Both of these commands will open up a blank script window.&lt;/p&gt;
&lt;p&gt;In this script window, I would recommend loading any R packages first at the top of the file. Then proceed with the analysis. Commands can be sent to the console using CRTL/CMD + ENTER. By default RStudio will run any commands that span more than one line with a single CRTL/CMD + ENTER call.&lt;/p&gt;
&lt;p&gt;For more details about R Scripts, the R for Data Science text has detail with screenshots in &lt;a href=&#34;http://r4ds.had.co.nz/workflow-scripts.html&#34;&gt;Chapter 6&lt;/a&gt;. I recommend trying to create a simple script and sending these commands from the script to the console to be run with R.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Week 6</title>
      <link>https://psqf6250.brandonlebeau.org/content/06-week6/</link>
      <pubDate>Mon, 14 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/06-week6/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week will cover functionality to import, restructure, and join data in the tidyverse. These are common tasks to perform to get the data into the appropriate format for data analysis.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Define different data join methods&lt;/li&gt;
&lt;li&gt;Define different data formats&lt;/li&gt;
&lt;li&gt;Create join and import code&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;activities&#34;&gt;Activities&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;R for Data Science - chapters &lt;a href=&#34;https://r4ds.had.co.nz/data-import.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;11&lt;/a&gt;, &lt;a href=&#34;https://r4ds.had.co.nz/tidy-data.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;12&lt;/a&gt;, &lt;a href=&#34;https://r4ds.had.co.nz/relational-data.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;13&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Data Import&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=c9cc4c0e-37d1-4208-a556-0583ea211aed&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Data Restructuring&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=69c0ea96-9df6-47d2-af66-ac41011854fd&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Joining Data&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=db5ee513-28ef-4b1d-b042-59fb42bd4608&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/data_import/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Data Import&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/data_restructuring/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Data Restructuring&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/data_joins/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Data Joins&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;p&gt;To come &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Exploratory Data Analysis</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/eda/</link>
      <pubDate>Mon, 15 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/eda/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;Exploratory data analysis (EDA) is an important step in exploring and understanding your data. In addition, EDA does not suffer from problems with inferential statistics related to multiple (correlated) models on the same data. Instead, EDA is a great way to visualize, summarize, and prod your data without any consequences.&lt;/p&gt;
&lt;p&gt;For this set of notes, we are going to use the following packages:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(nycflights13)
library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will use a few different data sets, but the one we are going to start with is the &lt;code&gt;flights&lt;/code&gt; data from the &lt;code&gt;nycflights13&lt;/code&gt; package. Below is the first 10 rows of the data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 336,776 × 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;    &amp;lt;int&amp;gt;          &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;          &amp;lt;int&amp;gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # … with 336,766 more rows, and 11 more variables: arr_delay &amp;lt;dbl&amp;gt;,
## #   carrier &amp;lt;chr&amp;gt;, flight &amp;lt;int&amp;gt;, tailnum &amp;lt;chr&amp;gt;, origin &amp;lt;chr&amp;gt;, dest &amp;lt;chr&amp;gt;,
## #   air_time &amp;lt;dbl&amp;gt;, distance &amp;lt;dbl&amp;gt;, hour &amp;lt;dbl&amp;gt;, minute &amp;lt;dbl&amp;gt;, time_hour &amp;lt;dttm&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This data contains information on all flights that departed from the three airports in NYC in 2013. As you can see, the data has a total of 336776 rows and 19. For additional information use &lt;code&gt;?flights&lt;/code&gt;.&lt;/p&gt;
&lt;div id=&#34;exploratory-data-analysis&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Exploratory Data Analysis&lt;/h2&gt;
&lt;p&gt;The general process for proceeding with exploratory data analysis as summarized in the R for Data Science text are:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Ask questions about your data&lt;/li&gt;
&lt;li&gt;Search for answers&lt;/li&gt;
&lt;li&gt;Refine or ask new questions about the data.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;There are no bad questions when performing EDA, but some common questions worth exploring are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Missing Data&lt;/li&gt;
&lt;li&gt;Variation&lt;/li&gt;
&lt;li&gt;Covariation&lt;/li&gt;
&lt;li&gt;Rare cases&lt;/li&gt;
&lt;li&gt;Common cases&lt;/li&gt;
&lt;li&gt;Distributions&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;missing-data&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Missing Data&lt;/h3&gt;
&lt;p&gt;A first step in exploring the data is to explore if there are any missing data present in the data (likely). This is not an easy step, but determining the amount of missing data and, if possible, why these values are missing are important first steps. One quick way to get a view of this information for the entire data is to use the &lt;code&gt;summary&lt;/code&gt; command. An example is given with the &lt;code&gt;flights&lt;/code&gt; data below.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(flights)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       year          month             day           dep_time    sched_dep_time
##  Min.   :2013   Min.   : 1.000   Min.   : 1.00   Min.   :   1   Min.   : 106  
##  1st Qu.:2013   1st Qu.: 4.000   1st Qu.: 8.00   1st Qu.: 907   1st Qu.: 906  
##  Median :2013   Median : 7.000   Median :16.00   Median :1401   Median :1359  
##  Mean   :2013   Mean   : 6.549   Mean   :15.71   Mean   :1349   Mean   :1344  
##  3rd Qu.:2013   3rd Qu.:10.000   3rd Qu.:23.00   3rd Qu.:1744   3rd Qu.:1729  
##  Max.   :2013   Max.   :12.000   Max.   :31.00   Max.   :2400   Max.   :2359  
##                                                  NA&amp;#39;s   :8255                 
##    dep_delay          arr_time    sched_arr_time   arr_delay       
##  Min.   : -43.00   Min.   :   1   Min.   :   1   Min.   : -86.000  
##  1st Qu.:  -5.00   1st Qu.:1104   1st Qu.:1124   1st Qu.: -17.000  
##  Median :  -2.00   Median :1535   Median :1556   Median :  -5.000  
##  Mean   :  12.64   Mean   :1502   Mean   :1536   Mean   :   6.895  
##  3rd Qu.:  11.00   3rd Qu.:1940   3rd Qu.:1945   3rd Qu.:  14.000  
##  Max.   :1301.00   Max.   :2400   Max.   :2359   Max.   :1272.000  
##  NA&amp;#39;s   :8255      NA&amp;#39;s   :8713                  NA&amp;#39;s   :9430      
##    carrier              flight       tailnum             origin         
##  Length:336776      Min.   :   1   Length:336776      Length:336776     
##  Class :character   1st Qu.: 553   Class :character   Class :character  
##  Mode  :character   Median :1496   Mode  :character   Mode  :character  
##                     Mean   :1972                                        
##                     3rd Qu.:3465                                        
##                     Max.   :8500                                        
##                                                                         
##      dest              air_time        distance         hour      
##  Length:336776      Min.   : 20.0   Min.   :  17   Min.   : 1.00  
##  Class :character   1st Qu.: 82.0   1st Qu.: 502   1st Qu.: 9.00  
##  Mode  :character   Median :129.0   Median : 872   Median :13.00  
##                     Mean   :150.7   Mean   :1040   Mean   :13.18  
##                     3rd Qu.:192.0   3rd Qu.:1389   3rd Qu.:17.00  
##                     Max.   :695.0   Max.   :4983   Max.   :23.00  
##                     NA&amp;#39;s   :9430                                  
##      minute        time_hour                  
##  Min.   : 0.00   Min.   :2013-01-01 05:00:00  
##  1st Qu.: 8.00   1st Qu.:2013-04-04 13:00:00  
##  Median :29.00   Median :2013-07-03 10:00:00  
##  Mean   :26.23   Mean   :2013-07-03 05:22:54  
##  3rd Qu.:44.00   3rd Qu.:2013-10-01 07:00:00  
##  Max.   :59.00   Max.   :2013-12-31 23:00:00  
## &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This summary can be a bit difficult to digest at first, but can give some useful insight into the variables, including the amount of missing data for each variable.&lt;/p&gt;
&lt;p&gt;You can dive into looking at specific rows that are missing with the &lt;code&gt;filter&lt;/code&gt; command and the &lt;code&gt;is.na&lt;/code&gt; function. An example pulling out rows with a missing dep_time values is illustrated:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(flights, is.na(dep_time))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8,255 × 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;    &amp;lt;int&amp;gt;          &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;          &amp;lt;int&amp;gt;
##  1  2013     1     1       NA           1630        NA       NA           1815
##  2  2013     1     1       NA           1935        NA       NA           2240
##  3  2013     1     1       NA           1500        NA       NA           1825
##  4  2013     1     1       NA            600        NA       NA            901
##  5  2013     1     2       NA           1540        NA       NA           1747
##  6  2013     1     2       NA           1620        NA       NA           1746
##  7  2013     1     2       NA           1355        NA       NA           1459
##  8  2013     1     2       NA           1420        NA       NA           1644
##  9  2013     1     2       NA           1321        NA       NA           1536
## 10  2013     1     2       NA           1545        NA       NA           1910
## # … with 8,245 more rows, and 11 more variables: arr_delay &amp;lt;dbl&amp;gt;,
## #   carrier &amp;lt;chr&amp;gt;, flight &amp;lt;int&amp;gt;, tailnum &amp;lt;chr&amp;gt;, origin &amp;lt;chr&amp;gt;, dest &amp;lt;chr&amp;gt;,
## #   air_time &amp;lt;dbl&amp;gt;, distance &amp;lt;dbl&amp;gt;, hour &amp;lt;dbl&amp;gt;, minute &amp;lt;dbl&amp;gt;, time_hour &amp;lt;dttm&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can also build more complex operations to look at data that is missing for one variable, but not another. For instance, if you look at the summary information above, you may notice there are more missing values for the arr_delay variable compared to the arr_time variable. To look at these values you can use the following command:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(flights, is.na(arr_delay) &amp;amp; !is.na(arr_time))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 717 × 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;    &amp;lt;int&amp;gt;          &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;          &amp;lt;int&amp;gt;
##  1  2013     1     1     1525           1530        -5     1934           1805
##  2  2013     1     1     1528           1459        29     2002           1647
##  3  2013     1     1     1740           1745        -5     2158           2020
##  4  2013     1     1     1807           1738        29     2251           2103
##  5  2013     1     1     1939           1840        59       29           2151
##  6  2013     1     1     1952           1930        22     2358           2207
##  7  2013     1     2      905            822        43     1313           1045
##  8  2013     1     2     1125            925       120     1445           1146
##  9  2013     1     2     1848           1840         8     2333           2151
## 10  2013     1     2     1849           1724        85     2235           1938
## # … with 707 more rows, and 11 more variables: arr_delay &amp;lt;dbl&amp;gt;, carrier &amp;lt;chr&amp;gt;,
## #   flight &amp;lt;int&amp;gt;, tailnum &amp;lt;chr&amp;gt;, origin &amp;lt;chr&amp;gt;, dest &amp;lt;chr&amp;gt;, air_time &amp;lt;dbl&amp;gt;,
## #   distance &amp;lt;dbl&amp;gt;, hour &amp;lt;dbl&amp;gt;, minute &amp;lt;dbl&amp;gt;, time_hour &amp;lt;dttm&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This may actually be a data error, as there is an arr_time value, a scheduled_arr_time value, but no arr_delay value. This could then be calculated manually to reduce the number of missing values with this variable.&lt;/p&gt;
&lt;div id=&#34;viewing-missing-data-graphically&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Viewing missing data graphically&lt;/h4&gt;
&lt;p&gt;It may be useful to view missing data graphically. This may be useful to see if there are specific trends in the data in relation to the missing values. A few ways to plot these data may be useful.&lt;/p&gt;
&lt;p&gt;First, it is always a good rule to explore missing data in relation to other variables in the data. If there is evidence that another variable is influencing whether a value is missing, additional statistical controls are needed to adjust for these concerns.&lt;/p&gt;
&lt;p&gt;For example, we could explore if the scheduled arrival time is related to whether the actual arrival flight time is missing.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights %&amp;gt;%
  mutate(
    miss_arrival = is.na(arr_time)
  ) %&amp;gt;%
  ggplot(mapping = aes(sched_arr_time)) + 
  geom_freqpoly(aes(color = miss_arrival)) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/arrival_missing-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Notice that the count metric masks much of what is being visualized here as there are many more flights that arrived compared to those with missing times. To adjust this, we simply need to change the y-axis from counts to density.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights %&amp;gt;%
  mutate(
    miss_arrival = is.na(arr_time)
  ) %&amp;gt;%
  ggplot(mapping = aes(x = sched_arr_time, y = ..density..)) + 
  geom_freqpoly(aes(color = miss_arrival)) +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/miss_density-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The two curves are now standardized so that the area under each curve equals 1, which in turn makes comparison between the two groups easier.&lt;/p&gt;
&lt;p&gt;One other special note, for EDA internally, there is no need to spend much time worrying about formatting of the graphics. However, if this plot above would be included in a report or manuscript, this figure would need additional polish to be included.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;variation&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Variation&lt;/h3&gt;
&lt;p&gt;Another common EDA question is related to variation. Variation is important for statistics, without variation there is no need to do statistics. The best way to explore variation of any type of variable is through visulization. This section will be broken into two sub areas, one that explores qualitative and another that explores quantitative.&lt;/p&gt;
&lt;div id=&#34;qualitative-variables&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Qualitative Variables&lt;/h4&gt;
&lt;p&gt;Bar graphs (frequency tables) are commonly used to explore variation in qualitative variables. For example, if we wished to explore the number of flights that took off for each month of the year from NYC:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(factor(month))) + 
  geom_bar() + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/count_flights-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;One special note about the above code, I used the &lt;code&gt;factor()&lt;/code&gt; function so that ggplot specifically added all the values of the variable to the x-axis. By default since the month variable is being treated as an integer (a number), it would not show all the values for month.&lt;/p&gt;
&lt;p&gt;These counts could be calculated manually with the use of dplyr using the &lt;code&gt;count&lt;/code&gt; function. The &lt;code&gt;count&lt;/code&gt; function basically creates a frequency table. More complex tables can be created by passing additional variables to the &lt;code&gt;count&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights %&amp;gt;%
  count(month)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 12 × 2
##    month     n
##    &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;
##  1     1 27004
##  2     2 24951
##  3     3 28834
##  4     4 28330
##  5     5 28796
##  6     6 28243
##  7     7 29425
##  8     8 29327
##  9     9 27574
## 10    10 28889
## 11    11 27268
## 12    12 28135&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Copy the code from the bar graph above, but instead of wrapping the month variable in factor, try it without it. What is different? Extra, using the &lt;code&gt;scale_x_continuous&lt;/code&gt; function, can you manually add each of the 12 numeric month values to the plot?&lt;/li&gt;
&lt;li&gt;Using dplyr, manually calculate the number of flights that took off for every day of every month. In other words, how many flights took off everyday of the year. Which day had the most flights?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;quantitative-variables&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Quantitative Variables&lt;/h4&gt;
&lt;p&gt;Histrograms, frequency polygons, or density curves are three common options to explore variation with quantitative variables. Within the flights data, suppose we were interested in exploring the variation in the distance traveled, this could easily be done with a histrogram.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(distance)) + 
  geom_histogram() + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/distance_hist-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We could also use a frequency polygon:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(distance)) + 
  geom_freqpoly() + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/distance_freqpoly-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We could also use a density curve:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(distance)) + 
  geom_density() + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/distance_density-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;When exploring the variation for a single variable overall, I tend to use histograms. However, when attempting to see if the variation changes across values of a categorical variable, histograms are difficult as the groups likely overlap. These are instances when using the frequency polygon or density curves are useful. Here are examples of both when exploring variation differences by month.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(distance)) + 
  geom_freqpoly(aes(color = factor(month))) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/distance_month-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(distance)) + 
  geom_density(aes(color = factor(month))) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/distance_month-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can also calculate the counts plotted in the histograms and frequency polygons using the &lt;code&gt;count&lt;/code&gt; as with qualitative variables. We just now need to use the &lt;code&gt;cut_width&lt;/code&gt; function to specify bins.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights %&amp;gt;%
  count(cut_width(distance, 100))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 28 × 2
##    `cut_width(distance, 100)`     n
##    &amp;lt;fct&amp;gt;                      &amp;lt;int&amp;gt;
##  1 [-50,50]                       1
##  2 (50,150]                    2514
##  3 (150,250]                  36839
##  4 (250,350]                  18442
##  5 (350,450]                  15233
##  6 (450,550]                  29149
##  7 (550,650]                  11688
##  8 (650,750]                  33482
##  9 (750,850]                  19482
## 10 (850,950]                  19644
## # … with 18 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note, these counts may differ from above as the binwidth was not specifically stated when creating the histrogram or frequency polygon.&lt;/p&gt;
&lt;p&gt;It may also be useful to calculate the variance, standard deviation, or the range. These can be calculated using the &lt;code&gt;summarize&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights %&amp;gt;%
  summarize(
    var_dist = var(distance, na.rm = TRUE),
    sd_dist = sd(distance, na.rm = TRUE),
    min_dist = min(distance, na.rm = TRUE),
    max_dist = max(distance, na.rm = TRUE)
  )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 × 4
##   var_dist sd_dist min_dist max_dist
##      &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;
## 1  537631.    733.       17     4983&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You could pair this with the &lt;code&gt;group_by&lt;/code&gt; function to calculate these values for different groups (e.g. by month).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;exercises-1&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Explore variation in the air_time variable.&lt;/li&gt;
&lt;li&gt;Does the variation in the air_time variable differ by month?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;distributions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Distributions&lt;/h3&gt;
&lt;p&gt;Exploring distributions for variables is a very similar process to exploring the variation, the question is just different. Most often we are interested in exploring if the shape of the distribution is approximately normal. This will become more interesting when we start fitting models to explore potential assumption violations in the residuals. We leave these discussions until then.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;covariation&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Covariation&lt;/h3&gt;
&lt;p&gt;Covariation is the process of comparing how two (or more) variables are related. The most common method for exploring covariation is through scatterplots. However, these are most natural for two continuous variables. Other plots are useful for a mixture of variable types or for two qualitative variables. We will explore each in turn.&lt;/p&gt;
&lt;div id=&#34;two-qualitative-variables&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Two Qualitative Variables&lt;/h4&gt;
&lt;p&gt;Covariation in two qualitative variables is more difficult to view visually due to the restricted possible values in each variable. Suppose for example, we wished to explore covariation in the origin of the flight and the carrier.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(origin, carrier)) + 
  geom_count()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/carrier_origin-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot is okay, however, I think a more useful plot is to use a tile plot to explore these differences with color.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights %&amp;gt;%
  count(origin, carrier) %&amp;gt;%
  ggplot(aes(origin, carrier)) + 
  geom_tile(aes(fill = n)) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/origin_carrier_tile-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Note, that holes mean missing values (i.e. no flights from that airport from that carrier).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;exercises-2&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Explore the covariation between the month and day variables. Note, these are treated as continuous in the data, but in reality they are likely best represented as qualitative.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;two-quantitative-variables&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Two Quantitative Variables&lt;/h4&gt;
&lt;p&gt;Scatterplots are useful for two quantitative variables. Suppose for example that we wish to explore the relationship between the air_time variable and the arr_delay variable. This could be done with a scatterplot.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(air_time, arr_delay)) + 
  geom_point() + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 9430 rows containing missing values (geom_point).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/quant_cov-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;One problem with the plot above, is overplotting. There are two fixes for this, one is to use transparent points using the &lt;code&gt;alpha&lt;/code&gt; argument to the &lt;code&gt;geom_point&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(air_time, arr_delay)) + 
  geom_point(alpha = .05) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 9430 rows containing missing values (geom_point).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/transparency-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Another approach that will simplify the exploration is to use boxplots. This will involve grouping the air_time variable into “bins.”&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(x = air_time, y = arr_delay)) + 
  geom_boxplot(aes(group = cut_width(air_time, 50))) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 9430 rows containing missing values (stat_boxplot).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/boxplot_twoquant-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Even another more sophisticated graphic is to do the quantitative alternative to &lt;code&gt;geom_tile&lt;/code&gt;. Note, the code below uses the hexbin package, but a similar function is &lt;code&gt;geom_bin2d&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# install.packages(&amp;quot;hexbin&amp;quot;)
library(hexbin)
ggplot(flights, aes(x = air_time, y = arr_delay)) + 
  geom_hex()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 9430 rows containing non-finite values (stat_binhex).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/hex_twoquant-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;adding-a-third-variable&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Adding a Third Variable&lt;/h4&gt;
&lt;p&gt;Adding a third variable is often useful, but can be difficult to think about procedurally. The type of plot that is useful depends on the type the third variable is. For example, if the third variable is also quantitative, the visualization is more difficult, however, if the third variable is qualitative, there are two main options. These will be explored in more detail below.&lt;/p&gt;
&lt;p&gt;The main two approaches for adding a third variable when it is qualitative is to use a different color/shape for the values of this variable or to facet the plot. Suppose we wished to explore the covariation between the following three variables: air_time, arr_delay, and origin. The two different options are shown below.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(air_time, arr_delay)) + 
  geom_hex() + 
  facet_grid(. ~ origin) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 9430 rows containing non-finite values (stat_binhex).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/three_vars-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(air_time, arr_delay)) + 
  geom_point(aes(color = origin), alpha = .05) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 9430 rows containing missing values (geom_point).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/three_vars-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Plotting three quantitative variables commonly involves binning one one the variables to turn it into an ordinal variable with different levels. For example, see the example with two variables and the boxplot, a similar approach could be used to facet by this third variable. Below is a simple example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(x = air_time, y = arr_delay)) + 
  geom_hex() + 
  theme_bw() + 
  facet_wrap(~ cut_width(dep_time, 250))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 9430 rows containing non-finite values (stat_binhex).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/three_quant-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;one-quantitative-one-qualitative&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;One Quantitative, One Qualitative&lt;/h4&gt;
&lt;p&gt;This was actually already discussed in the discussion of variation by exploring differences in variation for different levels of a qualitative variable (see above). If the variation differs by groups, there is then evidence of covariation.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;correlations&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Correlations&lt;/h4&gt;
&lt;p&gt;It is also useful to calculate and visualize raw correlations. To calculate raw correlations (assuming only quantitative variables), the &lt;code&gt;cor&lt;/code&gt; function is useful.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights %&amp;gt;%
  select(air_time, arr_delay, dep_time) %&amp;gt;%
  cor(use = &amp;#39;pairwise.complete.obs&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##              air_time   arr_delay    dep_time
## air_time   1.00000000 -0.03529709 -0.01461948
## arr_delay -0.03529709  1.00000000  0.23230573
## dep_time  -0.01461948  0.23230573  1.00000000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To visualize a correlation matrix, the GGally package is useful. Note, the &lt;code&gt;ggpairs&lt;/code&gt; function can take some time to run.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# install.package(&amp;quot;GGally&amp;quot;)
library(GGally)
flights %&amp;gt;%
  select(air_time, arr_delay, dep_time) %&amp;gt;%
  na.omit() %&amp;gt;%
  sample_n(1000) %&amp;gt;%
  ggpairs()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/ggally-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;exercises-3&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Explore covariation in the dep_delay and arr_delay variables. What type of relationship, if any, appears to be present?&lt;/li&gt;
&lt;li&gt;Explore the relationship between dep_delay, arr_delay, and origin. What type of relationship is present. Does the relationship between dep_delay and arr_delay differ by origin?&lt;/li&gt;
&lt;li&gt;Finally, calculate the correlation matrix for dep_delay, arr_delay, and dep_time.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;rarecommon-cases&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Rare/Common Cases&lt;/h3&gt;
&lt;p&gt;The last question of use to explore when performing EDA is looking for the presence of rare or common cases. In other words, an exploration of any outliers and the central tendency of the distribution.&lt;/p&gt;
&lt;p&gt;When we explored variation in the distance variable earlier, there may have been extreme values we’d want to explore in more detail.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(distance)) + 
  geom_histogram() +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/distance_extreme-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Notice the large distance value, to get a better view of how many there are here, we can use &lt;code&gt;coord_cartesian&lt;/code&gt; to zoom in.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(distance)) + 
  geom_histogram() + 
  theme_bw() + 
  coord_cartesian(ylim = c(0, 5000))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/distance_coord-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Note, that in the above plot, &lt;code&gt;coord_cartesian&lt;/code&gt; does not remove any points, simply changes the coordinates that are plotted. We could also pull these out using filter as well.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights %&amp;gt;%
  filter(distance &amp;gt; 3000) %&amp;gt;%
  arrange(distance)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 715 × 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;    &amp;lt;int&amp;gt;          &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;          &amp;lt;int&amp;gt;
##  1  2013     7     6     1629           1615        14     1954           1953
##  2  2013     7    13     1618           1615         3     1955           1953
##  3  2013     7    20     1618           1615         3     2003           1953
##  4  2013     7    27     1617           1615         2     1906           1953
##  5  2013     8     3     1615           1615         0     2003           1953
##  6  2013     8    10     1613           1615        -2     1922           1953
##  7  2013     8    17     1740           1625        75     2042           2003
##  8  2013     8    24     1633           1625         8     1959           2003
##  9  2013     1     1     1344           1344         0     2005           1944
## 10  2013     1     2     1344           1344         0     1940           1944
## # … with 705 more rows, and 11 more variables: arr_delay &amp;lt;dbl&amp;gt;, carrier &amp;lt;chr&amp;gt;,
## #   flight &amp;lt;int&amp;gt;, tailnum &amp;lt;chr&amp;gt;, origin &amp;lt;chr&amp;gt;, dest &amp;lt;chr&amp;gt;, air_time &amp;lt;dbl&amp;gt;,
## #   distance &amp;lt;dbl&amp;gt;, hour &amp;lt;dbl&amp;gt;, minute &amp;lt;dbl&amp;gt;, time_hour &amp;lt;dttm&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;measures-of-central-tendency&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Measures of Central Tendency&lt;/h4&gt;
&lt;p&gt;Exploring measures of central tendency or simply common values/repeated of common values can also be important.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(flights, aes(arr_time)) +
  geom_histogram(binwidth = 50) +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 8713 rows containing non-finite values (stat_bin).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/eda_files/figure-html/common_values-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Measures of central tendency can be directly calculated using the &lt;code&gt;summarise&lt;/code&gt; function. For example, exploring central tendency of the arr_delay variable.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights %&amp;gt;%
  summarise(
    avg_arrdelay = mean(arr_delay, na.rm = TRUE),
    med_arrdelay = median(arr_delay, na.rm = TRUE)
  )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 × 2
##   avg_arrdelay med_arrdelay
##          &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;
## 1         6.90           -5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;More interesting computations can be performed by using adding in the &lt;code&gt;group_by&lt;/code&gt; function.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;exercises-4&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the &lt;code&gt;txhousing&lt;/code&gt; data, explore rare/common cases in the median sale price for the following 3 cities: Austin, Dallas, and Houston.&lt;/li&gt;
&lt;li&gt;Using the data from #1, explore measures of central tendency in the median sale price of these three cities. How have these changed over time (year)?&lt;/li&gt;
&lt;li&gt;Create an effective visualization that explores differences in the median sale price over time for these three cities.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Week 7</title>
      <link>https://psqf6250.brandonlebeau.org/content/07-week7/</link>
      <pubDate>Mon, 21 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/07-week7/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week will get you oriented for working with factor variables in R which can be useful for linear modeling (to come next week). Then the week will also explore how to manipulate character vectors to extract information you may want. As part of this, special functionality for extracting dates will be explored.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Identify character and factor data attributes&lt;/li&gt;
&lt;li&gt;Manipulate factor data attributes&lt;/li&gt;
&lt;li&gt;Manipulate character vectors&lt;/li&gt;
&lt;li&gt;Extract dates using the lubridate package&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;activities&#34;&gt;Activities&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;R for Data Science - chapters &lt;a href=&#34;https://r4ds.had.co.nz/factors.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;15&lt;/a&gt;, &lt;a href=&#34;https://r4ds.had.co.nz/dates-and-times.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;16&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Intro to Factors&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=f0e8abd8-1626-41f2-8b7d-bead7d13dc43&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Factor Manipulations&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=3f50812b-e267-475b-b386-a4e78ea84144&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Rename Factor Levels&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=86213b69-150d-4a3b-96ca-d1a2d859696e&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Basic Character String Tasks&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=586fd457-ae19-489e-ad52-ac4e012426e3&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Introduction to Regular Expressions&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=dda278aa-b0f0-45c9-b9b0-ac4e012789fe&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Regular Expression Functions&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=54abaf26-1190-4897-a261-ac4e012ad403&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Real-world Examples - working with dates&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=3a338c17-ef69-4dde-a88c-ac4f00153874&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/factors/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Factors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/strings/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Strings&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;p&gt;To come &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R Projects -  RStudio</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/projects/</link>
      <pubDate>Mon, 15 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/projects/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;I want to talk briefly about RStudio projects. These are a great way to structure each individual project. Chapter 8 in the R for Data Science text will provide a more thorough discussion of RStudio projects: &lt;a href=&#34;http://r4ds.had.co.nz/workflow-projects.html&#34; class=&#34;uri&#34;&gt;http://r4ds.had.co.nz/workflow-projects.html&lt;/a&gt;&lt;/p&gt;
&lt;div id=&#34;working-directory&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Working Directory&lt;/h2&gt;
&lt;p&gt;As we move into reading in data files, the idea of a working directory will become even more important. RStudio projects makes this discussion much easier as the root of the project directory is treated as the working directory. The nice aspect of this is that all paths to data files are in reference to this root project directory (more on this coming soon).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;project-structure&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Project Structure&lt;/h2&gt;
&lt;p&gt;The last aspect I want to share is a common project directory structure. Everyone can have slightly different versions, but I want to share what I have come to commonly use. The following structure is how I tend to structure most or my projects.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;https://psqf6250.brandonlebeau.org/img/project_structure.png&#34; alt=&#34;&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;Project Structure&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Another way to visualize this structure is as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Project Root:
&lt;ul&gt;
&lt;li&gt;Data&lt;/li&gt;
&lt;li&gt;example&lt;/li&gt;
&lt;li&gt;paper&lt;/li&gt;
&lt;li&gt;R&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Week 8</title>
      <link>https://psqf6250.brandonlebeau.org/content/08-week8/</link>
      <pubDate>Mon, 28 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/08-week8/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week will explore fitting statistical models within R. More specifically, regression models will be explored with categorical predictors. Focus will be on interpretation and evaluating model fit. Future weeks will explore more complicated models and also visualizing and exploring assumptions.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fit a regression model in R&lt;/li&gt;
&lt;li&gt;Interpret model parameters&lt;/li&gt;
&lt;li&gt;Evaluate model fitting&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Introduction to Models&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=f5b67485-81a6-4b62-92ee-0e566fe89642&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;lm()&lt;/code&gt; Behind the Scenes&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=19e26a41-4867-4c16-9b25-d86e5dbdc0f4&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Single Categorical Predictor&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=fd9ff7ad-067e-48f5-9759-60a5477a3c51&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Evaluating Model Fit&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=fda12496-44a1-437e-b647-2c9dee500e7b&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/model-intro/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Model Intro&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;p&gt;To come &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Data Import</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/data_import/</link>
      <pubDate>Thu, 18 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/data_import/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;So far we have solely used data that is already found within R by way of packages. Obviously, we will want to use our own data and this involves importing data directly into R. We are going to focus on two types of data structures to read in, text files and excel files.&lt;/p&gt;
&lt;p&gt;The following two packages will be used in this section.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
# install.packages(&amp;quot;readxl&amp;quot;)
library(readxl)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;text-files&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Text Files&lt;/h2&gt;
&lt;p&gt;Through the use of the &lt;code&gt;readr&lt;/code&gt; package, we are going to read in flat text files. In many cases, these text files are saved as csv files. The csv stands for comma separated values files meaning that columns in the data are separated by columns. As a side note, this is the most common way that I save data and read in data. The nice aspect of csv files is that if needed, they can be opened in programs like Excel for viewing, but are still just text files which are simple and lightweight.&lt;/p&gt;
&lt;p&gt;To read in a csv file, we are going to use the &lt;code&gt;read_csv&lt;/code&gt; function from the &lt;code&gt;readr&lt;/code&gt; package. We are going to read in some UFO data (the data can be found on the &lt;a href=&#34;https://psqf6250.brandonlebeau.org/data/&#34;&gt;course website&lt;/a&gt;). The code below is going to read the data directly from the GitHub where the data are currently being stored.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo &amp;lt;- read_csv(&amp;quot;https://raw.githubusercontent.com/lebebr01/psqf-6250-blogdown/main/data/ufo.csv&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 8031 Columns: 7
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &amp;quot;,&amp;quot;
## chr (7): Date / Time, City, State, Shape, Duration, Summary, Posted
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A special note here, if you downloaded the data, I recommend putting the downloaded data within an RStudio project in a folder named “Data” or “data”. The updated code (not run here), would look like (assuming the data are in the “data” folder within an RStudio project):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo &amp;lt;- read_csv(&amp;#39;data/ufo.csv&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note again, similar to dplyr, when saving the data to an object, it will not be printed. We can now view the first 10 rows by typing the object name.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8,031 × 7
##    `Date / Time`  City                     State Shape   Duration Summary Posted
##    &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;                    &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt; 
##  1 12/12/14 17:30 North Wales              PA    Triang… 5 minut… &amp;quot;I hea… &amp;lt;NA&amp;gt;  
##  2 12/12/14 12:40 Cartersville             GA    Unknown 3.6 min… &amp;quot;Looki… 12/12…
##  3 12/12/14 06:30 Isle of Man (UK/England) &amp;lt;NA&amp;gt;  Light   2 secon… &amp;quot;Over … 12/12…
##  4 12/12/14 01:00 Miamisburg               OH    Changi… &amp;lt;NA&amp;gt;     &amp;quot;Brigh… 12/12…
##  5 12/12/14 00:00 Spotsylvania             VA    Unknown 1 minute &amp;quot;White… 12/12…
##  6 12/11/14 23:25 Kenner                   LA    Chevron ~1 minu… &amp;quot;Stran… 12/12…
##  7 12/11/14 23:15 Eugene                   OR    Disk    2 minut… &amp;quot;Dual … 12/12…
##  8 12/11/14 20:04 Phoenix                  AZ    Chevron 3 minut… &amp;quot;4 Ora… 12/12…
##  9 12/11/14 20:00 Franklin                 NC    Disk    5 minut… &amp;quot;There… 12/12…
## 10 12/11/14 18:30 Longview                 WA    Cylind… 10 seco… &amp;quot;Two c… 12/12…
## # … with 8,021 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By default, the &lt;code&gt;read_csv&lt;/code&gt; function uses the first row of the data file as the names of the variables. To override this behavior, set &lt;code&gt;col_names = FALSE&lt;/code&gt; or better yet, specify the names with the &lt;code&gt;col_names&lt;/code&gt; argument. In addition, if the file has header metadata, rows of the data can be skipped with the &lt;code&gt;skip&lt;/code&gt; argument. For example, reading in the same data as above, but skipping the first row and specifying the names manually would look as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;read_csv(&amp;quot;https://raw.githubusercontent.com/lebebr01/psqf-6250-blogdown/main/data/ufo.csv&amp;quot;, skip = 1, 
         col_names = c(&amp;#39;Date/Time&amp;#39;, &amp;#39;City&amp;#39;, &amp;#39;State&amp;#39;, 
                       &amp;#39;Shape&amp;#39;, &amp;#39;Duration&amp;#39;, &amp;#39;Summary&amp;#39;,
                       &amp;#39;Posted&amp;#39;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 8031 Columns: 7
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &amp;quot;,&amp;quot;
## chr (7): Date/Time, City, State, Shape, Duration, Summary, Posted
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8,031 × 7
##    `Date/Time`    City                     State Shape   Duration Summary Posted
##    &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;                    &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt; 
##  1 12/12/14 17:30 North Wales              PA    Triang… 5 minut… &amp;quot;I hea… &amp;lt;NA&amp;gt;  
##  2 12/12/14 12:40 Cartersville             GA    Unknown 3.6 min… &amp;quot;Looki… 12/12…
##  3 12/12/14 06:30 Isle of Man (UK/England) &amp;lt;NA&amp;gt;  Light   2 secon… &amp;quot;Over … 12/12…
##  4 12/12/14 01:00 Miamisburg               OH    Changi… &amp;lt;NA&amp;gt;     &amp;quot;Brigh… 12/12…
##  5 12/12/14 00:00 Spotsylvania             VA    Unknown 1 minute &amp;quot;White… 12/12…
##  6 12/11/14 23:25 Kenner                   LA    Chevron ~1 minu… &amp;quot;Stran… 12/12…
##  7 12/11/14 23:15 Eugene                   OR    Disk    2 minut… &amp;quot;Dual … 12/12…
##  8 12/11/14 20:04 Phoenix                  AZ    Chevron 3 minut… &amp;quot;4 Ora… 12/12…
##  9 12/11/14 20:00 Franklin                 NC    Disk    5 minut… &amp;quot;There… 12/12…
## 10 12/11/14 18:30 Longview                 WA    Cylind… 10 seco… &amp;quot;Two c… 12/12…
## # … with 8,021 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;manually-specifying-column-types&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Manually Specifying Column Types&lt;/h3&gt;
&lt;p&gt;You may have noticed above that we just needed to give the &lt;code&gt;read_csv&lt;/code&gt; function the path to the data file, we did not need to tell the function the types of columns. Instead, the function guessed the type from the first 1000 rows. This can be useful for interactive work, but for truly reproducible code, it is best to specify these manually. There are two ways to specify the column types, one is verbose and the other is simpler, but both use the argument &lt;code&gt;col_types&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;First the verbose solution:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;read_csv(&amp;quot;https://raw.githubusercontent.com/lebebr01/psqf-6250-blogdown/main/data/ufo.csv&amp;quot;, 
         col_types = c(
           &amp;#39;Date/Time&amp;#39; = col_character(),
           City = col_character(),
           State = col_character(),
           Shape = col_character(),
           Duration = col_character(),
           Summary = col_character(),
           Posted = col_character()
         ))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8,031 × 7
##    `Date / Time`  City                     State Shape   Duration Summary Posted
##    &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;                    &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt; 
##  1 12/12/14 17:30 North Wales              PA    Triang… 5 minut… &amp;quot;I hea… &amp;lt;NA&amp;gt;  
##  2 12/12/14 12:40 Cartersville             GA    Unknown 3.6 min… &amp;quot;Looki… 12/12…
##  3 12/12/14 06:30 Isle of Man (UK/England) &amp;lt;NA&amp;gt;  Light   2 secon… &amp;quot;Over … 12/12…
##  4 12/12/14 01:00 Miamisburg               OH    Changi… &amp;lt;NA&amp;gt;     &amp;quot;Brigh… 12/12…
##  5 12/12/14 00:00 Spotsylvania             VA    Unknown 1 minute &amp;quot;White… 12/12…
##  6 12/11/14 23:25 Kenner                   LA    Chevron ~1 minu… &amp;quot;Stran… 12/12…
##  7 12/11/14 23:15 Eugene                   OR    Disk    2 minut… &amp;quot;Dual … 12/12…
##  8 12/11/14 20:04 Phoenix                  AZ    Chevron 3 minut… &amp;quot;4 Ora… 12/12…
##  9 12/11/14 20:00 Franklin                 NC    Disk    5 minut… &amp;quot;There… 12/12…
## 10 12/11/14 18:30 Longview                 WA    Cylind… 10 seco… &amp;quot;Two c… 12/12…
## # … with 8,021 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As all variables are being read in as characters, there is a simple shortcut to use.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;read_csv(&amp;quot;https://raw.githubusercontent.com/lebebr01/psqf-6250-blogdown/main/data/ufo.csv&amp;quot;, 
         col_types = c(&amp;#39;ccccccc&amp;#39;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8,031 × 7
##    `Date / Time`  City                     State Shape   Duration Summary Posted
##    &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;                    &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt; 
##  1 12/12/14 17:30 North Wales              PA    Triang… 5 minut… &amp;quot;I hea… &amp;lt;NA&amp;gt;  
##  2 12/12/14 12:40 Cartersville             GA    Unknown 3.6 min… &amp;quot;Looki… 12/12…
##  3 12/12/14 06:30 Isle of Man (UK/England) &amp;lt;NA&amp;gt;  Light   2 secon… &amp;quot;Over … 12/12…
##  4 12/12/14 01:00 Miamisburg               OH    Changi… &amp;lt;NA&amp;gt;     &amp;quot;Brigh… 12/12…
##  5 12/12/14 00:00 Spotsylvania             VA    Unknown 1 minute &amp;quot;White… 12/12…
##  6 12/11/14 23:25 Kenner                   LA    Chevron ~1 minu… &amp;quot;Stran… 12/12…
##  7 12/11/14 23:15 Eugene                   OR    Disk    2 minut… &amp;quot;Dual … 12/12…
##  8 12/11/14 20:04 Phoenix                  AZ    Chevron 3 minut… &amp;quot;4 Ora… 12/12…
##  9 12/11/14 20:00 Franklin                 NC    Disk    5 minut… &amp;quot;There… 12/12…
## 10 12/11/14 18:30 Longview                 WA    Cylind… 10 seco… &amp;quot;Two c… 12/12…
## # … with 8,021 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To show the reason the more verbose is useful, suppose we wished to convert the ‘Data/Time’ variable to the correct type, a date time variable.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;read_csv(&amp;quot;https://raw.githubusercontent.com/lebebr01/psqf-6250-blogdown/main/data/ufo.csv&amp;quot;, 
         col_types = c(
           &amp;#39;Date / Time&amp;#39; = col_datetime(),
           City = col_character(),
           State = col_character(),
           Shape = col_character(),
           Duration = col_character(),
           Summary = col_character(),
           Posted = col_character()
         ))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error: Unknown shortcut:&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we get an error, which is caused by the fact that the date time variable specification needs a format statement. We can directly specify this.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo_date &amp;lt;- read_csv(&amp;quot;https://raw.githubusercontent.com/lebebr01/psqf-6250-blogdown/main/data/ufo.csv&amp;quot;, 
         col_types = list(
           &amp;#39;Date / Time&amp;#39; = col_datetime(format = &amp;quot;%m/%d/%y %H:%M&amp;quot;),
           City = col_character(),
           State = col_character(),
           Shape = col_character(),
           Duration = col_character(),
           Summary = col_character(),
           Posted = col_character()
         ))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: One or more parsing issues, see `problems()` for details&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo_date&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8,031 × 7
##    `Date / Time`       City                  State Shape Duration Summary Posted
##    &amp;lt;dttm&amp;gt;              &amp;lt;chr&amp;gt;                 &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt; 
##  1 2014-12-12 17:30:00 North Wales           PA    Tria… 5 minut… &amp;quot;I hea… &amp;lt;NA&amp;gt;  
##  2 2014-12-12 12:40:00 Cartersville          GA    Unkn… 3.6 min… &amp;quot;Looki… 12/12…
##  3 2014-12-12 06:30:00 Isle of Man (UK/Engl… &amp;lt;NA&amp;gt;  Light 2 secon… &amp;quot;Over … 12/12…
##  4 2014-12-12 01:00:00 Miamisburg            OH    Chan… &amp;lt;NA&amp;gt;     &amp;quot;Brigh… 12/12…
##  5 2014-12-12 00:00:00 Spotsylvania          VA    Unkn… 1 minute &amp;quot;White… 12/12…
##  6 2014-12-11 23:25:00 Kenner                LA    Chev… ~1 minu… &amp;quot;Stran… 12/12…
##  7 2014-12-11 23:15:00 Eugene                OR    Disk  2 minut… &amp;quot;Dual … 12/12…
##  8 2014-12-11 20:04:00 Phoenix               AZ    Chev… 3 minut… &amp;quot;4 Ora… 12/12…
##  9 2014-12-11 20:00:00 Franklin              NC    Disk  5 minut… &amp;quot;There… 12/12…
## 10 2014-12-11 18:30:00 Longview              WA    Cyli… 10 seco… &amp;quot;Two c… 12/12…
## # … with 8,021 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice even though I was careful in the column specification, there was still issues when parsing this column as a date/time column. The data is still returned, but there are issues. These issues can be viewed using the &lt;code&gt;problems&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;problems(ufo_date)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 56 × 5
##      row   col expected                 actual   file 
##    &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;                    &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;
##  1   120     1 date like %m/%d/%y %H:%M 12/1/14  &amp;quot;&amp;quot;   
##  2   195     1 date like %m/%d/%y %H:%M 11/27/14 &amp;quot;&amp;quot;   
##  3   237     1 date like %m/%d/%y %H:%M 11/24/14 &amp;quot;&amp;quot;   
##  4   408     1 date like %m/%d/%y %H:%M 11/15/14 &amp;quot;&amp;quot;   
##  5   666     1 date like %m/%d/%y %H:%M 10/31/14 &amp;quot;&amp;quot;   
##  6   798     1 date like %m/%d/%y %H:%M 10/25/14 &amp;quot;&amp;quot;   
##  7   947     1 date like %m/%d/%y %H:%M 10/19/14 &amp;quot;&amp;quot;   
##  8  1082     1 date like %m/%d/%y %H:%M 10/14/14 &amp;quot;&amp;quot;   
##  9  1123     1 date like %m/%d/%y %H:%M 10/12/14 &amp;quot;&amp;quot;   
## 10  1124     1 date like %m/%d/%y %H:%M 10/12/14 &amp;quot;&amp;quot;   
## # … with 46 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;other-text-formats&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Other Text Formats&lt;/h3&gt;
&lt;p&gt;There are other text formats used to read in data. They are listed below with the function used to read in that type. Note, that the function calls are identical to those specified above.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tsv - tab separated files - &lt;code&gt;read_tsv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;fixed width files - &lt;code&gt;read_fwf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;white space generally - &lt;code&gt;read_table&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;delimiter generally - &lt;code&gt;read_delim&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;There is a tsv file posted on icon called “lotr_clean.tsv”. Download this and read this data file into R.&lt;/li&gt;
&lt;li&gt;Instead of specifying the path, use the function &lt;code&gt;file.choose()&lt;/code&gt;. For example, &lt;code&gt;read_tsv(file.choose())&lt;/code&gt;. What does this function use? Would you recommend this to be used in a reproducible document?&lt;/li&gt;
&lt;li&gt;Run the &lt;code&gt;getwd()&lt;/code&gt; function from the R console. What does this function return?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;excel-files&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Excel Files&lt;/h2&gt;
&lt;p&gt;Although I commonly use text files (e.g. csv) files, reality is that many people still use Excel for storing of data files. There are good and bad aspects of this, but reading in Excel files may be needed. The &lt;code&gt;readxl&lt;/code&gt; package is useful for this task.&lt;/p&gt;
&lt;p&gt;Suppose we wished to read in the Excel file found on the US Census Bureau website related to Education: &lt;a href=&#34;https://www.census.gov/support/USACdataDownloads.html&#34; class=&#34;uri&#34;&gt;https://www.census.gov/support/USACdataDownloads.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;To do this, we can do this directly with the &lt;code&gt;read_excel&lt;/code&gt; function with the data already downloaded and posted to the &lt;a href=&#34;https://psqf6250.brandonlebeau.org/data/&#34;&gt;course website&lt;/a&gt;. Note, the &lt;code&gt;read_excel()&lt;/code&gt; function does not allow for reading in data from the web, instead the data need to be downloaded to a temp file, then this file is loaded into R. If you downloaded the data, I recommend placing it within a “Data” or “data” folder.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tf &amp;lt;- tempfile(fileext = &amp;quot;.xls&amp;quot;)
curl::curl_download(&amp;quot;https://github.com/lebebr01/psqf-6250-blogdown/blob/main/data/EDU01.xls?raw=true&amp;quot;, tf)

read_excel(tf)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3,198 × 42
##    Area_name     STCOU EDU010187F EDU010187D EDU010187N1 EDU010187N2 EDU010188F
##    &amp;lt;chr&amp;gt;         &amp;lt;chr&amp;gt;      &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;            &amp;lt;dbl&amp;gt;
##  1 UNITED STATES 00000          0   40024299 0000        0000                 0
##  2 ALABAMA       01000          0     733735 0000        0000                 0
##  3 Autauga, AL   01001          0       6829 0000        0000                 0
##  4 Baldwin, AL   01003          0      16417 0000        0000                 0
##  5 Barbour, AL   01005          0       5071 0000        0000                 0
##  6 Bibb, AL      01007          0       3557 0000        0000                 0
##  7 Blount, AL    01009          0       7319 0000        0000                 0
##  8 Bullock, AL   01011          0       2014 0000        0000                 0
##  9 Butler, AL    01013          0       4640 0000        0000                 0
## 10 Calhoun, AL   01015          0      20939 0000        0000                 0
## # … with 3,188 more rows, and 35 more variables: EDU010188D &amp;lt;dbl&amp;gt;,
## #   EDU010188N1 &amp;lt;chr&amp;gt;, EDU010188N2 &amp;lt;chr&amp;gt;, EDU010189F &amp;lt;dbl&amp;gt;, EDU010189D &amp;lt;dbl&amp;gt;,
## #   EDU010189N1 &amp;lt;chr&amp;gt;, EDU010189N2 &amp;lt;chr&amp;gt;, EDU010190F &amp;lt;dbl&amp;gt;, EDU010190D &amp;lt;dbl&amp;gt;,
## #   EDU010190N1 &amp;lt;chr&amp;gt;, EDU010190N2 &amp;lt;chr&amp;gt;, EDU010191F &amp;lt;dbl&amp;gt;, EDU010191D &amp;lt;dbl&amp;gt;,
## #   EDU010191N1 &amp;lt;chr&amp;gt;, EDU010191N2 &amp;lt;chr&amp;gt;, EDU010192F &amp;lt;dbl&amp;gt;, EDU010192D &amp;lt;dbl&amp;gt;,
## #   EDU010192N1 &amp;lt;chr&amp;gt;, EDU010192N2 &amp;lt;chr&amp;gt;, EDU010193F &amp;lt;dbl&amp;gt;, EDU010193D &amp;lt;dbl&amp;gt;,
## #   EDU010193N1 &amp;lt;chr&amp;gt;, EDU010193N2 &amp;lt;chr&amp;gt;, EDU010194F &amp;lt;dbl&amp;gt;, EDU010194D &amp;lt;dbl&amp;gt;, …&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By default, the function will read in the first sheet and will treat the first row as the column names. If you wish to read in another sheet, you can use the &lt;code&gt;sheet&lt;/code&gt; argument. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;read_excel(tf, sheet = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3,198 × 42
##    Area_name     STCOU EDU010197F EDU010197D EDU010197N1 EDU010197N2 EDU010198F
##    &amp;lt;chr&amp;gt;         &amp;lt;chr&amp;gt;      &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;            &amp;lt;dbl&amp;gt;
##  1 UNITED STATES 00000          0   44534459 0000        0000                 0
##  2 ALABAMA       01000          0     737386 0000        0000                 0
##  3 Autauga, AL   01001          0       8099 0000        0000                 0
##  4 Baldwin, AL   01003          0      21410 0000        0000                 0
##  5 Barbour, AL   01005          0       5100 0000        0000                 0
##  6 Bibb, AL      01007          0       3717 0000        0000                 0
##  7 Blount, AL    01009          0       7816 0000        0000                 0
##  8 Bullock, AL   01011          0       2010 0000        0000                 0
##  9 Butler, AL    01013          0       4119 0000        0000                 0
## 10 Calhoun, AL   01015          0      19721 0000        0000                 0
## # … with 3,188 more rows, and 35 more variables: EDU010198D &amp;lt;dbl&amp;gt;,
## #   EDU010198N1 &amp;lt;chr&amp;gt;, EDU010198N2 &amp;lt;chr&amp;gt;, EDU010199F &amp;lt;dbl&amp;gt;, EDU010199D &amp;lt;dbl&amp;gt;,
## #   EDU010199N1 &amp;lt;chr&amp;gt;, EDU010199N2 &amp;lt;chr&amp;gt;, EDU010200F &amp;lt;dbl&amp;gt;, EDU010200D &amp;lt;dbl&amp;gt;,
## #   EDU010200N1 &amp;lt;chr&amp;gt;, EDU010200N2 &amp;lt;chr&amp;gt;, EDU010201F &amp;lt;dbl&amp;gt;, EDU010201D &amp;lt;dbl&amp;gt;,
## #   EDU010201N1 &amp;lt;chr&amp;gt;, EDU010201N2 &amp;lt;chr&amp;gt;, EDU010202F &amp;lt;dbl&amp;gt;, EDU010202D &amp;lt;dbl&amp;gt;,
## #   EDU010202N1 &amp;lt;chr&amp;gt;, EDU010202N2 &amp;lt;chr&amp;gt;, EDU015203F &amp;lt;dbl&amp;gt;, EDU015203D &amp;lt;dbl&amp;gt;,
## #   EDU015203N1 &amp;lt;chr&amp;gt;, EDU015203N2 &amp;lt;chr&amp;gt;, EDU015204F &amp;lt;dbl&amp;gt;, EDU015204D &amp;lt;dbl&amp;gt;, …&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;read_excel(tf, sheet = &amp;#39;EDU01B&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3,198 × 42
##    Area_name     STCOU EDU010197F EDU010197D EDU010197N1 EDU010197N2 EDU010198F
##    &amp;lt;chr&amp;gt;         &amp;lt;chr&amp;gt;      &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;            &amp;lt;dbl&amp;gt;
##  1 UNITED STATES 00000          0   44534459 0000        0000                 0
##  2 ALABAMA       01000          0     737386 0000        0000                 0
##  3 Autauga, AL   01001          0       8099 0000        0000                 0
##  4 Baldwin, AL   01003          0      21410 0000        0000                 0
##  5 Barbour, AL   01005          0       5100 0000        0000                 0
##  6 Bibb, AL      01007          0       3717 0000        0000                 0
##  7 Blount, AL    01009          0       7816 0000        0000                 0
##  8 Bullock, AL   01011          0       2010 0000        0000                 0
##  9 Butler, AL    01013          0       4119 0000        0000                 0
## 10 Calhoun, AL   01015          0      19721 0000        0000                 0
## # … with 3,188 more rows, and 35 more variables: EDU010198D &amp;lt;dbl&amp;gt;,
## #   EDU010198N1 &amp;lt;chr&amp;gt;, EDU010198N2 &amp;lt;chr&amp;gt;, EDU010199F &amp;lt;dbl&amp;gt;, EDU010199D &amp;lt;dbl&amp;gt;,
## #   EDU010199N1 &amp;lt;chr&amp;gt;, EDU010199N2 &amp;lt;chr&amp;gt;, EDU010200F &amp;lt;dbl&amp;gt;, EDU010200D &amp;lt;dbl&amp;gt;,
## #   EDU010200N1 &amp;lt;chr&amp;gt;, EDU010200N2 &amp;lt;chr&amp;gt;, EDU010201F &amp;lt;dbl&amp;gt;, EDU010201D &amp;lt;dbl&amp;gt;,
## #   EDU010201N1 &amp;lt;chr&amp;gt;, EDU010201N2 &amp;lt;chr&amp;gt;, EDU010202F &amp;lt;dbl&amp;gt;, EDU010202D &amp;lt;dbl&amp;gt;,
## #   EDU010202N1 &amp;lt;chr&amp;gt;, EDU010202N2 &amp;lt;chr&amp;gt;, EDU015203F &amp;lt;dbl&amp;gt;, EDU015203D &amp;lt;dbl&amp;gt;,
## #   EDU015203N1 &amp;lt;chr&amp;gt;, EDU015203N2 &amp;lt;chr&amp;gt;, EDU015204F &amp;lt;dbl&amp;gt;, EDU015204D &amp;lt;dbl&amp;gt;, …&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If there is metadata or no column names, these can be added in the same fashion as discussed above with the &lt;code&gt;read_csv&lt;/code&gt; function. Finally, it should be noted, to use these data within R, you would want to save these data to an object within R.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;edu_data &amp;lt;- read_excel(tf)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;writing-files&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Writing Files&lt;/h2&gt;
&lt;p&gt;Most of the &lt;code&gt;read_*&lt;/code&gt; functions also come with functions that allow you to write out files as well. I’m only going to cover the &lt;code&gt;write_csv&lt;/code&gt; function, however, there are others that may be of use. Similarly to reading in files, the functionality is the same across the &lt;code&gt;write_*&lt;/code&gt; functions.&lt;/p&gt;
&lt;p&gt;Suppose we created a new column with the &lt;code&gt;ufo&lt;/code&gt; data and wished to save this data to a csv file, this can be accomplished with the following series of commands.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo_count &amp;lt;- ufo %&amp;gt;%
  group_by(State) %&amp;gt;%
  mutate(num_state = n())
write_csv(ufo_count, path = &amp;#39;path/to/save/file.csv&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice there are two arguments to the &lt;code&gt;write_csv&lt;/code&gt; function, the first argument is the object you wish to save. The second is the path to the location to save the object. You must specify &lt;code&gt;path =&lt;/code&gt; otherwise the &lt;code&gt;write_csv&lt;/code&gt; function will look for that object in the R session.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;other-data-formats&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Other Data Formats&lt;/h2&gt;
&lt;p&gt;There are still other data formats, particularly from proprietary statistical software such as Stata, SAS, or SPSS. To read these files in the &lt;code&gt;haven&lt;/code&gt; function would be useful. I leave this as an exercise for you if you have these types of files to read into R.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Week 9</title>
      <link>https://psqf6250.brandonlebeau.org/content/09-week9/</link>
      <pubDate>Wed, 17 Mar 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/09-week9/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week will explore how to work and fit models that have more than 2 groups.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create indicator/dummy variables in R for more than 2 groups&lt;/li&gt;
&lt;li&gt;Interpret parameters from more than 2 groups&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;More than 2 Groups&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=6107d990-7637-464b-aa4a-a936fe96f6be&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Adjusting the Reference Groups&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=14101000-7ef2-48a1-8dad-8437fed15a1e&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Post Hoc Tests&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=8661db1f-77db-4857-9d8b-77f079f0902f&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Interactions&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=beaea968-be69-483e-afd6-4af4d2badf61&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Visualizing Model Results&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=d4936d3f-0740-44a7-ad2a-3bcfc95435cb&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/model-part2/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Model Part 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/adv-model/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Advanced Modeling&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;p&gt;To come &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Data Restructuring</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/data_restructuring/</link>
      <pubDate>Thu, 18 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/data_restructuring/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;Data restructuring is often a useful tool to have. By data restructuring, I mean transforming data from long to wide format or vice versa. For the most part, long format is much easier to use when plotting and computing summary statistics. A related topic, called tidy data, can be read about in more detail here: &lt;a href=&#34;http://www.jstatsoft.org/v59/i10/paper&#34; class=&#34;uri&#34;&gt;http://www.jstatsoft.org/v59/i10/paper&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The data we are going to use for this section of notes is called “LongitudinalEx.csv” and can be found on the &lt;a href=&#34;https://psqf6250.brandonlebeau.org/data/&#34;&gt;course website&lt;/a&gt;. The data are loaded directly from the web, but these could be loaded from a downloaded data file (see )&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.6     ✓ dplyr   1.0.7
## ✓ tidyr   1.2.0     ✓ stringr 1.4.0
## ✓ readr   2.1.2     ✓ forcats 0.5.1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;long_data &amp;lt;- read_csv(&amp;quot;https://raw.githubusercontent.com/lebebr01/psqf-6250-blogdown/main/data/LongitudinalEx.csv&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 27 Columns: 7&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &amp;quot;,&amp;quot;
## dbl (7): id, wave, agegrp, age, piat, agegrp.c, age.c
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;longstacked-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Long/Stacked Data&lt;/h2&gt;
&lt;p&gt;The data read in above is in a format that is commonly referred to as long or stacked data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;long_data&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 27 × 7
##       id  wave agegrp   age  piat agegrp.c  age.c
##    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
##  1     4     1    6.5  6       18        0 -0.5  
##  2     4     2    8.5  8.5     31        2  2    
##  3     4     3   10.5 10.7     50        4  4.17 
##  4    27     1    6.5  6.25    19        0 -0.25 
##  5    27     2    8.5  9.17    36        2  2.67 
##  6    27     3   10.5 10.9     57        4  4.42 
##  7    31     1    6.5  6.33    18        0 -0.167
##  8    31     2    8.5  8.83    31        2  2.33 
##  9    31     3   10.5 10.9     51        4  4.42 
## 10    33     1    6.5  6.33    18        0 -0.167
## # … with 17 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These data do not have one individual per row, instead each row is a individual by wave combination and are stacked for each individual (notice the three rows for id = 4). The variables in this case each have there own column in the data and all of them are time varying (change for each wave of data within an individual). This is also an example of “tidy data” from the paper linked to above, where each row is a unique observation (id, wave pair), variables are in the columns, and each cell of the data is a value.&lt;/p&gt;
&lt;p&gt;The primary functions within the tidyr package are the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pivot_longer()&lt;/code&gt;: for making the data longer, this replaces the &lt;code&gt;gather()&lt;/code&gt; function from tidyr.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pivot_wider()&lt;/code&gt;: for making the data wider, this replaces the &lt;code&gt;spread()&lt;/code&gt; function from tidyr.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These two functions are relatively new and they still may change as they continue to be developed. I believe the old functions will be deprecated, but not removed entirely. This means they will not be actively developed any longer, but will remain in the tidyr package for the forseeable future.&lt;/p&gt;
&lt;p&gt;It should also be noted there are mutiple R packages for data restructuring, including reshape and reshape2. The syntax for these has always been difficult for me to fully process and internalize, but they are incredibly powerful. I believe almost every data restructuring task can be accomplished by &lt;code&gt;pivot_longer()&lt;/code&gt; and &lt;code&gt;pivot_wider()&lt;/code&gt; (with some companion functions), but it may take a few extra steps to get to the desired structure.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;extra-long-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Extra Long Data&lt;/h2&gt;
&lt;p&gt;To progress through data restructuring, we first need to transform this data is extra long format. This format is not entirely useful by itself, however it will help use show the use of a few functions from the &lt;code&gt;tidyr&lt;/code&gt; package. To go to extra long data, we will make use of the &lt;code&gt;pivot_longer()&lt;/code&gt; and &lt;code&gt;unite&lt;/code&gt; functions.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;extra_long &amp;lt;- long_data %&amp;gt;%
  pivot_longer(agegrp:age.c, names_to = &amp;#39;variable&amp;#39;, values_to = &amp;#39;value&amp;#39;) %&amp;gt;%
  unite(var_wave, variable, wave)
extra_long &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 135 × 3
##       id var_wave   value
##    &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;      &amp;lt;dbl&amp;gt;
##  1     4 agegrp_1     6.5
##  2     4 age_1        6  
##  3     4 piat_1      18  
##  4     4 agegrp.c_1   0  
##  5     4 age.c_1     -0.5
##  6     4 agegrp_2     8.5
##  7     4 age_2        8.5
##  8     4 piat_2      31  
##  9     4 agegrp.c_2   2  
## 10     4 age.c_2      2  
## # … with 125 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’ll notice now that there are only three columns in the data and that there are now 135 rows in data. This extra long data format gathered all of the variables into two columns, one that identify the variable and wave and the other that simply lists the value.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;wide-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Wide Data&lt;/h2&gt;
&lt;p&gt;We can now take the extra long data and turn this into wide data. Wide data is characterized by one row per individual with columns representing the variable and wave combinations.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;wide &amp;lt;- extra_long %&amp;gt;% 
  pivot_wider(names_from = var_wave, values_from = value)
wide&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 9 × 16
##      id agegrp_1 age_1 piat_1 agegrp.c_1 age.c_1 agegrp_2 age_2 piat_2
##   &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
## 1     4      6.5  6        18          0  -0.5        8.5  8.5      31
## 2    27      6.5  6.25     19          0  -0.25       8.5  9.17     36
## 3    31      6.5  6.33     18          0  -0.167      8.5  8.83     31
## 4    33      6.5  6.33     18          0  -0.167      8.5  8.92     34
## 5    41      6.5  6.33     18          0  -0.167      8.5  8.75     28
## 6    49      6.5  6.5      19          0   0          8.5  8.75     32
## 7    69      6.5  6.67     26          0   0.167      8.5  9.17     47
## 8    77      6.5  6.83     17          0   0.333      8.5  8.08     19
## 9    87      6.5  6.92     22          0   0.417      8.5  9.42     49
## # … with 7 more variables: agegrp.c_2 &amp;lt;dbl&amp;gt;, age.c_2 &amp;lt;dbl&amp;gt;, agegrp_3 &amp;lt;dbl&amp;gt;,
## #   age_3 &amp;lt;dbl&amp;gt;, piat_3 &amp;lt;dbl&amp;gt;, agegrp.c_3 &amp;lt;dbl&amp;gt;, age.c_3 &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’ll notice from the data above, there are now only 9 rows, but now 16 columns in the data. Each variable except for id now also has a number appended to it to represent the wave of the data.&lt;/p&gt;
&lt;p&gt;This data structure is common, particularly for users of SPSS or Excel for data entry or processing. Unfortunately, when working with data in R (and in general), data in wide format is often difficult to work with. Therefore it is common to need to restructure the data from wide to long format.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;back-to-long-format&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Back to Long Format&lt;/h2&gt;
&lt;p&gt;Fortunately, we can use the same functions as we used above, but now in inverse to get from wide to long format.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;wide %&amp;gt;% 
  pivot_longer(-id, names_to = &amp;quot;variable&amp;quot;, values_to = &amp;quot;value&amp;quot;) %&amp;gt;%
  separate(variable, into = c(&amp;#39;variable&amp;#39;, &amp;#39;wave&amp;#39;), 
           sep = &amp;quot;_&amp;quot;) %&amp;gt;%
  arrange(id, wave) %&amp;gt;%
  pivot_wider(names_from = variable, values_from = value)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 27 × 7
##       id wave  agegrp   age  piat agegrp.c  age.c
##    &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
##  1     4 1        6.5  6       18        0 -0.5  
##  2     4 2        8.5  8.5     31        2  2    
##  3     4 3       10.5 10.7     50        4  4.17 
##  4    27 1        6.5  6.25    19        0 -0.25 
##  5    27 2        8.5  9.17    36        2  2.67 
##  6    27 3       10.5 10.9     57        4  4.42 
##  7    31 1        6.5  6.33    18        0 -0.167
##  8    31 2        8.5  8.83    31        2  2.33 
##  9    31 3       10.5 10.9     51        4  4.42 
## 10    33 1        6.5  6.33    18        0 -0.167
## # … with 17 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This now is identical to the first data that we had. I would recommend working through the steps above to see what the data structure looks like in each intermediate step along the way. In addition, it is often not of interest to save the extra long data format, below is the code that would go directly from long to wide.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;long_data %&amp;gt;%
  pivot_longer(agegrp:age.c, names_to = &amp;#39;variable&amp;#39;, values_to = &amp;#39;value&amp;#39;) %&amp;gt;%
  unite(var_wave, variable, wave) %&amp;gt;%
  pivot_wider(names_from = var_wave, values_from = value)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 9 × 16
##      id agegrp_1 age_1 piat_1 agegrp.c_1 age.c_1 agegrp_2 age_2 piat_2
##   &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
## 1     4      6.5  6        18          0  -0.5        8.5  8.5      31
## 2    27      6.5  6.25     19          0  -0.25       8.5  9.17     36
## 3    31      6.5  6.33     18          0  -0.167      8.5  8.83     31
## 4    33      6.5  6.33     18          0  -0.167      8.5  8.92     34
## 5    41      6.5  6.33     18          0  -0.167      8.5  8.75     28
## 6    49      6.5  6.5      19          0   0          8.5  8.75     32
## 7    69      6.5  6.67     26          0   0.167      8.5  9.17     47
## 8    77      6.5  6.83     17          0   0.333      8.5  8.08     19
## 9    87      6.5  6.92     22          0   0.417      8.5  9.42     49
## # … with 7 more variables: agegrp.c_2 &amp;lt;dbl&amp;gt;, age.c_2 &amp;lt;dbl&amp;gt;, agegrp_3 &amp;lt;dbl&amp;gt;,
## #   age_3 &amp;lt;dbl&amp;gt;, piat_3 &amp;lt;dbl&amp;gt;, agegrp.c_3 &amp;lt;dbl&amp;gt;, age.c_3 &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Exercises&lt;/h3&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the following data generation code, convert these data to long format.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;set.seed(10)
messy &amp;lt;- data.frame(
  id = 1:4,
  trt = sample(rep(c(&amp;#39;control&amp;#39;, &amp;#39;treatment&amp;#39;), each = 2)),
  work.T1 = runif(4),
  home.T1 = runif(4),
  work.T2 = runif(4),
  home.T2 = runif(4)
)&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Once successfully converted to long format, convert back to wide format.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Assignment 1</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/assignment/assignment1/</link>
      <pubDate>Thu, 07 Jan 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/assignment/assignment1/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Reproducible Rmarkdown Document&lt;/strong&gt;: &lt;em&gt;10 pts&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Due: &lt;em&gt;February 13th, 2021&lt;/em&gt; - No penalty for late submissions, but due no later than &lt;em&gt;May 8th&lt;/em&gt;.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;For this assignment, you will create your first reproducible R Markdown document. The source file (the .Rmd) file will be turned in as well as the compiled version (html). The general form of the R code to be included in the document will be given to you. You may be asked to manipulate simple R commands. Submit completed assignment, including Rmd and html to &lt;a href=&#34;https://uiowa.instructure.com/courses/183068/assignments/1629180&#34;&gt;ICON&lt;/a&gt;.&lt;/p&gt;
&lt;div id=&#34;r-markdown-setup&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;R Markdown Setup&lt;/h1&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using RStudio, open up a new template for an R Markdown file. To do this, go to File &amp;gt; New File &amp;gt; R Markdown.&lt;/li&gt;
&lt;li&gt;A new window should open up, type in the details, and ensure that HTML Output is clicked. When finished entering in details, click the ‘okay’ button.&lt;/li&gt;
&lt;li&gt;Upon hitting the ‘okay’ button, a document template should show up. Read the elements in the template, then once comfortable with its contents, you can delete it and continue to the questions below.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;questions&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Questions&lt;/h1&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Using Markdown syntax, create a header that says Question 1. Note, you can pick any level of header you wish. Create subsequent headers for each question below. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create an unordered list that lists your research interests (please list at least 2 interests here). &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create a hyperlink (link to a webpage) that links to the main R project website. Add the link in two ways, one that show the actual link and two, one that has the link embedded within text. You can pick whatever you wish for the link text. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add a R code chunk to the document. Within this code chunk add the following R code: &lt;code&gt;summary(iris)&lt;/code&gt;. Ensure to give the chunk a unique name. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Using output from the R command used in the code chunk from question 4, create a table that summarizes the first four variables from the output. The syntax to create a table manually can be found in the &lt;a href=&#34;https://www.markdownguide.org/extended-syntax/#tables&#34;&gt;Extended Markdown Syntax&lt;/a&gt;. More specifically, create a simple table by hand that describes the first row or two from the output of question 4. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add a new R code chunk. Inside this code chunk add the following R code: &lt;code&gt;hist(iris$Sepal.Length)&lt;/code&gt;. Ensure to give the chunk a unique name and also add the chunk option to omit the code from being shown in the output. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create an ordered list with Markdown that ranks your top vacations you have taken. Within each of your top vacations, add a nested item (e.g. &lt;a href=&#34;https://commonmark.org/help/tutorial/10-nestedLists.html&#34; class=&#34;uri&#34;&gt;https://commonmark.org/help/tutorial/10-nestedLists.html&lt;/a&gt; or &lt;a href=&#34;https://www.markdownguide.org/basic-syntax#lists-1&#34; class=&#34;uri&#34;&gt;https://www.markdownguide.org/basic-syntax#lists-1&lt;/a&gt;) to each of your vacations that states the top activities you did while on vaction. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write some text that specifies the correlation between the continuous variables from the &lt;code&gt;iris&lt;/code&gt; data. Place the following two bits of code inline in their relevant positions. The two correlations can be calculated with the following bit of code: &lt;code&gt;round(cor(iris$Sepal.Length, iris$Sepal.Width), 2)&lt;/code&gt; and &lt;code&gt;round(cor(iris$Petal.Length, iris$Petal.Width), 2)&lt;/code&gt; &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Let’s now create another figure with the following R code, &lt;code&gt;plot(iris$Sepal.Length, iris$Sepal.Width)&lt;/code&gt;. Similar to above, give the chunk a unique name and also add the chunk option to omit the code from being shown in the output. For this figure, explore the knitr chunk options (&lt;a href=&#34;https://yihui.name/knitr/options/&#34; class=&#34;uri&#34;&gt;https://yihui.name/knitr/options/&lt;/a&gt;) to add a figure caption to the figure. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add one last code chunk (ensure this chunk has a unique name). Ensure through chunk options that the code is not evaluated, but the code is returned. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- rnorm(100)
y &amp;lt;- runif(100, min = 3, max = 8)
mean(x)
mean(y)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Week 10</title>
      <link>https://psqf6250.brandonlebeau.org/content/10-week10/</link>
      <pubDate>Mon, 14 Mar 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/10-week10/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week covers miscellaneous model related topics including model assumptions, non-linear models, and a brief introduction to generalized linear models.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Define key model assumptions&lt;/li&gt;
&lt;li&gt;Identify model assumption violations&lt;/li&gt;
&lt;li&gt;Explore non-linear trends&lt;/li&gt;
&lt;li&gt;Create generalized linear models&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Interactions - Continuous and Categorical&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=71e1c837-2032-4f14-a978-ed563a6f99f0&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Statistical Assumption Checking with &lt;code&gt;lm()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=c466c9d3-2d07-46b6-822f-480c7e842d88&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Modeling Non-Linear Trends&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=486c04ea-5d27-4895-b7b4-4917106c8408&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;glm()&lt;/code&gt; Function&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=721fa4fd-2d42-4ad4-8592-0834b75692a2&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/adv-model/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Advanced Modeling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Model Assumptions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/misc-model/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Misc Modeling Topics&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;p&gt;To come &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Assignment 2</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/assignment/assignment2/</link>
      <pubDate>Wed, 09 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/assignment/assignment2/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Graphics and Data Munging Practice&lt;/strong&gt;: &lt;em&gt;10 pts&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Due: &lt;em&gt;February 27th, 2022&lt;/em&gt; - No penalty for late submissions, but due no later than &lt;em&gt;May 8th&lt;/em&gt;.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;For this assignment, you will build upon the skills you learned in the first reproducible R Markdown document created in the first assignment. In this assignment, you will explore some data graphically to inform a few research questions using data from the &lt;code&gt;fivethirtyeight&lt;/code&gt; package. The source file (the .Rmd) file will be turned in as well as the compiled version (html). Note, please create a new Rmd document for this assignment rather than continue the one from the first assignment. Submit completed assignment, including Rmd and html to &lt;a href=&#34;https://uiowa.instructure.com/courses/183068/assignments/1629181&#34;&gt;ICON&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;All graphics should be of high quality, this includes formatting of axes, axes labels, etc. If none of the graphics are of high quality, a &lt;strong&gt;2 pt&lt;/strong&gt; penalty will apply over and above any item-specific reductions.&lt;/p&gt;
&lt;div id=&#34;research-questions&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Research Questions&lt;/h1&gt;
&lt;p&gt;The following research questions will be used to guide the assignment, but you do not need to answer these directly. The questions below will reference these questions.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the &lt;code&gt;college_recent_grads&lt;/code&gt; data from the &lt;code&gt;fivethirtyeight&lt;/code&gt; package, which majors are the most popular?&lt;/li&gt;
&lt;li&gt;Using the &lt;code&gt;college_recent_grads&lt;/code&gt; data from the &lt;code&gt;fivethirtyeight&lt;/code&gt; package, which major categories (not individual majors, but bigger major categories, &lt;code&gt;major_category&lt;/code&gt;) are most unisex (i.e., have an equal number of males/females in them.)?&lt;/li&gt;
&lt;li&gt;Related to #2, which major categories have the most disproportionate number of males or females with that major category?&lt;/li&gt;
&lt;li&gt;Is there any evidence of a relationship between unemployment rate and the popularity of a major? What about median salary (shown by &lt;code&gt;median&lt;/code&gt;) and the popularity of a major?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;questions&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Questions&lt;/h1&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Using an appropriate verb from &lt;code&gt;dplyr&lt;/code&gt;, which majors are the most popular? Don’t print all the data in the output file to answer this question, keep this summary concise. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Which majors are the least popular? Don’t print all the data in the output file to answer this question, keep this summary concise. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Explore the distribution of the variable/attribute &lt;code&gt;sharewomen&lt;/code&gt; visually. Summarize characteristics of this variable in a few sentences. Be sure to include any figure(s) or statistics as evidence to support your description. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Which major categories are the most unisex and which major categories are the most disproportionate? Similar to #1 and #2, please don’t print all of the majors, just highlight a few in each category. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create a figure that effectively shows which major categories are the most unisex and disproportionate in a single figure. Discuss briefly why this figure is effective at answering research question 2 and 3. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create a figure that explores if there is a relationship between the popularity of a major and the unemployment rate. Discuss briefly how you defined popularity and why this figure helps to show the relationship between the two attributes. Be sure in your discussion to also state your interpretation of the figure. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Building off of #6, create a figure that explores if there is a relationship between the popularity of a major and the median salary (shown with the &lt;code&gt;median&lt;/code&gt; attribute). Discuss how you defined popularity and why this figure helps to show the relationship between the two attributes. Be sure in your discussion to also state your interpretation of the figure. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create a figure that explores if there is a relationship between the popularity of a &lt;strong&gt;major category&lt;/strong&gt; and the unemployment rate. Discuss why this figure helps to show the relationship between the two attributes and also discuss how this figure may differ from the one created in #6. What additional features did you need to consider to make an effective visualization of this relationship given the data structure. Be sure in your discussion to also state your interpretation of the figure. Note, you may wish to use &lt;code&gt;dplyr&lt;/code&gt; and &lt;code&gt;ggplot2&lt;/code&gt; to help with this question. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create a figure that explores if there is a relationship between the popularity of a &lt;strong&gt;major category&lt;/strong&gt; and the median salary (shown with the &lt;code&gt;median&lt;/code&gt; attribute). Discuss why this figure helps to show the relationship between the two attributes and also discuss how this figure may differ from the one created in #6. What additional features did you need to consider to make an effective visualization of this relationship given the data structure. Be sure in your discussion to also state your interpretation of the figure. Note, you may wish to use &lt;code&gt;dplyr&lt;/code&gt; and &lt;code&gt;ggplot2&lt;/code&gt; to help with this question. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Identify a new research question from the &lt;code&gt;college_recent_grads&lt;/code&gt; that interests you. State this research question, then create a figure that highlights/explores the research question. Discuss briefly why this figure does a good job of exploring the research question. What challenges did you have creating the figure? &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Joining Data</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/data_joins/</link>
      <pubDate>Thu, 18 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/data_joins/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;Another common data manipulation task is to join multiple data sources into a single data file for an analysis. This task is most easily accomplished using a set of &lt;code&gt;join&lt;/code&gt; functions found in the &lt;code&gt;dplyr&lt;/code&gt; package. In this set of notes we are going to focus on mutating joins and filtering joins. There is another class of joins called set operations. I use these much less frequently, but for those interested, see the text in the R for Data Science book &lt;a href=&#34;http://r4ds.had.co.nz/relational-data.html&#34; class=&#34;uri&#34;&gt;http://r4ds.had.co.nz/relational-data.html&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For this set of notes, we are going to make use of two packages:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
# install.packages(&amp;#39;Lahman&amp;#39;)
library(Lahman)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;Lahman&lt;/code&gt; package contains data from the Major League Baseball (MLB), a professional baseball association in the United States. For this section, we are going to focus on the following three data tables, &lt;code&gt;Teams&lt;/code&gt;, &lt;code&gt;Salaries&lt;/code&gt;, and &lt;code&gt;Managers&lt;/code&gt;. I print the first ten rows of the data for each table below.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(Teams, n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    yearID lgID teamID franchID divID Rank  G Ghome  W  L DivWin WCWin LgWin
## 1    1871   NA    BS1      BNA  &amp;lt;NA&amp;gt;    3 31    NA 20 10   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 2    1871   NA    CH1      CNA  &amp;lt;NA&amp;gt;    2 28    NA 19  9   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 3    1871   NA    CL1      CFC  &amp;lt;NA&amp;gt;    8 29    NA 10 19   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 4    1871   NA    FW1      KEK  &amp;lt;NA&amp;gt;    7 19    NA  7 12   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 5    1871   NA    NY2      NNA  &amp;lt;NA&amp;gt;    5 33    NA 16 17   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 6    1871   NA    PH1      PNA  &amp;lt;NA&amp;gt;    1 28    NA 21  7   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     Y
## 7    1871   NA    RC1      ROK  &amp;lt;NA&amp;gt;    9 25    NA  4 21   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 8    1871   NA    TRO      TRO  &amp;lt;NA&amp;gt;    6 29    NA 13 15   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 9    1871   NA    WS3      OLY  &amp;lt;NA&amp;gt;    4 32    NA 15 15   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 10   1872   NA    BL1      BLC  &amp;lt;NA&amp;gt;    2 58    NA 35 19   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
##    WSWin   R   AB   H X2B X3B HR BB SO SB CS HBP SF  RA  ER  ERA CG SHO SV
## 1   &amp;lt;NA&amp;gt; 401 1372 426  70  37  3 60 19 73 16  NA NA 303 109 3.55 22   1  3
## 2   &amp;lt;NA&amp;gt; 302 1196 323  52  21 10 60 22 69 21  NA NA 241  77 2.76 25   0  1
## 3   &amp;lt;NA&amp;gt; 249 1186 328  35  40  7 26 25 18  8  NA NA 341 116 4.11 23   0  0
## 4   &amp;lt;NA&amp;gt; 137  746 178  19   8  2 33  9 16  4  NA NA 243  97 5.17 19   1  0
## 5   &amp;lt;NA&amp;gt; 302 1404 403  43  21  1 33 15 46 15  NA NA 313 121 3.72 32   1  0
## 6   &amp;lt;NA&amp;gt; 376 1281 410  66  27  9 46 23 56 12  NA NA 266 137 4.95 27   0  0
## 7   &amp;lt;NA&amp;gt; 231 1036 274  44  25  3 38 30 53 10  NA NA 287 108 4.30 23   1  0
## 8   &amp;lt;NA&amp;gt; 351 1248 384  51  34  6 49 19 62 24  NA NA 362 153 5.51 28   0  0
## 9   &amp;lt;NA&amp;gt; 310 1353 375  54  26  6 48 13 48 13  NA NA 303 137 4.37 32   0  0
## 10  &amp;lt;NA&amp;gt; 617 2571 753 106  31 14 29 28 53 18  NA NA 434 166 2.90 48   1  1
##    IPouts  HA HRA BBA SOA   E DP    FP                    name
## 1     828 367   2  42  23 243 24 0.834    Boston Red Stockings
## 2     753 308   6  28  22 229 16 0.829 Chicago White Stockings
## 3     762 346  13  53  34 234 15 0.818  Cleveland Forest Citys
## 4     507 261   5  21  17 163  8 0.803    Fort Wayne Kekiongas
## 5     879 373   7  42  22 235 14 0.840        New York Mutuals
## 6     747 329   3  53  16 194 13 0.845  Philadelphia Athletics
## 7     678 315   3  34  16 220 14 0.821   Rockford Forest Citys
## 8     750 431   4  75  12 198 22 0.845          Troy Haymakers
## 9     846 371   4  45  13 218 20 0.850     Washington Olympics
## 10   1548 573   3  63  77 432 22 0.830      Baltimore Canaries
##                                 park attendance BPF PPF teamIDBR teamIDlahman45
## 1                South End Grounds I         NA 103  98      BOS            BS1
## 2            Union Base-Ball Grounds         NA 104 102      CHI            CH1
## 3       National Association Grounds         NA  96 100      CLE            CL1
## 4                     Hamilton Field         NA 101 107      KEK            FW1
## 5           Union Grounds (Brooklyn)         NA  90  88      NYU            NY2
## 6           Jefferson Street Grounds         NA 102  98      ATH            PH1
## 7  Agricultural Society Fair Grounds         NA  97  99      ROK            RC1
## 8                 Haymakers&amp;#39; Grounds         NA 101 100      TRO            TRO
## 9                   Olympics Grounds         NA  94  98      OLY            WS3
## 10                    Newington Park         NA 106 102      BAL            BL1
##    teamIDretro
## 1          BS1
## 2          CH1
## 3          CL1
## 4          FW1
## 5          NY2
## 6          PH1
## 7          RC1
## 8          TRO
## 9          WS3
## 10         BL1&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(Salaries, n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    yearID teamID lgID  playerID salary
## 1    1985    ATL   NL barkele01 870000
## 2    1985    ATL   NL bedrost01 550000
## 3    1985    ATL   NL benedbr01 545000
## 4    1985    ATL   NL  campri01 633333
## 5    1985    ATL   NL ceronri01 625000
## 6    1985    ATL   NL chambch01 800000
## 7    1985    ATL   NL dedmoje01 150000
## 8    1985    ATL   NL forstte01 483333
## 9    1985    ATL   NL garbege01 772000
## 10   1985    ATL   NL harpete01 250000&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(Managers, n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##     playerID yearID teamID lgID inseason  G  W  L rank plyrMgr
## 1  wrighha01   1871    BS1   NA        1 31 20 10    3       Y
## 2   woodji01   1871    CH1   NA        1 28 19  9    2       Y
## 3  paborch01   1871    CL1   NA        1 29 10 19    8       Y
## 4  lennobi01   1871    FW1   NA        1 14  5  9    8       Y
## 5  deaneha01   1871    FW1   NA        2  5  2  3    8       Y
## 6  fergubo01   1871    NY2   NA        1 33 16 17    5       Y
## 7  mcbridi01   1871    PH1   NA        1 28 21  7    1       Y
## 8  hastisc01   1871    RC1   NA        1 25  4 21    9       Y
## 9   pikeli01   1871    TRO   NA        1  4  1  3    6       Y
## 10 cravebi01   1871    TRO   NA        2 25 12 12    6       Y&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;inner-join&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Inner Join&lt;/h2&gt;
&lt;p&gt;The most basic join is the inner join. This join takes two tables and returns values if key variables match in both tables. If rows do not match on the key variables, these observations are removed. Suppose for example, we wanted to select the rows that matched between the &lt;code&gt;Teams&lt;/code&gt; and &lt;code&gt;Salaries&lt;/code&gt; data. This would be useful for example if we wished to calculate the average salary of the players for each team for every year.&lt;/p&gt;
&lt;p&gt;This join could be done with the &lt;code&gt;inner_join&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;team_salary &amp;lt;- inner_join(Teams, Salaries)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Joining, by = c(&amp;quot;yearID&amp;quot;, &amp;quot;lgID&amp;quot;, &amp;quot;teamID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(team_salary, n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    yearID lgID teamID franchID divID Rank   G Ghome  W  L DivWin WCWin LgWin
## 1    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 2    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 3    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 4    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 5    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 6    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 7    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 8    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 9    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 10   1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
##    WSWin   R   AB    H X2B X3B  HR  BB  SO SB CS HBP SF  RA  ER  ERA CG SHO SV
## 1      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 2      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 3      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 4      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 5      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 6      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 7      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 8      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 9      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 10     N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
##    IPouts   HA HRA BBA SOA   E  DP    FP           name
## 1    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 2    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 3    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 4    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 5    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 6    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 7    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 8    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 9    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 10   4372 1512 134 642 776 159 197 0.976 Atlanta Braves
##                             park attendance BPF PPF teamIDBR teamIDlahman45
## 1  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 2  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 3  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 4  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 5  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 6  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 7  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 8  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 9  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 10 Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
##    teamIDretro  playerID salary
## 1          ATL barkele01 870000
## 2          ATL bedrost01 550000
## 3          ATL benedbr01 545000
## 4          ATL  campri01 633333
## 5          ATL ceronri01 625000
## 6          ATL chambch01 800000
## 7          ATL dedmoje01 150000
## 8          ATL forstte01 483333
## 9          ATL garbege01 772000
## 10         ATL harpete01 250000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’ll notice that there is only data from 1985 onward, the data in the &lt;code&gt;Teams&lt;/code&gt; data from before 1985 have automatically been removed due to no matching data in the &lt;code&gt;Salaries&lt;/code&gt; data. You may have also noticed, that I did not specify the variables to join by above, for interactive work this can be okay, but to be more reproducible, specifying the variables to join on would be better. The function call above can be modified to include this information.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;team_salary &amp;lt;- inner_join(Teams, Salaries, by = c(&amp;#39;yearID&amp;#39;, &amp;#39;teamID&amp;#39;, &amp;#39;lgID&amp;#39;))
head(team_salary, n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    yearID lgID teamID franchID divID Rank   G Ghome  W  L DivWin WCWin LgWin
## 1    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 2    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 3    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 4    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 5    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 6    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 7    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 8    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 9    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 10   1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
##    WSWin   R   AB    H X2B X3B  HR  BB  SO SB CS HBP SF  RA  ER  ERA CG SHO SV
## 1      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 2      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 3      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 4      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 5      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 6      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 7      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 8      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 9      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 10     N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
##    IPouts   HA HRA BBA SOA   E  DP    FP           name
## 1    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 2    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 3    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 4    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 5    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 6    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 7    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 8    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 9    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 10   4372 1512 134 642 776 159 197 0.976 Atlanta Braves
##                             park attendance BPF PPF teamIDBR teamIDlahman45
## 1  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 2  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 3  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 4  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 5  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 6  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 7  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 8  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 9  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 10 Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
##    teamIDretro  playerID salary
## 1          ATL barkele01 870000
## 2          ATL bedrost01 550000
## 3          ATL benedbr01 545000
## 4          ATL  campri01 633333
## 5          ATL ceronri01 625000
## 6          ATL chambch01 800000
## 7          ATL dedmoje01 150000
## 8          ATL forstte01 483333
## 9          ATL garbege01 772000
## 10         ATL harpete01 250000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could then use other &lt;code&gt;dplyr&lt;/code&gt; verbs to calculate the average salary for every team by year and plot these.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;team_salary %&amp;gt;%
  group_by(yearID, teamID) %&amp;gt;%
  summarise(avg_salary = mean(salary, na.rm = TRUE)) %&amp;gt;%
  ggplot(aes(x = yearID, y = avg_salary)) + 
  geom_line(size = 1) + 
  facet_wrap(~teamID)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` has grouped output by &amp;#39;yearID&amp;#39;. You can override using the
## `.groups` argument.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/data_joins_files/figure-html/avg_salary-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Below is a diagram of the inner join found in the R for Data Science text, &lt;a href=&#34;https://r4ds.had.co.nz/relational-data.html#inner-join&#34;&gt;inner join diagram&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;left-join&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Left Join&lt;/h2&gt;
&lt;p&gt;This is by far the most common join I perform. Left join is more formally part of a group of operations called outer joins. Outer joins are useful when you want to use one data table as a base data set in which variables will be added to this data if the keys match. It is likely best shown with an example.&lt;/p&gt;
&lt;p&gt;Suppose we wish to add the salary information to the &lt;code&gt;Teams&lt;/code&gt; data. However, instead of using a &lt;code&gt;inner_join&lt;/code&gt;, let’s use &lt;code&gt;left_join&lt;/code&gt; to see the difference. &lt;em&gt;Note: I print only 10 rows of data with the &lt;code&gt;head()&lt;/code&gt; function. This part of the code below would generally not be used.&lt;/em&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;left_join(Teams, Salaries) %&amp;gt;%
  head(n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Joining, by = c(&amp;quot;yearID&amp;quot;, &amp;quot;lgID&amp;quot;, &amp;quot;teamID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    yearID lgID teamID franchID divID Rank  G Ghome  W  L DivWin WCWin LgWin
## 1    1871   NA    BS1      BNA  &amp;lt;NA&amp;gt;    3 31    NA 20 10   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 2    1871   NA    CH1      CNA  &amp;lt;NA&amp;gt;    2 28    NA 19  9   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 3    1871   NA    CL1      CFC  &amp;lt;NA&amp;gt;    8 29    NA 10 19   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 4    1871   NA    FW1      KEK  &amp;lt;NA&amp;gt;    7 19    NA  7 12   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 5    1871   NA    NY2      NNA  &amp;lt;NA&amp;gt;    5 33    NA 16 17   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 6    1871   NA    PH1      PNA  &amp;lt;NA&amp;gt;    1 28    NA 21  7   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     Y
## 7    1871   NA    RC1      ROK  &amp;lt;NA&amp;gt;    9 25    NA  4 21   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 8    1871   NA    TRO      TRO  &amp;lt;NA&amp;gt;    6 29    NA 13 15   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 9    1871   NA    WS3      OLY  &amp;lt;NA&amp;gt;    4 32    NA 15 15   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 10   1872   NA    BL1      BLC  &amp;lt;NA&amp;gt;    2 58    NA 35 19   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
##    WSWin   R   AB   H X2B X3B HR BB SO SB CS HBP SF  RA  ER  ERA CG SHO SV
## 1   &amp;lt;NA&amp;gt; 401 1372 426  70  37  3 60 19 73 16  NA NA 303 109 3.55 22   1  3
## 2   &amp;lt;NA&amp;gt; 302 1196 323  52  21 10 60 22 69 21  NA NA 241  77 2.76 25   0  1
## 3   &amp;lt;NA&amp;gt; 249 1186 328  35  40  7 26 25 18  8  NA NA 341 116 4.11 23   0  0
## 4   &amp;lt;NA&amp;gt; 137  746 178  19   8  2 33  9 16  4  NA NA 243  97 5.17 19   1  0
## 5   &amp;lt;NA&amp;gt; 302 1404 403  43  21  1 33 15 46 15  NA NA 313 121 3.72 32   1  0
## 6   &amp;lt;NA&amp;gt; 376 1281 410  66  27  9 46 23 56 12  NA NA 266 137 4.95 27   0  0
## 7   &amp;lt;NA&amp;gt; 231 1036 274  44  25  3 38 30 53 10  NA NA 287 108 4.30 23   1  0
## 8   &amp;lt;NA&amp;gt; 351 1248 384  51  34  6 49 19 62 24  NA NA 362 153 5.51 28   0  0
## 9   &amp;lt;NA&amp;gt; 310 1353 375  54  26  6 48 13 48 13  NA NA 303 137 4.37 32   0  0
## 10  &amp;lt;NA&amp;gt; 617 2571 753 106  31 14 29 28 53 18  NA NA 434 166 2.90 48   1  1
##    IPouts  HA HRA BBA SOA   E DP    FP                    name
## 1     828 367   2  42  23 243 24 0.834    Boston Red Stockings
## 2     753 308   6  28  22 229 16 0.829 Chicago White Stockings
## 3     762 346  13  53  34 234 15 0.818  Cleveland Forest Citys
## 4     507 261   5  21  17 163  8 0.803    Fort Wayne Kekiongas
## 5     879 373   7  42  22 235 14 0.840        New York Mutuals
## 6     747 329   3  53  16 194 13 0.845  Philadelphia Athletics
## 7     678 315   3  34  16 220 14 0.821   Rockford Forest Citys
## 8     750 431   4  75  12 198 22 0.845          Troy Haymakers
## 9     846 371   4  45  13 218 20 0.850     Washington Olympics
## 10   1548 573   3  63  77 432 22 0.830      Baltimore Canaries
##                                 park attendance BPF PPF teamIDBR teamIDlahman45
## 1                South End Grounds I         NA 103  98      BOS            BS1
## 2            Union Base-Ball Grounds         NA 104 102      CHI            CH1
## 3       National Association Grounds         NA  96 100      CLE            CL1
## 4                     Hamilton Field         NA 101 107      KEK            FW1
## 5           Union Grounds (Brooklyn)         NA  90  88      NYU            NY2
## 6           Jefferson Street Grounds         NA 102  98      ATH            PH1
## 7  Agricultural Society Fair Grounds         NA  97  99      ROK            RC1
## 8                 Haymakers&amp;#39; Grounds         NA 101 100      TRO            TRO
## 9                   Olympics Grounds         NA  94  98      OLY            WS3
## 10                    Newington Park         NA 106 102      BAL            BL1
##    teamIDretro playerID salary
## 1          BS1     &amp;lt;NA&amp;gt;     NA
## 2          CH1     &amp;lt;NA&amp;gt;     NA
## 3          CL1     &amp;lt;NA&amp;gt;     NA
## 4          FW1     &amp;lt;NA&amp;gt;     NA
## 5          NY2     &amp;lt;NA&amp;gt;     NA
## 6          PH1     &amp;lt;NA&amp;gt;     NA
## 7          RC1     &amp;lt;NA&amp;gt;     NA
## 8          TRO     &amp;lt;NA&amp;gt;     NA
## 9          WS3     &amp;lt;NA&amp;gt;     NA
## 10         BL1     &amp;lt;NA&amp;gt;     NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The first thing to notice is that now there are years in the yearID variable from before 1985, this was not the case in the above data joined using &lt;code&gt;inner_join&lt;/code&gt;. If you scroll over to explore variables to the right, there are missing values for the salary variable. What &lt;code&gt;left_join&lt;/code&gt; does when it doesn’t find a match in the table is to produce NA values, so all records within the joined data will be NA before 1985.&lt;/p&gt;
&lt;p&gt;This is the major difference between outer joins and inner joins. Outer joins will preserve data in the keyed data that do not match and NA values are returned for non-matching values. For inner joins, any keys that do not match are removed.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;right-join&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Right Join&lt;/h2&gt;
&lt;p&gt;A right join is similar to a left join, except the keyed table is the second one specified (the rightmost data). For example, if we wished for the salary information to be the keyed table, we could do that same specification as above, but use &lt;code&gt;right_join&lt;/code&gt; instead of &lt;code&gt;left_join&lt;/code&gt;. &lt;em&gt;Note: I print only 10 rows of data with the &lt;code&gt;head()&lt;/code&gt; function. This part of the code below would generally not be used.&lt;/em&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;right_join(Teams, Salaries) %&amp;gt;%
  head(n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Joining, by = c(&amp;quot;yearID&amp;quot;, &amp;quot;lgID&amp;quot;, &amp;quot;teamID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    yearID lgID teamID franchID divID Rank   G Ghome  W  L DivWin WCWin LgWin
## 1    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 2    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 3    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 4    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 5    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 6    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 7    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 8    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 9    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 10   1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
##    WSWin   R   AB    H X2B X3B  HR  BB  SO SB CS HBP SF  RA  ER  ERA CG SHO SV
## 1      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 2      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 3      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 4      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 5      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 6      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 7      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 8      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 9      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 10     N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
##    IPouts   HA HRA BBA SOA   E  DP    FP           name
## 1    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 2    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 3    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 4    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 5    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 6    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 7    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 8    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 9    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 10   4372 1512 134 642 776 159 197 0.976 Atlanta Braves
##                             park attendance BPF PPF teamIDBR teamIDlahman45
## 1  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 2  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 3  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 4  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 5  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 6  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 7  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 8  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 9  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 10 Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
##    teamIDretro  playerID salary
## 1          ATL barkele01 870000
## 2          ATL bedrost01 550000
## 3          ATL benedbr01 545000
## 4          ATL  campri01 633333
## 5          ATL ceronri01 625000
## 6          ATL chambch01 800000
## 7          ATL dedmoje01 150000
## 8          ATL forstte01 483333
## 9          ATL garbege01 772000
## 10         ATL harpete01 250000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This data is very similar (although not identical) to the one from the inner join above. Can you spot what is different?&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;full-join&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Full Join&lt;/h2&gt;
&lt;p&gt;Full join is the last type of outer join and this will return all values from both tables and NAs will be given for those keys that do not match. For example,&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;full_join(Teams, Salaries) %&amp;gt;%
  head(n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Joining, by = c(&amp;quot;yearID&amp;quot;, &amp;quot;lgID&amp;quot;, &amp;quot;teamID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    yearID lgID teamID franchID divID Rank  G Ghome  W  L DivWin WCWin LgWin
## 1    1871   NA    BS1      BNA  &amp;lt;NA&amp;gt;    3 31    NA 20 10   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 2    1871   NA    CH1      CNA  &amp;lt;NA&amp;gt;    2 28    NA 19  9   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 3    1871   NA    CL1      CFC  &amp;lt;NA&amp;gt;    8 29    NA 10 19   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 4    1871   NA    FW1      KEK  &amp;lt;NA&amp;gt;    7 19    NA  7 12   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 5    1871   NA    NY2      NNA  &amp;lt;NA&amp;gt;    5 33    NA 16 17   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 6    1871   NA    PH1      PNA  &amp;lt;NA&amp;gt;    1 28    NA 21  7   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     Y
## 7    1871   NA    RC1      ROK  &amp;lt;NA&amp;gt;    9 25    NA  4 21   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 8    1871   NA    TRO      TRO  &amp;lt;NA&amp;gt;    6 29    NA 13 15   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 9    1871   NA    WS3      OLY  &amp;lt;NA&amp;gt;    4 32    NA 15 15   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
## 10   1872   NA    BL1      BLC  &amp;lt;NA&amp;gt;    2 58    NA 35 19   &amp;lt;NA&amp;gt;  &amp;lt;NA&amp;gt;     N
##    WSWin   R   AB   H X2B X3B HR BB SO SB CS HBP SF  RA  ER  ERA CG SHO SV
## 1   &amp;lt;NA&amp;gt; 401 1372 426  70  37  3 60 19 73 16  NA NA 303 109 3.55 22   1  3
## 2   &amp;lt;NA&amp;gt; 302 1196 323  52  21 10 60 22 69 21  NA NA 241  77 2.76 25   0  1
## 3   &amp;lt;NA&amp;gt; 249 1186 328  35  40  7 26 25 18  8  NA NA 341 116 4.11 23   0  0
## 4   &amp;lt;NA&amp;gt; 137  746 178  19   8  2 33  9 16  4  NA NA 243  97 5.17 19   1  0
## 5   &amp;lt;NA&amp;gt; 302 1404 403  43  21  1 33 15 46 15  NA NA 313 121 3.72 32   1  0
## 6   &amp;lt;NA&amp;gt; 376 1281 410  66  27  9 46 23 56 12  NA NA 266 137 4.95 27   0  0
## 7   &amp;lt;NA&amp;gt; 231 1036 274  44  25  3 38 30 53 10  NA NA 287 108 4.30 23   1  0
## 8   &amp;lt;NA&amp;gt; 351 1248 384  51  34  6 49 19 62 24  NA NA 362 153 5.51 28   0  0
## 9   &amp;lt;NA&amp;gt; 310 1353 375  54  26  6 48 13 48 13  NA NA 303 137 4.37 32   0  0
## 10  &amp;lt;NA&amp;gt; 617 2571 753 106  31 14 29 28 53 18  NA NA 434 166 2.90 48   1  1
##    IPouts  HA HRA BBA SOA   E DP    FP                    name
## 1     828 367   2  42  23 243 24 0.834    Boston Red Stockings
## 2     753 308   6  28  22 229 16 0.829 Chicago White Stockings
## 3     762 346  13  53  34 234 15 0.818  Cleveland Forest Citys
## 4     507 261   5  21  17 163  8 0.803    Fort Wayne Kekiongas
## 5     879 373   7  42  22 235 14 0.840        New York Mutuals
## 6     747 329   3  53  16 194 13 0.845  Philadelphia Athletics
## 7     678 315   3  34  16 220 14 0.821   Rockford Forest Citys
## 8     750 431   4  75  12 198 22 0.845          Troy Haymakers
## 9     846 371   4  45  13 218 20 0.850     Washington Olympics
## 10   1548 573   3  63  77 432 22 0.830      Baltimore Canaries
##                                 park attendance BPF PPF teamIDBR teamIDlahman45
## 1                South End Grounds I         NA 103  98      BOS            BS1
## 2            Union Base-Ball Grounds         NA 104 102      CHI            CH1
## 3       National Association Grounds         NA  96 100      CLE            CL1
## 4                     Hamilton Field         NA 101 107      KEK            FW1
## 5           Union Grounds (Brooklyn)         NA  90  88      NYU            NY2
## 6           Jefferson Street Grounds         NA 102  98      ATH            PH1
## 7  Agricultural Society Fair Grounds         NA  97  99      ROK            RC1
## 8                 Haymakers&amp;#39; Grounds         NA 101 100      TRO            TRO
## 9                   Olympics Grounds         NA  94  98      OLY            WS3
## 10                    Newington Park         NA 106 102      BAL            BL1
##    teamIDretro playerID salary
## 1          BS1     &amp;lt;NA&amp;gt;     NA
## 2          CH1     &amp;lt;NA&amp;gt;     NA
## 3          CL1     &amp;lt;NA&amp;gt;     NA
## 4          FW1     &amp;lt;NA&amp;gt;     NA
## 5          NY2     &amp;lt;NA&amp;gt;     NA
## 6          PH1     &amp;lt;NA&amp;gt;     NA
## 7          RC1     &amp;lt;NA&amp;gt;     NA
## 8          TRO     &amp;lt;NA&amp;gt;     NA
## 9          WS3     &amp;lt;NA&amp;gt;     NA
## 10         BL1     &amp;lt;NA&amp;gt;     NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;Note: I print only 10 rows of data with the &lt;code&gt;head()&lt;/code&gt; function. This part of the code below would generally not be used.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This data is very similar to the left join above, but not identical, can you tell the difference again?&lt;/p&gt;
&lt;p&gt;Below is a diagram of the differences between the three outer joins from the R for Data Science text, &lt;a href=&#34;https://r4ds.had.co.nz/relational-data.html#outer-join&#34;&gt;outer joins diagram&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;filtering-joins&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Filtering Joins&lt;/h2&gt;
&lt;p&gt;I tend to not use filtering joins, however, these are useful to connect summary data back to the original rows in the data. For example, using the &lt;code&gt;team_salary&lt;/code&gt; data created above, let’s select only the top 10 teams in terms of average salary from the year 2015.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;top_salary_15 &amp;lt;- team_salary %&amp;gt;%
  group_by(yearID, teamID) %&amp;gt;%
  summarise(avg_salary = mean(salary, na.rm = TRUE)) %&amp;gt;%
  filter(yearID == 2015) %&amp;gt;%
  arrange(desc(avg_salary)) %&amp;gt;%
  head(10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` has grouped output by &amp;#39;yearID&amp;#39;. You can override using the
## `.groups` argument.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;top_salary_15&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 10 × 3
## # Groups:   yearID [1]
##    yearID teamID avg_salary
##     &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt;       &amp;lt;dbl&amp;gt;
##  1   2015 LAN      7441103.
##  2   2015 NYA      7336274.
##  3   2015 DET      6891390 
##  4   2015 SFN      6100056.
##  5   2015 BOS      5659481.
##  6   2015 WAS      5365085.
##  7   2015 SEA      4888348 
##  8   2015 TEX      4791426.
##  9   2015 SLN      4586212.
## 10   2015 SDN      4555435.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Although not impossible, it would be a bit more difficult to connect these teams and years back to the original data in the &lt;code&gt;team_salary&lt;/code&gt; data. This can be done simply with a filtering join, namely a semi join.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;team_salary %&amp;gt;%
  semi_join(top_salary_15) %&amp;gt;%
  head(n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Joining, by = c(&amp;quot;yearID&amp;quot;, &amp;quot;teamID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    yearID lgID teamID franchID divID Rank   G Ghome  W  L DivWin WCWin LgWin
## 1    2015   AL    BOS      BOS     E    5 162    81 78 84      N     N     N
## 2    2015   AL    BOS      BOS     E    5 162    81 78 84      N     N     N
## 3    2015   AL    BOS      BOS     E    5 162    81 78 84      N     N     N
## 4    2015   AL    BOS      BOS     E    5 162    81 78 84      N     N     N
## 5    2015   AL    BOS      BOS     E    5 162    81 78 84      N     N     N
## 6    2015   AL    BOS      BOS     E    5 162    81 78 84      N     N     N
## 7    2015   AL    BOS      BOS     E    5 162    81 78 84      N     N     N
## 8    2015   AL    BOS      BOS     E    5 162    81 78 84      N     N     N
## 9    2015   AL    BOS      BOS     E    5 162    81 78 84      N     N     N
## 10   2015   AL    BOS      BOS     E    5 162    81 78 84      N     N     N
##    WSWin   R   AB    H X2B X3B  HR  BB   SO SB CS HBP SF  RA  ER  ERA CG SHO SV
## 1      N 748 5640 1495 294  33 161 478 1148 71 27  46 42 753 694 4.31  3  10 40
## 2      N 748 5640 1495 294  33 161 478 1148 71 27  46 42 753 694 4.31  3  10 40
## 3      N 748 5640 1495 294  33 161 478 1148 71 27  46 42 753 694 4.31  3  10 40
## 4      N 748 5640 1495 294  33 161 478 1148 71 27  46 42 753 694 4.31  3  10 40
## 5      N 748 5640 1495 294  33 161 478 1148 71 27  46 42 753 694 4.31  3  10 40
## 6      N 748 5640 1495 294  33 161 478 1148 71 27  46 42 753 694 4.31  3  10 40
## 7      N 748 5640 1495 294  33 161 478 1148 71 27  46 42 753 694 4.31  3  10 40
## 8      N 748 5640 1495 294  33 161 478 1148 71 27  46 42 753 694 4.31  3  10 40
## 9      N 748 5640 1495 294  33 161 478 1148 71 27  46 42 753 694 4.31  3  10 40
## 10     N 748 5640 1495 294  33 161 478 1148 71 27  46 42 753 694 4.31  3  10 40
##    IPouts   HA HRA BBA  SOA  E  DP    FP           name           park
## 1    4345 1486 178 478 1218 97 148 0.984 Boston Red Sox Fenway Park II
## 2    4345 1486 178 478 1218 97 148 0.984 Boston Red Sox Fenway Park II
## 3    4345 1486 178 478 1218 97 148 0.984 Boston Red Sox Fenway Park II
## 4    4345 1486 178 478 1218 97 148 0.984 Boston Red Sox Fenway Park II
## 5    4345 1486 178 478 1218 97 148 0.984 Boston Red Sox Fenway Park II
## 6    4345 1486 178 478 1218 97 148 0.984 Boston Red Sox Fenway Park II
## 7    4345 1486 178 478 1218 97 148 0.984 Boston Red Sox Fenway Park II
## 8    4345 1486 178 478 1218 97 148 0.984 Boston Red Sox Fenway Park II
## 9    4345 1486 178 478 1218 97 148 0.984 Boston Red Sox Fenway Park II
## 10   4345 1486 178 478 1218 97 148 0.984 Boston Red Sox Fenway Park II
##    attendance BPF PPF teamIDBR teamIDlahman45 teamIDretro  playerID   salary
## 1     2880694 104 107      BOS            BOS         BOS barnema01   508500
## 2     2880694 104 107      BOS            BOS         BOS bettsmo01   514500
## 3     2880694 104 107      BOS            BOS         BOS bogaexa01   543000
## 4     2880694 104 107      BOS            BOS         BOS bradlja02   528000
## 5     2880694 104 107      BOS            BOS         BOS breslcr01  2000000
## 6     2880694 104 107      BOS            BOS         BOS buchhcl01 12000000
## 7     2880694 104 107      BOS            BOS         BOS castiru01 11271000
## 8     2880694 104 107      BOS            BOS         BOS cecchga01   508500
## 9     2880694 104 107      BOS            BOS         BOS craigal01  5500000
## 10    2880694 104 107      BOS            BOS         BOS hanigry01  3500000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;Note: I print only 10 rows of data with the &lt;code&gt;head()&lt;/code&gt; function. This part of the code below would generally not be used.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This operation selected only the rows that had the matching keys from the first table (note that the columns were not touched).&lt;/p&gt;
&lt;p&gt;The opposite operation is to use an anti join, in this type of join, the rows that do not match will be returned.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;team_salary %&amp;gt;%
  anti_join(top_salary_15) %&amp;gt;%
  head(n = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Joining, by = c(&amp;quot;yearID&amp;quot;, &amp;quot;teamID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    yearID lgID teamID franchID divID Rank   G Ghome  W  L DivWin WCWin LgWin
## 1    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 2    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 3    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 4    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 5    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 6    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 7    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 8    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 9    1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
## 10   1985   NL    ATL      ATL     W    5 162    81 66 96      N  &amp;lt;NA&amp;gt;     N
##    WSWin   R   AB    H X2B X3B  HR  BB  SO SB CS HBP SF  RA  ER  ERA CG SHO SV
## 1      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 2      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 3      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 4      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 5      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 6      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 7      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 8      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 9      N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
## 10     N 632 5526 1359 213  28 126 553 849 72 52  22 41 781 679 4.19  9   9 29
##    IPouts   HA HRA BBA SOA   E  DP    FP           name
## 1    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 2    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 3    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 4    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 5    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 6    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 7    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 8    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 9    4372 1512 134 642 776 159 197 0.976 Atlanta Braves
## 10   4372 1512 134 642 776 159 197 0.976 Atlanta Braves
##                             park attendance BPF PPF teamIDBR teamIDlahman45
## 1  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 2  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 3  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 4  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 5  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 6  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 7  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 8  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 9  Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
## 10 Atlanta-Fulton County Stadium    1350137 105 106      ATL            ATL
##    teamIDretro  playerID salary
## 1          ATL barkele01 870000
## 2          ATL bedrost01 550000
## 3          ATL benedbr01 545000
## 4          ATL  campri01 633333
## 5          ATL ceronri01 625000
## 6          ATL chambch01 800000
## 7          ATL dedmoje01 150000
## 8          ATL forstte01 483333
## 9          ATL garbege01 772000
## 10         ATL harpete01 250000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;Note: I print only 10 rows of data with the &lt;code&gt;head()&lt;/code&gt; function. This part of the code below would generally not be used.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The sum of the number of rows in these two tables should equal the number of rows from the entire &lt;code&gt;team_salary&lt;/code&gt; data table&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;anti_rows &amp;lt;- team_salary %&amp;gt;%
  anti_join(top_salary_15) %&amp;gt;%
  nrow()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Joining, by = c(&amp;quot;yearID&amp;quot;, &amp;quot;teamID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;semi_rows &amp;lt;- team_salary %&amp;gt;%
  semi_join(top_salary_15) %&amp;gt;%
  nrow()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Joining, by = c(&amp;quot;yearID&amp;quot;, &amp;quot;teamID&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;anti_rows + semi_rows == nrow(team_salary)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the &lt;code&gt;Teams&lt;/code&gt; and &lt;code&gt;Managers&lt;/code&gt; data, join the two tables and only keep the matching observations in both tables. Note, you may need to specify the column names directly you wish to join by. What happens to the columns that have the same names but are not keys?&lt;/li&gt;
&lt;li&gt;Using the same data tables from #1, add all the &lt;code&gt;Managers&lt;/code&gt; variables to the &lt;code&gt;Teams&lt;/code&gt; data while retaining all the rows for the &lt;code&gt;Teams&lt;/code&gt; data.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Week 11</title>
      <link>https://psqf6250.brandonlebeau.org/content/11-week11/</link>
      <pubDate>Mon, 28 Mar 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/11-week11/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week will focus on reproducible tables. The focus will be on functionality built into R to incorporate reproducible tables in an R markdown document to help ensure the analysis is reproducible.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Identify table elements&lt;/li&gt;
&lt;li&gt;Create reproducible tables&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Introduction to Reproducible Tables&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=59581b8e-2f08-484e-8094-aa0a0113ff42&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Formatting Table with &lt;code&gt;kableExtra&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=b3dad5b8-469b-42a1-a41d-aa0a01198e60&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Column, Row, and Cell Formatting&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=6aaa9c0f-dc53-4aa3-8dce-aa0a011df04c&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Grouping Columns or Rows&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=4df08b63-2afc-46dc-a817-aa0a01234bca&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/reproducible-tables/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Reproducible Tables&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;p&gt;To come &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Assignment 3</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/assignment/assignment3/</link>
      <pubDate>Mon, 21 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/assignment/assignment3/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Exploratory Data Analysis&lt;/strong&gt; and &lt;strong&gt;Data Restructuring&lt;/strong&gt;: &lt;em&gt;10 pts&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Due: Around &lt;em&gt;March 27th, 2021&lt;/em&gt; - No penalty for late submissions, but due no later than &lt;em&gt;May 8th&lt;/em&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;In this assignment, you will perform exploratory data analysis using the &lt;code&gt;gss_cat&lt;/code&gt; data from the &lt;code&gt;forcats&lt;/code&gt; package. The source file (the .Rmd) file will be turned in as well as the compiled version (html). Create a new .Rmd file for this assignment. You also do not need to explicitly answer the research question, rather this is used to guide the first part of the assignment.&lt;/p&gt;
&lt;p&gt;You also do not need to include the code for most questions in the compiled (html) version since the Rmd will be turned in as well. If a question asks for code or there is particular elements of code you&amp;rsquo;d like to share, you can definitely include those in the final compiled version, but please limit those sections to specific elements rather than long chunks of code. Long chunks of code are best left for the Rmd document.&lt;/p&gt;
&lt;p&gt;The source file (the .Rmd) file will be turned in as well as the compiled version (html). Note, please create a new Rmd document for this assignment rather than continue the one from the first assignment. Submit completed assignment, including Rmd and html to &lt;a href=&#34;https://uiowa.instructure.com/courses/183068/assignments/1629182&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ICON&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;All graphics should be of high quality, this includes formatting of axes, axes labels, etc. If none of the graphics are of high quality, a &lt;strong&gt;2 pt&lt;/strong&gt; penalty will apply over and above any item-specific reductions.&lt;/p&gt;
&lt;h1 id=&#34;research-questions&#34;&gt;Research Questions&lt;/h1&gt;
&lt;p&gt;The following research questions will be used to guide the assignment, but you do not need to answer these directly. The questions below will reference these questions.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;How is age related to the amount of television a person reports watching?&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;questions&#34;&gt;Questions&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Does there appear to be patterns in the missing data from the variable &lt;code&gt;tvhours&lt;/code&gt; by different income and age levels? Provide evidence for your reasoning. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Provide a descriptive analysis exploring the research question above. Does age appear to be related to the amount of time a person spends watching television? Ensure in your discussion you provide justification for why you feel one way or the other and be as descriptive as possible. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Data Import, Restructuring, Joining&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In this part of the assignment, you will import data and perform data manipulations on this data file.&lt;/p&gt;
&lt;h1 id=&#34;questions-1&#34;&gt;Questions&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Read in the &amp;ldquo;ECLS_6250.csv&amp;rdquo; data file from the &lt;a href=&#34;https://psqf6250.brandonlebeau.org/data/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;course website&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using the &lt;code&gt;head()&lt;/code&gt; function, print the first few rows of the data and using the &lt;code&gt;dim()&lt;/code&gt; function, print out the dimensions of the data. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Verify that the data that are indeed missing are read in as missing values. Use the &amp;ldquo;ECLS_6250.pdf&amp;rdquo; codebook (found on the &lt;a href=&#34;https://psqf6250.brandonlebeau.org/data/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;course website&lt;/a&gt;) to confirm values of missing data for each variable, these are listed for each variable directly in the codebook.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Compute the mean of the following two variables: &amp;ldquo;C4R4MSCL&amp;rdquo; and &amp;ldquo;W3SESL&amp;rdquo;. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using the &lt;code&gt;tidyr&lt;/code&gt; package, convert this data into an extra long format where the variables CHILDID, KURBAN_R, GENDER, and RACE are the id variables. The other data attributes would all represent data values to be restructured.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using the &lt;code&gt;head()&lt;/code&gt; function, print the first few rows of the data and using the &lt;code&gt;dim()&lt;/code&gt; function, print out the dimensions of the data. Note, you should have 6 columns when you are done with this step. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using the restructured data from #3 above, create three new variables that represent the type of variable (S = School, C = Child, W = family), the wave number, and remaining information. The type of variable and the wave number are the first and second characters of the variable names that were restructured (i.e. stacked) in #3. Hint, using the &lt;code&gt;separate()&lt;/code&gt; function would be useful for this step and exploring some random rows of the data may be helpful using &lt;code&gt;head()&lt;/code&gt; or &lt;code&gt;tail()&lt;/code&gt; or &lt;code&gt;sample_n()&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using the &lt;code&gt;head()&lt;/code&gt; function, print the first few rows of the data and using the &lt;code&gt;dim()&lt;/code&gt; function, print out the dimensions of the data. Note, you should have 8 columns when you are done with this step. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using the restructured data from #4, combine the variable type (i.e., the attribute that is either S, C, or W) and left-over names. This new variable should be similar to the original variable names from when reading in the data from #1, but should not include the wave information in it. Hint, the &lt;code&gt;unite()&lt;/code&gt; function should be helpful for this step.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using the &lt;code&gt;head()&lt;/code&gt; function, print the first few rows of the data and using the &lt;code&gt;dim()&lt;/code&gt; function, print out the dimensions of the data. Note, you should have 7 columns when you are done with this step. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Finally, using the restructured data from #5, widen the data set to create a variable for each unique value from the newly created variable from #5.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using the &lt;code&gt;head()&lt;/code&gt; function, print the first few rows of the data and using the &lt;code&gt;dim()&lt;/code&gt; function, print out the dimensions of the data. Note, you should have 9 columns and fewer rows than #5 when you are done with this step. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Read in the &amp;ldquo;ECLS_6250_school.csv&amp;rdquo; data file found on the &lt;a href=&#34;https://psqf6250.brandonlebeau.org/data/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;course website&lt;/a&gt;. Using the restructured data created in #6, merge the school data imported in question #7 into the child level data. Use the type of join where the number of rows for the child level data are not changed. More specifically, the final data should have the same number of rows as #6, but will add 5 new columns.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using the &lt;code&gt;head()&lt;/code&gt; function, print the first few rows of the merged data and using the &lt;code&gt;dim()&lt;/code&gt; function, print out the dimensions of the merged data. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;This question has a number of steps which are highlighted below in more detail.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Identify the 25 schools at wave 1 that have the highest proportion of female students and create a new data file that has has the school ID and proportion of female students in the school. Note: Use the codebook to identify which code represents males and females. It may also be helpful, although not necessary, to create a new variable for gender.&lt;/li&gt;
&lt;li&gt;Perform a filtering join that returns only the rows from the child level data (i.e., the final data from #7) at wave 1 that belong to the 25 schools that had the highest proportion of females at wave 1 (from step one of this question).&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Using the &lt;code&gt;head()&lt;/code&gt; function, print the first few rows of the data and using the &lt;code&gt;dim()&lt;/code&gt; function, print out the dimensions of the data. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Factors</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/factors/</link>
      <pubDate>Fri, 26 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/factors/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;To date I have ignored factor variables and how these are implemented in R. Much of this is due to the greater flexibility of character vectors instead of factors. Also, if using the &lt;code&gt;readr&lt;/code&gt; or &lt;code&gt;readxl&lt;/code&gt; packages to read in data, the variables are also read in as character strings instead of factors. However, there are situations when factors are useful. Most of these uses are for readability when creating output formats for a report or paper.&lt;/p&gt;
&lt;p&gt;This set of notes will make use of the following three packages:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(forcats)
library(fivethirtyeight)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;uses-for-factors&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Uses for Factors&lt;/h2&gt;
&lt;p&gt;To see a few of the benefits of a factor, assume we have a variable that represents the levels of a survey question with five possible responses and we only saw three of those response categories.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;resp &amp;lt;- c(&amp;#39;Disagree&amp;#39;, &amp;#39;Agree&amp;#39;, &amp;#39;Neutral&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This type of variable has a natural order, namely the disagree side of the scale (i.e. strongly disagree) to the agree side of the scale (i.e. strongly agree) with neutral belonging in the middle. However, if we sort this variable, this ordering will not be taken into account with a character string.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sort(resp)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Agree&amp;quot;    &amp;quot;Disagree&amp;quot; &amp;quot;Neutral&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice, these are actually in alphabetical order, likely not what we wanted. This can be fixed by defining this variable as a factor with levels of the variable specified.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;scale_levels &amp;lt;- c(&amp;#39;Strongly Disagree&amp;#39;, &amp;#39;Disagree&amp;#39;, 
                  &amp;#39;Neutral&amp;#39;, &amp;#39;Agree&amp;#39;, &amp;#39;Strongly Agree&amp;#39;)
resp_fact &amp;lt;- factor(resp, levels = scale_levels)
resp_fact&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] Disagree Agree    Neutral 
## Levels: Strongly Disagree Disagree Neutral Agree Strongly Agree&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sort(resp_fact)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] Disagree Neutral  Agree   
## Levels: Strongly Disagree Disagree Neutral Agree Strongly Agree&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Another benefit, if values that are not found in the levels of the factor variable, these will be replaced with NAs. For example,&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;factor(c(&amp;#39;disagree&amp;#39;, &amp;#39;Agree&amp;#39;, &amp;#39;Strongly Agree&amp;#39;), 
       levels = scale_levels)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;lt;NA&amp;gt;           Agree          Strongly Agree
## Levels: Strongly Disagree Disagree Neutral Agree Strongly Agree&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can also explore valid levels of a variables with the &lt;code&gt;levels&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;levels(resp_fact)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Strongly Disagree&amp;quot; &amp;quot;Disagree&amp;quot;          &amp;quot;Neutral&amp;quot;          
## [4] &amp;quot;Agree&amp;quot;             &amp;quot;Strongly Agree&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;How are factors stored internally by R? To explore this, use the &lt;code&gt;str&lt;/code&gt; function on a factor variable and see what it looks like?&lt;/li&gt;
&lt;li&gt;To further this idea from #1, what happens when you do each of the following commands? Why is this happening?&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;as.numeric(resp)
as.numeric(resp_fact)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;common-factor-manipulations&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Common Factor Manipulations&lt;/h2&gt;
&lt;p&gt;In addition to setting the levels of the variable, there are two common tasks useful with factors.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Reorder factor levels for plotting or table creation&lt;/li&gt;
&lt;li&gt;Change the levels of the factor (i.e. collapse levels)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Examples of each of these will be given with the &lt;code&gt;weather_check&lt;/code&gt; data from the &lt;code&gt;fivethirtyeight&lt;/code&gt; package.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;weather_check&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 928 × 9
##    respondent_id ck_weather weather_source     weather_source_… ck_weather_watch
##            &amp;lt;dbl&amp;gt; &amp;lt;lgl&amp;gt;      &amp;lt;chr&amp;gt;              &amp;lt;chr&amp;gt;            &amp;lt;ord&amp;gt;           
##  1    3887201482 TRUE       The default weath… &amp;lt;NA&amp;gt;             Very likely     
##  2    3887159451 TRUE       The default weath… &amp;lt;NA&amp;gt;             Very likely     
##  3    3887152228 TRUE       The default weath… &amp;lt;NA&amp;gt;             Very likely     
##  4    3887145426 TRUE       The default weath… &amp;lt;NA&amp;gt;             Somewhat likely 
##  5    3887021873 TRUE       A specific websit… Iphone app       Very likely     
##  6    3886937140 TRUE       A specific websit… AccuWeather App  Somewhat likely 
##  7    3886923931 TRUE       The Weather Chann… &amp;lt;NA&amp;gt;             Very unlikely   
##  8    3886913587 TRUE       &amp;lt;NA&amp;gt;               &amp;lt;NA&amp;gt;             &amp;lt;NA&amp;gt;            
##  9    3886889048 TRUE       The Weather Chann… &amp;lt;NA&amp;gt;             Very likely     
## 10    3886848806 TRUE       The default weath… &amp;lt;NA&amp;gt;             Very likely     
## # … with 918 more rows, and 4 more variables: age &amp;lt;fct&amp;gt;, female &amp;lt;lgl&amp;gt;,
## #   hhold_income &amp;lt;ord&amp;gt;, region &amp;lt;chr&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;reorder-factor-variables&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Reorder Factor Variables&lt;/h3&gt;
&lt;p&gt;To show examples of this operation, suppose we calculated the proportion of respondents that checked the weather daily by region of the country. We could use dplyr for this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;prop_check_weather &amp;lt;- weather_check %&amp;gt;%
  group_by(region) %&amp;gt;%
  summarise(prop = mean(ck_weather))
prop_check_weather&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 10 × 2
##    region              prop
##    &amp;lt;chr&amp;gt;              &amp;lt;dbl&amp;gt;
##  1 East North Central 0.858
##  2 East South Central 0.927
##  3 Middle Atlantic    0.885
##  4 Mountain           0.792
##  5 New England        0.942
##  6 Pacific            0.697
##  7 South Atlantic     0.740
##  8 West North Central 0.815
##  9 West South Central 0.904
## 10 &amp;lt;NA&amp;gt;               0.548&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This would be a bit easier to view if we plotted this data:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(prop_check_weather, aes(prop, region)) + 
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/factors_files/figure-html/prop_weather-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot is difficult to read, primarily due to the way the points are ordered. Showing the regions in alphabetical order makes it more difficult to discern the trend. Instead, we would likely wish to reorder this variable by the ascending order of the proportion that check the weather. We will use the &lt;code&gt;fct_reorder&lt;/code&gt; function from the &lt;code&gt;forcats&lt;/code&gt; package. Note, I also omit the NA category here.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(na.omit(prop_check_weather), 
       aes(prop, fct_reorder(region, prop))) + 
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/factors_files/figure-html/prop_weather_reorder-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Need to be a bit careful with this operation however. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;weather_check %&amp;gt;%
  group_by(hhold_income) %&amp;gt;%
  summarise(prop = mean(ck_weather)) %&amp;gt;%
  na.omit() %&amp;gt;%
  ggplot(aes(prop, fct_reorder(hhold_income, prop))) + 
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/factors_files/figure-html/reorder_income-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Instead, this is the proper way to show this relationship:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;weather_check %&amp;gt;%
  group_by(hhold_income) %&amp;gt;%
  summarise(prop = mean(ck_weather)) %&amp;gt;%
  na.omit() %&amp;gt;%
  ggplot(aes(prop, hhold_income)) + 
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/factors_files/figure-html/income-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;exercises-1&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using data from the &lt;code&gt;fivethirtyeight&lt;/code&gt; package called &lt;code&gt;flying&lt;/code&gt;, explore the proportion of respondents that believe the reclining the chair while flying should be eliminated (the variable is recline_eliminate).&lt;/li&gt;
&lt;li&gt;Do these proportions differ by the location?&lt;/li&gt;
&lt;li&gt;Create a graphic that captures this relationship, you may wish to reorder the columns to more appropriately represent the relationship.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;rename-factor-levels&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Rename Factor Levels&lt;/h3&gt;
&lt;p&gt;These operations are useful to collapse categories or rename levels for publication. The primary function we will use for this operation is &lt;code&gt;fct_recode&lt;/code&gt; from the &lt;code&gt;forcats&lt;/code&gt; package.&lt;/p&gt;
&lt;p&gt;Again, using the &lt;code&gt;weather_check&lt;/code&gt; data, suppose we wished to change the levels of the age variable. The levels currently are:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;levels(weather_check$age)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;18 - 29&amp;quot; &amp;quot;30 - 44&amp;quot; &amp;quot;45 - 59&amp;quot; &amp;quot;60+&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Suppose we wished to better represent these as words. We can use this with &lt;code&gt;mutate&lt;/code&gt; from dplyr combined with &lt;code&gt;fct_recode&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;weather_check %&amp;gt;%
  mutate(age_recode = fct_recode(age,
      &amp;#39;18 to 29&amp;#39; = &amp;#39;18 - 29&amp;#39;,
      &amp;#39;30 to 44&amp;#39; = &amp;#39;30 - 44&amp;#39;,
      &amp;#39;45 to 59&amp;#39; = &amp;#39;45 - 59&amp;#39;
  )) %&amp;gt;%
  count(age_recode)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 × 2
##   age_recode     n
##   &amp;lt;fct&amp;gt;      &amp;lt;int&amp;gt;
## 1 18 to 29     176
## 2 30 to 44     204
## 3 45 to 59     278
## 4 60+          258
## 5 &amp;lt;NA&amp;gt;          12&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could also collapse categories by assigning many levels to the same new level. For example, suppose we wished to collapse the ck_weather_watch variable to unlikely and likely instead of the very unlikely to very likely.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;levels(weather_check$ck_weather_watch)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Very unlikely&amp;quot;     &amp;quot;Somewhat unlikely&amp;quot; &amp;quot;Somewhat likely&amp;quot;  
## [4] &amp;quot;Very likely&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;weather_check %&amp;gt;%
  mutate(watch_recode = fct_recode(ck_weather_watch,
         &amp;#39;Unlikely&amp;#39; = &amp;#39;Very unlikely&amp;#39;,
         &amp;#39;Unlikely&amp;#39; = &amp;#39;Somewhat unlikely&amp;#39;,
         &amp;#39;Likely&amp;#39; = &amp;#39;Somewhat likely&amp;#39;,
         &amp;#39;Likely&amp;#39; = &amp;#39;Very likely&amp;#39;
  )) %&amp;gt;%
  count(watch_recode)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 × 2
##   watch_recode     n
##   &amp;lt;ord&amp;gt;        &amp;lt;int&amp;gt;
## 1 Unlikely       281
## 2 Likely         636
## 3 &amp;lt;NA&amp;gt;            11&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finally, one last option that may be useful is to lump together categories that are too small to report independently. This functionality is implemented with the function &lt;code&gt;fct_lump&lt;/code&gt;. For example, suppose we want to lump the region variable together to have only 5 regions.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;weather_check %&amp;gt;%
  mutate(region = fct_lump(region, n = 5)) %&amp;gt;%
  count(region, sort = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 7 × 2
##   region                 n
##   &amp;lt;fct&amp;gt;              &amp;lt;int&amp;gt;
## 1 Other                219
## 2 Pacific              185
## 3 South Atlantic       154
## 4 East North Central   141
## 5 Middle Atlantic      104
## 6 West South Central    94
## 7 &amp;lt;NA&amp;gt;                  31&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;exercises-2&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Again, using the &lt;code&gt;flying&lt;/code&gt; data from the &lt;code&gt;fivethirtyeight&lt;/code&gt; package, is there a relationship between the proportion of respondents who have a children under 18 years old and if they believe it is rude to bring a baby on a plane? For this question, collapse the baby variable to two levels, no and yes.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Week 12</title>
      <link>https://psqf6250.brandonlebeau.org/content/12-week12/</link>
      <pubDate>Mon, 28 Mar 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/12-week12/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week will move to interactive graphics, a way to change how users interact with the output you create.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Identify utility of interactive graphics&lt;/li&gt;
&lt;li&gt;Create plotly interactive figures&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Introduction to Interactive Graphics&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=1b61520c-b323-45e6-84a8-aa14013cda8b&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Creating &lt;code&gt;plotly&lt;/code&gt; Figures from Scratch&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=474cc4a6-0376-42a6-8677-aa140144a078&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Creating Subplots with &lt;code&gt;plotly&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=3214c630-33e6-46a5-86eb-aa1501097368&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Other Interactive Frameworks&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=327564e8-8b45-4a01-8c4d-aa15010f6500&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/interactive-graphics/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Interactive Graphics&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;p&gt;To come &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Assignment 4</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/assignment/assignment4/</link>
      <pubDate>Mon, 14 Mar 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/assignment/assignment4/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Inferential Statistics with R&lt;/strong&gt;: &lt;em&gt;6 pts&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Due around &lt;em&gt;April 10th, 2022&lt;/em&gt; - No penalty for late submissions, but due no later than &lt;em&gt;May 8th&lt;/em&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;In this assignment, you will explore research questions from an inferential framework using R. The analyses will be more open ended and will likely contain data preparation steps as well. Please turn in the source file (the .Rmd) file as well as the compiled version (html). Create a new .Rmd file for this assignment. If a question asks for code or there is particular elements of code you&amp;rsquo;d like to share, you can definitely include those in the final compiled version, but please limit those sections to specific elements rather than long chunks of code. Long chunks of code are best left for the Rmd document.&lt;/p&gt;
&lt;p&gt;The data for this assignment can be found on GitHub and ICON and is named &amp;ldquo;cal-fire-9-10-2020&amp;rdquo;, &lt;a href=&#34;https://github.com/lebebr01/statthink/blob/master/data-raw/cal-fire-9-10-2020.csv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;data on GitHub&lt;/a&gt;. A description of the variables is also provided on ICON. Use this data to explore the questions below. Note, the questions below will guide you through the research questions. You do not need to answer the research questions explicitly, instead you can focus on the specific questions, but keeping the overall research questions in mind may be helpful as you complete the assignment.&lt;/p&gt;
&lt;p&gt;Any graphics you create should be of high quality, this includes formatting of axes, axes labels, etc. If none of the graphics are of high quality, a &lt;strong&gt;2 pt&lt;/strong&gt; penalty will apply.&lt;/p&gt;
&lt;h1 id=&#34;research-questions&#34;&gt;Research Questions&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Is there evidence that the number of acres burned has increased for fires in more recent years?&lt;/li&gt;
&lt;li&gt;Does month help explain variation in the number of acres burned over and above the year of the fire?&lt;/li&gt;
&lt;li&gt;When the number of days the fire has burned in added to the model, are year or month the fire started still useful predictors?&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;questions&#34;&gt;Questions&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Using text processing, create three new variables in the data that represents:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the year the fire started&lt;/li&gt;
&lt;li&gt;the month the fire started&lt;/li&gt;
&lt;li&gt;Create a new variable that represents the length of time a fire burned. This can be created by using the &lt;code&gt;difftime()&lt;/code&gt; function within R. Look at the help page to try to figure out how this function can compute differences in two dates.&lt;br&gt;
The code is sufficient for this question. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Are there any data points that are extreme values or outliers that you feel should be removed from this analysis? Discuss briefly, why you feel these values may impact the analysis and should therefore be removed. Be as specific as you can why any values should or should not be removed. If you identify data that are suspect, remove them from further analysis (i.e. use filter to remove the values). &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fit two competing models to attempt to answer the 1st and 2nd research questions. Summarize briefly the results from the models with particular attention to answering the research question so that non-statistics/data science individuals could use the answer for their planning or decision making process. Note, consider carefully the best approach on how to include month and year in your models (i.e., continuous vs factor type variables).  &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Which model fits best or do you feel is the best model?&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Note, please do not include the output from the &lt;code&gt;summary()&lt;/code&gt; function in your answer, instead pull out relevant information from the output to include in your description.&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Check assumptions for the models from #3. Does there appear to be problems with meeting statistical assumptions? Provide rationale for why or why not. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fit another model to attempt to answer the third research question. Summarize briefly the results from the model with particular attention to answering the research question so that non-statistics/data science individuals could use the answer for their planning or decision making process. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Note, please do not include the output from the &lt;code&gt;summary()&lt;/code&gt; function in your answer, instead pull out relevant information from the output to include in your description.&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Finally, create a graphic that summarizes the results from your final model that you feel fits the data the best (i.e. this could be the model from #4 or #7). Discuss why you picked this model and describe why this figure does a good job of showing the takeaway message. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Turning Tables into Graphics with R&lt;/strong&gt;: &lt;em&gt;4 pts&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Any graphics you create should be of high quality, this includes formatting of axes, axes labels, etc. If none of the graphics are of high quality, a &lt;strong&gt;1 pt&lt;/strong&gt; penalty will apply.&lt;/p&gt;
&lt;h1 id=&#34;introduction&#34;&gt;Introduction&lt;/h1&gt;
&lt;p&gt;Read the article &lt;a href=&#34;http://www.stat.columbia.edu/~gelman/research/published/dodhia.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Let&amp;rsquo;s Practice What We Preach: Turning Tables Into Graphs&lt;/a&gt;. In this article, Gelman, Pasarica, and Dodhia discuss the benefits of a graph instead of a table to succintly summarize statistical results.&lt;/p&gt;
&lt;h1 id=&#34;questions-1&#34;&gt;Questions&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Find a published table showing descriptive or inferential statistic results. Provide a copy of the table (a screen shot is fine for this purpose).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Turn the table from #1 above into a publication quality graphic using R. Ensure that this graphic conveys the same purpose as the original table. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a different from the figure created in #3 above, and make an interactive graphic that attempts to convey the same message as the original table. Note, this figure should be an entirely different figure from that in #3. For example, if you created a bar chart in #3, create something other than a bar chart for this question. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Briefly discuss whether you feel the graphs convey the message better or worse than the original table. Use specific examples from the table/graph and recommendations from the article in your discussion. Which figure do you feel does the best job in sharing the original purpose of the table? Be specific in your discussion. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Take the data from the original table, to do this you may need to create an Excel file or use the function &lt;code&gt;data.frame()&lt;/code&gt; to import the data from the original table. Use the &lt;code&gt;kable()&lt;/code&gt; function and &lt;code&gt;kableExtra&lt;/code&gt; package to create a reproducible table that looks as close as possible to the original table. &lt;strong&gt;1 pt&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Working with Character Strings</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/strings/</link>
      <pubDate>Fri, 26 Feb 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/strings/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/str_view/str_view.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/str_view-binding/str_view.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;An often useful task is to manipulate character string variables. This usually comes in the form of regular expressions. Regular expressions come as a part of the base R, however, the regular expressions found in the &lt;code&gt;stringr&lt;/code&gt; package are a bit more consistent in their naming structure, so we will use them (they are simply wrappers around the base R regular expressions).&lt;/p&gt;
&lt;p&gt;The following packages will be used in this section of notes.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
# install.packages(&amp;quot;stringr&amp;quot;)
library(stringr)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;basic-string-tasks&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Basic String Tasks&lt;/h2&gt;
&lt;p&gt;This section will discuss three basic string functions that help with simple string manipulations. These functions include: &lt;code&gt;str_length&lt;/code&gt;, &lt;code&gt;str_c&lt;/code&gt;, and &lt;code&gt;str_sub&lt;/code&gt;.&lt;/p&gt;
&lt;div id=&#34;str_length&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;str_length&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;str_length&lt;/code&gt; function can be used to calculate the length of the string. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;string &amp;lt;- c(&amp;#39;Iowa City&amp;#39;, &amp;#39;Cedar Rapids&amp;#39;, &amp;#39;Des Moines&amp;#39;, &amp;#39;IA&amp;#39;)
str_length(string)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  9 12 10  2&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;str_c&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;str_c&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;str_c&lt;/code&gt; function allows you to combine strings together in different ways. One way to think about this is to think about pasting strings together. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_c(&amp;#39;Iowa City&amp;#39;, &amp;#39;Cedar Rapids&amp;#39;, &amp;#39;Des Moines&amp;#39;, &amp;#39;IA&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Iowa CityCedar RapidsDes MoinesIA&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Perhaps more useful:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_c(c(&amp;#39;Iowa City&amp;#39;, &amp;#39;Cedar Rapids&amp;#39;, &amp;#39;Des Moines&amp;#39;), &amp;#39;IA&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Iowa CityIA&amp;quot;    &amp;quot;Cedar RapidsIA&amp;quot; &amp;quot;Des MoinesIA&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;More useful yet:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_c(c(&amp;#39;Iowa City&amp;#39;, &amp;#39;Cedar Rapids&amp;#39;, &amp;#39;Des Moines&amp;#39;), &amp;#39;IA&amp;#39;, sep = &amp;#39;, &amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Iowa City, IA&amp;quot;    &amp;quot;Cedar Rapids, IA&amp;quot; &amp;quot;Des Moines, IA&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also collapse multiple vectors of strings into a single string using the collapse argument.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_c(c(&amp;#39;Iowa City&amp;#39;, &amp;#39;Cedar Rapids&amp;#39;, &amp;#39;Des Moines&amp;#39;), collapse = &amp;#39;, &amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Iowa City, Cedar Rapids, Des Moines&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;str_sub&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;code&gt;str_sub&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;str_sub&lt;/code&gt; function is useful for subsetting strings by location. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_sub(c(&amp;#39;Iowa City&amp;#39;, &amp;#39;Cedar Rapids&amp;#39;, &amp;#39;Des Moines&amp;#39;), 1, 4)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Iowa&amp;quot; &amp;quot;Ceda&amp;quot; &amp;quot;Des &amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can use negative numbers to start from the end:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_sub(c(&amp;#39;Iowa City&amp;#39;, &amp;#39;Cedar Rapids&amp;#39;, &amp;#39;Des Moines&amp;#39;), -6, -1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;a City&amp;quot; &amp;quot;Rapids&amp;quot; &amp;quot;Moines&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;regular-expressions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Regular Expressions&lt;/h2&gt;
&lt;p&gt;Regular expressions are complicated and take awhile to master. This introduction is just going to cover the surface to get you started. To see the basics of regular expressions, we are going to use the &lt;code&gt;str_view&lt;/code&gt; function to view text matches.&lt;/p&gt;
&lt;p&gt;The most basic regular expression is simply to match literal text. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(&amp;#39;Iowa City&amp;#39;, &amp;#39;Cedar Rapids&amp;#39;, &amp;#39;Des Moines&amp;#39;)
str_view(x, &amp;#39;City&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:960px;height:100%;&#34; class=&#34;str_view html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;html&#34;:&#34;&lt;ul&gt;\n  &lt;li&gt;Iowa &lt;span class=&#39;match&#39;&gt;City&lt;\/span&gt;&lt;\/li&gt;\n  &lt;li&gt;Cedar Rapids&lt;\/li&gt;\n  &lt;li&gt;Des Moines&lt;\/li&gt;\n&lt;\/ul&gt;&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;Note that generally, regular expressions are case sensitive.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_view(x, &amp;#39;city&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-2&#34; style=&#34;width:960px;height:100%;&#34; class=&#34;str_view html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-2&#34;&gt;{&#34;x&#34;:{&#34;html&#34;:&#34;&lt;ul&gt;\n  &lt;li&gt;Iowa City&lt;\/li&gt;\n  &lt;li&gt;Cedar Rapids&lt;\/li&gt;\n  &lt;li&gt;Des Moines&lt;\/li&gt;\n&lt;\/ul&gt;&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;If you want the expression to ignore case, use the &lt;code&gt;ignore_case&lt;/code&gt; argument in tandem with &lt;code&gt;regex&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_view(x, regex(&amp;#39;city&amp;#39;, ignore_case = TRUE))&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-3&#34; style=&#34;width:960px;height:100%;&#34; class=&#34;str_view html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-3&#34;&gt;{&#34;x&#34;:{&#34;html&#34;:&#34;&lt;ul&gt;\n  &lt;li&gt;Iowa &lt;span class=&#39;match&#39;&gt;City&lt;\/span&gt;&lt;\/li&gt;\n  &lt;li&gt;Cedar Rapids&lt;\/li&gt;\n  &lt;li&gt;Des Moines&lt;\/li&gt;\n&lt;\/ul&gt;&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;Two other useful regular expression tools are anchoring and repeating patterns. First, anchor refers to whether the match should occur anywhere (the default), match at the beginning of the string, or match at the end of the string. To match at the start of the string:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(&amp;#39;Iowa City&amp;#39;, &amp;#39;Des Moines, Iowa&amp;#39;)
str_view(x, &amp;#39;^Iowa&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-4&#34; style=&#34;width:960px;height:100%;&#34; class=&#34;str_view html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-4&#34;&gt;{&#34;x&#34;:{&#34;html&#34;:&#34;&lt;ul&gt;\n  &lt;li&gt;&lt;span class=&#39;match&#39;&gt;Iowa&lt;\/span&gt; City&lt;\/li&gt;\n  &lt;li&gt;Des Moines, Iowa&lt;\/li&gt;\n&lt;\/ul&gt;&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;Or to match at the end of a string:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_view(x, &amp;#39;Iowa$&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-5&#34; style=&#34;width:960px;height:100%;&#34; class=&#34;str_view html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-5&#34;&gt;{&#34;x&#34;:{&#34;html&#34;:&#34;&lt;ul&gt;\n  &lt;li&gt;Iowa City&lt;\/li&gt;\n  &lt;li&gt;Des Moines, &lt;span class=&#39;match&#39;&gt;Iowa&lt;\/span&gt;&lt;\/li&gt;\n&lt;\/ul&gt;&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;There are three operators that are useful for matching repetitious strings.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt; 0 or 1 match&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+&lt;/code&gt; 1 or more&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt; 0 or more&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Examples of these are given below:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sounds &amp;lt;- c(&amp;#39;baaaa&amp;#39;, &amp;#39;ssss&amp;#39;, &amp;#39;moo&amp;#39;, &amp;#39;buzz&amp;#39;, &amp;#39;purr&amp;#39;)
str_view(sounds, &amp;#39;a?&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-6&#34; style=&#34;width:960px;height:100%;&#34; class=&#34;str_view html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-6&#34;&gt;{&#34;x&#34;:{&#34;html&#34;:&#34;&lt;ul&gt;\n  &lt;li&gt;&lt;span class=&#39;match&#39;&gt;&lt;\/span&gt;baaaa&lt;\/li&gt;\n  &lt;li&gt;&lt;span class=&#39;match&#39;&gt;&lt;\/span&gt;ssss&lt;\/li&gt;\n  &lt;li&gt;&lt;span class=&#39;match&#39;&gt;&lt;\/span&gt;moo&lt;\/li&gt;\n  &lt;li&gt;&lt;span class=&#39;match&#39;&gt;&lt;\/span&gt;buzz&lt;\/li&gt;\n  &lt;li&gt;&lt;span class=&#39;match&#39;&gt;&lt;\/span&gt;purr&lt;\/li&gt;\n&lt;\/ul&gt;&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_view(sounds, &amp;#39;a+&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-7&#34; style=&#34;width:960px;height:100%;&#34; class=&#34;str_view html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-7&#34;&gt;{&#34;x&#34;:{&#34;html&#34;:&#34;&lt;ul&gt;\n  &lt;li&gt;b&lt;span class=&#39;match&#39;&gt;aaaa&lt;\/span&gt;&lt;\/li&gt;\n  &lt;li&gt;ssss&lt;\/li&gt;\n  &lt;li&gt;moo&lt;\/li&gt;\n  &lt;li&gt;buzz&lt;\/li&gt;\n  &lt;li&gt;purr&lt;\/li&gt;\n&lt;\/ul&gt;&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_view(sounds, &amp;#39;rrr*&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-8&#34; style=&#34;width:960px;height:100%;&#34; class=&#34;str_view html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-8&#34;&gt;{&#34;x&#34;:{&#34;html&#34;:&#34;&lt;ul&gt;\n  &lt;li&gt;baaaa&lt;\/li&gt;\n  &lt;li&gt;ssss&lt;\/li&gt;\n  &lt;li&gt;moo&lt;\/li&gt;\n  &lt;li&gt;buzz&lt;\/li&gt;\n  &lt;li&gt;pu&lt;span class=&#39;match&#39;&gt;rr&lt;\/span&gt;&lt;\/li&gt;\n&lt;\/ul&gt;&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_view(sounds, &amp;#39;rrr+&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-9&#34; style=&#34;width:960px;height:100%;&#34; class=&#34;str_view html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-9&#34;&gt;{&#34;x&#34;:{&#34;html&#34;:&#34;&lt;ul&gt;\n  &lt;li&gt;baaaa&lt;\/li&gt;\n  &lt;li&gt;ssss&lt;\/li&gt;\n  &lt;li&gt;moo&lt;\/li&gt;\n  &lt;li&gt;buzz&lt;\/li&gt;\n  &lt;li&gt;purr&lt;\/li&gt;\n&lt;\/ul&gt;&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;There are additional repetition operators using braces, &lt;code&gt;{}&lt;/code&gt; that can be useful.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;{n}&lt;/code&gt; match exactly n&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{n, }&lt;/code&gt; match n or more&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{, m}&lt;/code&gt; match at most m&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{n, m}&lt;/code&gt; match between n and m&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the &lt;code&gt;str_view&lt;/code&gt; function and the sounds object created above, rewrite this regular expression using braces: &lt;code&gt;str_view(sounds, &#39;rrr*&#39;)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Explore the &lt;code&gt;str_trim&lt;/code&gt; function. What does this do? Test this function on the following string: &lt;code&gt;string &amp;lt;- &#34;\n\nString with trailing and leading white space\n\n&#34;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;regular-expression-functions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Regular Expression Functions&lt;/h2&gt;
&lt;p&gt;So far we have just visualized the regular expression match. This is useful for testing, however, commonly we would like to create a new variable based on information processed from text strings. The tools we will explore are: &lt;code&gt;str_detect&lt;/code&gt;, &lt;code&gt;str_count&lt;/code&gt;, &lt;code&gt;str_extract&lt;/code&gt;, &lt;code&gt;str_replace&lt;/code&gt;, and &lt;code&gt;str_split&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Suppose we have the following string:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- c(&amp;#39;Iowa City, Iowa&amp;#39;, &amp;#39;Cedar Rapids, IA&amp;#39;, &amp;#39;Des Moines, Iowa&amp;#39;, &amp;#39;Waterloo, IA&amp;#39;, &amp;#39;Rochester, Minnesota&amp;#39;)
x&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Iowa City, Iowa&amp;quot;      &amp;quot;Cedar Rapids, IA&amp;quot;     &amp;quot;Des Moines, Iowa&amp;quot;    
## [4] &amp;quot;Waterloo, IA&amp;quot;         &amp;quot;Rochester, Minnesota&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Supose we were interested in knowing which cities are from Iowa in this text string, the &lt;code&gt;str_detect&lt;/code&gt; function is useful for this.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_detect(x, &amp;#39;Iowa$&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  TRUE FALSE  TRUE FALSE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This didn’t return all the correct matches due to formatting differences. There are two options to fix this. First, we could search for two strings:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_detect(x, &amp;#39;Iowa$|IA$&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  TRUE  TRUE  TRUE  TRUE FALSE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could then calculate the proportion of cities in the string directly:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean(str_detect(x, &amp;#39;Iowa$|IA$&amp;#39;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.8&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Another useful related function to &lt;code&gt;str_detect&lt;/code&gt; is &lt;code&gt;str_count&lt;/code&gt; which instead of TRUE/FALSE, will tell you how many matches are in each string.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_count(x, &amp;#39;Iowa$|IA$&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1 1 1 1 0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There are instances where you will need to be careful with this function as it will calculate number of matches.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_count(x, &amp;#39;Iowa|IA&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 2 1 1 1 0&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;replace-text&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Replace Text&lt;/h3&gt;
&lt;p&gt;Above we solved the different formatting differences by searching for two text strings. This can be useful for a few different strings, however, for more complex searches, it can be useful to standardize the text to be the same across variables. This is the job for &lt;code&gt;str_replace&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_replace(x, &amp;#39;Iowa$&amp;#39;, &amp;#39;IA&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Iowa City, IA&amp;quot;        &amp;quot;Cedar Rapids, IA&amp;quot;     &amp;quot;Des Moines, IA&amp;quot;      
## [4] &amp;quot;Waterloo, IA&amp;quot;         &amp;quot;Rochester, Minnesota&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This function takes two arguments, first the text to be matched and second the text the match should be changed to. If there are no matches the text is not changed. You need to be careful with this function too:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_replace(x, &amp;#39;Iowa&amp;#39;, &amp;#39;IA&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;IA City, Iowa&amp;quot;        &amp;quot;Cedar Rapids, IA&amp;quot;     &amp;quot;Des Moines, IA&amp;quot;      
## [4] &amp;quot;Waterloo, IA&amp;quot;         &amp;quot;Rochester, Minnesota&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By default, the function will only replace the first match. If you’d like to replace all matches you need to use the &lt;code&gt;str_replace_all&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_replace_all(x, &amp;#39;Iowa&amp;#39;, &amp;#39;IA&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;IA City, IA&amp;quot;          &amp;quot;Cedar Rapids, IA&amp;quot;     &amp;quot;Des Moines, IA&amp;quot;      
## [4] &amp;quot;Waterloo, IA&amp;quot;         &amp;quot;Rochester, Minnesota&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This operation is not useful here, but there are many places that this is a useful operation.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;extract-text&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Extract Text&lt;/h3&gt;
&lt;p&gt;If you wished to extract text instead of replacing text, &lt;code&gt;str_extract&lt;/code&gt; is useful for this. For example, if we wished to extract the Minnesota:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_extract(x, &amp;#39;Minnesota&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] NA          NA          NA          NA          &amp;quot;Minnesota&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can build more complicated expressions using the &lt;code&gt;str_extract&lt;/code&gt; function. For example, suppose we wished to extract only the city name.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_extract(x, &amp;#39;^.*,&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Iowa City,&amp;quot;    &amp;quot;Cedar Rapids,&amp;quot; &amp;quot;Des Moines,&amp;quot;   &amp;quot;Waterloo,&amp;quot;    
## [5] &amp;quot;Rochester,&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This included the comma as well which may not be desired, we will show another way to achieve the same operation with the &lt;code&gt;str_split&lt;/code&gt; function. One quick note about the above operation, I used a &lt;code&gt;.&lt;/code&gt;. The &lt;code&gt;.&lt;/code&gt; means to match any character (except a new line character). To match a literal &lt;code&gt;.&lt;/code&gt;, you would need to escape this with &lt;code&gt;\\.&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;split-on-delimiter&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Split on Delimiter&lt;/h3&gt;
&lt;p&gt;If you’d like to split a string based on a common delimiter, using the &lt;code&gt;str_split&lt;/code&gt; function is useful. For example, if we wished to split the city from the state:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_split(x, &amp;#39;, &amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [[1]]
## [1] &amp;quot;Iowa City&amp;quot; &amp;quot;Iowa&amp;quot;     
## 
## [[2]]
## [1] &amp;quot;Cedar Rapids&amp;quot; &amp;quot;IA&amp;quot;          
## 
## [[3]]
## [1] &amp;quot;Des Moines&amp;quot; &amp;quot;Iowa&amp;quot;      
## 
## [[4]]
## [1] &amp;quot;Waterloo&amp;quot; &amp;quot;IA&amp;quot;      
## 
## [[5]]
## [1] &amp;quot;Rochester&amp;quot; &amp;quot;Minnesota&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;str_split&lt;/code&gt; function will remove the delimiter that it used to split on. The function also allows you to simplify the structure:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_split(x, &amp;#39;, &amp;#39;, simplify = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##      [,1]           [,2]       
## [1,] &amp;quot;Iowa City&amp;quot;    &amp;quot;Iowa&amp;quot;     
## [2,] &amp;quot;Cedar Rapids&amp;quot; &amp;quot;IA&amp;quot;       
## [3,] &amp;quot;Des Moines&amp;quot;   &amp;quot;Iowa&amp;quot;     
## [4,] &amp;quot;Waterloo&amp;quot;     &amp;quot;IA&amp;quot;       
## [5,] &amp;quot;Rochester&amp;quot;    &amp;quot;Minnesota&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now a matrix is returned.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;real-world-example&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Real World Example&lt;/h2&gt;
&lt;p&gt;To give a sense of some real world applications of regular expressions, I’m going to use the “ufo.csv” data we used once previously.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo &amp;lt;- read_csv(&amp;#39;https://raw.githubusercontent.com/lebebr01/psqf-6250-blogdown/main/data/ufo.csv&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 8031 Columns: 7
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &amp;quot;,&amp;quot;
## chr (7): Date / Time, City, State, Shape, Duration, Summary, Posted
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8,031 × 7
##    `Date / Time`  City                     State Shape   Duration Summary Posted
##    &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;                    &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt; 
##  1 12/12/14 17:30 North Wales              PA    Triang… 5 minut… &amp;quot;I hea… &amp;lt;NA&amp;gt;  
##  2 12/12/14 12:40 Cartersville             GA    Unknown 3.6 min… &amp;quot;Looki… 12/12…
##  3 12/12/14 06:30 Isle of Man (UK/England) &amp;lt;NA&amp;gt;  Light   2 secon… &amp;quot;Over … 12/12…
##  4 12/12/14 01:00 Miamisburg               OH    Changi… &amp;lt;NA&amp;gt;     &amp;quot;Brigh… 12/12…
##  5 12/12/14 00:00 Spotsylvania             VA    Unknown 1 minute &amp;quot;White… 12/12…
##  6 12/11/14 23:25 Kenner                   LA    Chevron ~1 minu… &amp;quot;Stran… 12/12…
##  7 12/11/14 23:15 Eugene                   OR    Disk    2 minut… &amp;quot;Dual … 12/12…
##  8 12/11/14 20:04 Phoenix                  AZ    Chevron 3 minut… &amp;quot;4 Ora… 12/12…
##  9 12/11/14 20:00 Franklin                 NC    Disk    5 minut… &amp;quot;There… 12/12…
## 10 12/11/14 18:30 Longview                 WA    Cylind… 10 seco… &amp;quot;Two c… 12/12…
## # … with 8,021 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A few things may be of interest here. First, we may wish to add columns that split the Duration variable into a time and metric variables.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo_duration &amp;lt;- str_split(ufo$Duration, &amp;#39; &amp;#39;, simplify = TRUE)
cbind(ufo, ufo_duration) %&amp;gt;%
  head(n = 20)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       Date / Time                     City State     Shape      Duration
## 1  12/12/14 17:30              North Wales    PA  Triangle     5 minutes
## 2  12/12/14 12:40             Cartersville    GA   Unknown   3.6 minutes
## 3  12/12/14 06:30 Isle of Man (UK/England)  &amp;lt;NA&amp;gt;     Light     2 seconds
## 4  12/12/14 01:00               Miamisburg    OH  Changing          &amp;lt;NA&amp;gt;
## 5  12/12/14 00:00             Spotsylvania    VA   Unknown      1 minute
## 6  12/11/14 23:25                   Kenner    LA   Chevron     ~1 minute
## 7  12/11/14 23:15                   Eugene    OR      Disk     2 minutes
## 8  12/11/14 20:04                  Phoenix    AZ   Chevron     3 minutes
## 9  12/11/14 20:00                 Franklin    NC      Disk     5 minutes
## 10 12/11/14 18:30                 Longview    WA  Cylinder    10 seconds
## 11 12/11/14 17:30                 Markesan    WI     Light    10 minutes
## 12 12/11/14 16:40               Birmingham    AL  Fireball    20 minutes
## 13 12/11/14 06:00             West Milford    NJ  Fireball    10 seconds
## 14 12/11/14 00:00             Williamsburg    VA       Egg    10 minutes
## 15 12/10/14 20:30                 Chandler    AZ    Sphere        1 hour
## 16 12/10/14 20:00                 Maricopa    AZ Formation 20-25 minutes
## 17 12/10/14 19:30          Litchfield Park    AZ Formation    20 minutes
## 18 12/10/14 19:15                  Flagler    CO     Light      1 minute
## 19 12/10/14 19:00                   Garner    NC     Light    12 minutes
## 20 12/10/14 17:30                  Ruidoso    NM  Fireball    20 minutes
##                                                                                                                                    Summary
## 1  I heard an extremely loud noise outside, and went onto my balcony to investigate. I saw an very very large green light headed my direct
## 2          Looking up towards the west I noticed an object that flashed from white to green to red.  ((NUFORC Note:  Possible star??  PD))
## 3                                                                       Over the Isle of Man, very fast moving light, diving then zooming.
## 4            Bright color changing and, shape shifting object seen over Miamisburg, OH.  ((NUFORC Note:  Possible &amp;quot;twinkling&amp;quot; star??  PD))
## 5                                                                White then orange orb gained a &amp;quot;tail of light&amp;quot; when chased off by a heli.
## 6                                                                            Strange, chevron-shaped, ufo moving east to west over Kenner.
## 7                                                                                          Dual orange orbs in Eugene, Oregon. 12/11/2014.
## 8                                                                                       4 Orange Lights Spotted South Of The Phoenix Area.
## 9             There were 5 or 6 lights in a row blinking, whites and reds.  It was just sitting there over top the ridge of the mountains.
## 10                                                                              Two cylinder shaped objects that flew parallel in the sky.
## 11                                                      Dark sky, large lights, nothing like an airplane, turning on and off in a pattern.
## 12                                                                                  UFOs moving fast like fireballs or individual rockets.
## 13                                                                                                               Strange light across sky.
## 14                                                                                       Bright light object with three clusters of light.
## 15                                  1-7 bright orange spheres seen for over an hour in Chandler, Arizona, near the Gila River Reservation.
## 16                                                                                                     Bright orange lights over Maricopa.
## 17                                                                                 Multiple lights in the sky in Litchfield Park, Arizona.
## 18                                                                                                                Eastern Colorado lights.
## 19                                                   Lights in distance quickly moving in every direction then shooting up at great speed.
## 20     1 lg. bright orange orb that split into 3 orbs.  Fighter jets chased them &amp;amp; they disappeared.  Mil. jets, helis, and a b2 followed.
##      Posted     1       2 3 4 5 6 7
## 1      &amp;lt;NA&amp;gt;     5 minutes          
## 2  12/12/14   3.6 minutes          
## 3  12/12/14     2 seconds          
## 4  12/12/14  &amp;lt;NA&amp;gt;                  
## 5  12/12/14     1  minute          
## 6  12/12/14    ~1  minute          
## 7  12/12/14     2 minutes          
## 8  12/12/14     3 minutes          
## 9  12/12/14     5 minutes          
## 10 12/12/14    10 seconds          
## 11 12/12/14    10 minutes          
## 12 12/12/14    20 minutes          
## 13 12/12/14    10 seconds          
## 14 12/12/14    10 minutes          
## 15 12/12/14     1    hour          
## 16 12/12/14 20-25 minutes          
## 17 12/12/14    20 minutes          
## 18 12/12/14     1  minute          
## 19 12/12/14    12 minutes          
## 20 12/12/14    20 minutes&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It could also be useful to count the number of times colors were mentioned in the summary text.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo %&amp;gt;%
  mutate(
    num_colors = str_count(Summary, &amp;#39;white|green|red|blue|orange|purple|yellow&amp;#39;)
  )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8,031 × 8
##    `Date / Time`  City            State Shape Duration Summary Posted num_colors
##    &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;           &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;       &amp;lt;int&amp;gt;
##  1 12/12/14 17:30 North Wales     PA    Tria… 5 minut… &amp;quot;I hea… &amp;lt;NA&amp;gt;            1
##  2 12/12/14 12:40 Cartersville    GA    Unkn… 3.6 min… &amp;quot;Looki… 12/12…          3
##  3 12/12/14 06:30 Isle of Man (U… &amp;lt;NA&amp;gt;  Light 2 secon… &amp;quot;Over … 12/12…          0
##  4 12/12/14 01:00 Miamisburg      OH    Chan… &amp;lt;NA&amp;gt;     &amp;quot;Brigh… 12/12…          0
##  5 12/12/14 00:00 Spotsylvania    VA    Unkn… 1 minute &amp;quot;White… 12/12…          1
##  6 12/11/14 23:25 Kenner          LA    Chev… ~1 minu… &amp;quot;Stran… 12/12…          0
##  7 12/11/14 23:15 Eugene          OR    Disk  2 minut… &amp;quot;Dual … 12/12…          1
##  8 12/11/14 20:04 Phoenix         AZ    Chev… 3 minut… &amp;quot;4 Ora… 12/12…          0
##  9 12/11/14 20:00 Franklin        NC    Disk  5 minut… &amp;quot;There… 12/12…          2
## 10 12/11/14 18:30 Longview        WA    Cyli… 10 seco… &amp;quot;Two c… 12/12…          0
## # … with 8,021 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;an-easier-way-to-manipulate-dates&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;An Easier way to manipulate dates&lt;/h2&gt;
&lt;p&gt;The lubridate package in R makes working with date vectors much simpler.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# install.packages(&amp;quot;lubridate&amp;quot;)
library(lubridate)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;First, we need to convert the Date/Time column in the ufo data to an actual date column. Note above that this column is actually a character vector. Fortunately, lubridate has some functions for common ways that dates and times are stored. The biggest hurdle to know which function to use, is to identify the pattern in the date/time column in our data. Below I print the first 6 rows of the date/time vector of data. Notice that the format is month/day/year then hour/minutes. We can use this information to parse the column to a date/time vector using lubridate’s built in date conversion tools.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(ufo$`Date / Time`)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;12/12/14 17:30&amp;quot; &amp;quot;12/12/14 12:40&amp;quot; &amp;quot;12/12/14 06:30&amp;quot; &amp;quot;12/12/14 01:00&amp;quot;
## [5] &amp;quot;12/12/14 00:00&amp;quot; &amp;quot;12/11/14 23:25&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The primary way to determine which conversion tool to use, is to understand lubridate’s shorthand notation. Below is a list showing these elements.&lt;/p&gt;
&lt;p&gt;For date components, these are the shorthand notation.
* y = year
* m = month
* d = day&lt;/p&gt;
&lt;p&gt;For time components, these are the shorthand notation.
* h = hours
* m = minutes
* s = seconds&lt;/p&gt;
&lt;p&gt;Note that “m” stands for both minute and month, but is used in context with either the date or time conversion. The lubridate package will handle this for us. Based on this table and the pattern depicted above, we can convert this with the following pattern and function: &lt;code&gt;mdy_hm()&lt;/code&gt;. This can be read in English as, month, day, year followed by hour and minute.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo &amp;lt;- ufo %&amp;gt;%
  mutate(converted_date = mdy_hm(`Date / Time`))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: 56 failed to parse.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8,031 × 8
##    `Date / Time`  City   State Shape Duration Summary Posted converted_date     
##    &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;  &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;  &amp;lt;dttm&amp;gt;             
##  1 12/12/14 17:30 North… PA    Tria… 5 minut… &amp;quot;I hea… &amp;lt;NA&amp;gt;   2014-12-12 17:30:00
##  2 12/12/14 12:40 Carte… GA    Unkn… 3.6 min… &amp;quot;Looki… 12/12… 2014-12-12 12:40:00
##  3 12/12/14 06:30 Isle … &amp;lt;NA&amp;gt;  Light 2 secon… &amp;quot;Over … 12/12… 2014-12-12 06:30:00
##  4 12/12/14 01:00 Miami… OH    Chan… &amp;lt;NA&amp;gt;     &amp;quot;Brigh… 12/12… 2014-12-12 01:00:00
##  5 12/12/14 00:00 Spots… VA    Unkn… 1 minute &amp;quot;White… 12/12… 2014-12-12 00:00:00
##  6 12/11/14 23:25 Kenner LA    Chev… ~1 minu… &amp;quot;Stran… 12/12… 2014-12-11 23:25:00
##  7 12/11/14 23:15 Eugene OR    Disk  2 minut… &amp;quot;Dual … 12/12… 2014-12-11 23:15:00
##  8 12/11/14 20:04 Phoen… AZ    Chev… 3 minut… &amp;quot;4 Ora… 12/12… 2014-12-11 20:04:00
##  9 12/11/14 20:00 Frank… NC    Disk  5 minut… &amp;quot;There… 12/12… 2014-12-11 20:00:00
## 10 12/11/14 18:30 Longv… WA    Cyli… 10 seco… &amp;quot;Two c… 12/12… 2014-12-11 18:30:00
## # … with 8,021 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The resulting output has the converted_date added to the original table. Note, we did get some warning messages, these basically say that there were some dates that could not be converted properly, these are likely due to missing data or different patterns in the conversion. We would want to inspect these in more detail to understand why those 56 date/times failed to parse.&lt;/p&gt;
&lt;p&gt;Once the dates are now in a date/time format, we can now use additional functions from lubridate to pull out specific elements of the date or time. For example, we could use &lt;code&gt;year()&lt;/code&gt;, &lt;code&gt;month()&lt;/code&gt;, &lt;code&gt;day()&lt;/code&gt; to extract the year, month or day from each element. There are also similar functions, &lt;code&gt;hour()&lt;/code&gt;, &lt;code&gt;minute()&lt;/code&gt;, and &lt;code&gt;second()&lt;/code&gt;. These are shown in use below.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ufo %&amp;gt;%
  mutate(
    year = year(converted_date),
    month = month(converted_date),
    day = day(converted_date),
    hour = hour(converted_date),
    minute = minute(converted_date),
    month_label_abbr = month(converted_date, label = TRUE),
    wday_abbr = wday(converted_date, label = TRUE),
    month_label = month(converted_date, label = TRUE, abbr = FALSE),
    wday = wday(converted_date, label = TRUE, abbr = FALSE)
  )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8,031 × 17
##    `Date / Time`  City   State Shape Duration Summary Posted converted_date     
##    &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;  &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;  &amp;lt;dttm&amp;gt;             
##  1 12/12/14 17:30 North… PA    Tria… 5 minut… &amp;quot;I hea… &amp;lt;NA&amp;gt;   2014-12-12 17:30:00
##  2 12/12/14 12:40 Carte… GA    Unkn… 3.6 min… &amp;quot;Looki… 12/12… 2014-12-12 12:40:00
##  3 12/12/14 06:30 Isle … &amp;lt;NA&amp;gt;  Light 2 secon… &amp;quot;Over … 12/12… 2014-12-12 06:30:00
##  4 12/12/14 01:00 Miami… OH    Chan… &amp;lt;NA&amp;gt;     &amp;quot;Brigh… 12/12… 2014-12-12 01:00:00
##  5 12/12/14 00:00 Spots… VA    Unkn… 1 minute &amp;quot;White… 12/12… 2014-12-12 00:00:00
##  6 12/11/14 23:25 Kenner LA    Chev… ~1 minu… &amp;quot;Stran… 12/12… 2014-12-11 23:25:00
##  7 12/11/14 23:15 Eugene OR    Disk  2 minut… &amp;quot;Dual … 12/12… 2014-12-11 23:15:00
##  8 12/11/14 20:04 Phoen… AZ    Chev… 3 minut… &amp;quot;4 Ora… 12/12… 2014-12-11 20:04:00
##  9 12/11/14 20:00 Frank… NC    Disk  5 minut… &amp;quot;There… 12/12… 2014-12-11 20:00:00
## 10 12/11/14 18:30 Longv… WA    Cyli… 10 seco… &amp;quot;Two c… 12/12… 2014-12-11 18:30:00
## # … with 8,021 more rows, and 9 more variables: year &amp;lt;dbl&amp;gt;, month &amp;lt;dbl&amp;gt;,
## #   day &amp;lt;int&amp;gt;, hour &amp;lt;int&amp;gt;, minute &amp;lt;int&amp;gt;, month_label_abbr &amp;lt;ord&amp;gt;,
## #   wday_abbr &amp;lt;ord&amp;gt;, month_label &amp;lt;ord&amp;gt;, wday &amp;lt;ord&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Week 13</title>
      <link>https://psqf6250.brandonlebeau.org/content/13-week13/</link>
      <pubDate>Mon, 28 Mar 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/content/13-week13/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week turns to learning the basics of creating your own functions within R. Part of the power of R is that it is a fully functional programming language that can be used to extend R&amp;rsquo;s functionality. This week will give you some basics to create your own functions.&lt;/p&gt;
&lt;h2 id=&#34;objectives&#34;&gt;Objectives&lt;/h2&gt;
&lt;p&gt;After completing this module, students will be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Define user written functions&lt;/li&gt;
&lt;li&gt;Define function conditional logic&lt;/li&gt;
&lt;li&gt;Define function inputs and returned values&lt;/li&gt;
&lt;li&gt;Identify need for user written functions&lt;/li&gt;
&lt;li&gt;Create user written functions&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;weekly-videos&#34;&gt;Weekly Videos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Introduction to Custom User Functions&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=7a31bd67-b084-421c-965e-aa1f00fe4052&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Function Basics&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=13d30b5b-e8fd-4182-b213-aa1f01038429&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Conditional Logic in Functions&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=0bf0fd61-4a31-471f-bc82-aa1f010d5d12&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;ul&gt;
&lt;li&gt;Returned Values from Functions&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe src=&#34;https://uicapture.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=5a107262-c415-4ab5-a6e7-aa1f01125e82&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=false&amp;start=0&amp;interactivity=all&#34; height=&#34;405&#34; width=&#34;720&#34; style=&#34;border: 1px solid #464646;&#34; allowfullscreen allow=&#34;autoplay&#34;&gt;&lt;/iframe&gt;
&lt;h2 id=&#34;r-syntax&#34;&gt;R Syntax&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://psqf6250.brandonlebeau.org/rcode/user-functions/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;User Created Functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;assignments&#34;&gt;Assignments&lt;/h2&gt;
&lt;p&gt;To come &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Model Introduction</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/model-intro/</link>
      <pubDate>Mon, 28 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/model-intro/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;This section of the notes is going to introduce you into the world of models in R. For the most part, we are going to stick with simple linear models and build up the various models using one function &lt;code&gt;lm&lt;/code&gt;. The &lt;code&gt;lm&lt;/code&gt; function is an extremely powerful function that can accommodate many different models in a single framework.&lt;/p&gt;
&lt;p&gt;This section of notes is going to make use of four R packages:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(modelr)
# install.packages(&amp;quot;broom&amp;quot;)
library(broom)
library(fivethirtyeight)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;simple-linear-regression&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Simple Linear Regression&lt;/h2&gt;
&lt;p&gt;First we need some data. We are going to explore the data from the &lt;code&gt;fivethirtyeight&lt;/code&gt; package called &lt;code&gt;fandango&lt;/code&gt;. Here are the first few rows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fandango&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 146 × 23
##    film    year rottentomatoes rottentomatoes_… metacritic metacritic_user  imdb
##    &amp;lt;chr&amp;gt;  &amp;lt;dbl&amp;gt;          &amp;lt;int&amp;gt;            &amp;lt;int&amp;gt;      &amp;lt;int&amp;gt;           &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
##  1 Aveng…  2015             74               86         66             7.1   7.8
##  2 Cinde…  2015             85               80         67             7.5   7.1
##  3 Ant-M…  2015             80               90         64             8.1   7.8
##  4 Do Yo…  2015             18               84         22             4.7   5.4
##  5 Hot T…  2015             14               28         29             3.4   5.1
##  6 The W…  2015             63               62         50             6.8   7.2
##  7 Irrat…  2015             42               53         53             7.6   6.9
##  8 Top F…  2014             86               64         81             6.8   6.5
##  9 Shaun…  2015             99               82         81             8.8   7.4
## 10 Love …  2015             89               87         80             8.5   7.8
## # … with 136 more rows, and 16 more variables: fandango_stars &amp;lt;dbl&amp;gt;,
## #   fandango_ratingvalue &amp;lt;dbl&amp;gt;, rt_norm &amp;lt;dbl&amp;gt;, rt_user_norm &amp;lt;dbl&amp;gt;,
## #   metacritic_norm &amp;lt;dbl&amp;gt;, metacritic_user_nom &amp;lt;dbl&amp;gt;, imdb_norm &amp;lt;dbl&amp;gt;,
## #   rt_norm_round &amp;lt;dbl&amp;gt;, rt_user_norm_round &amp;lt;dbl&amp;gt;, metacritic_norm_round &amp;lt;dbl&amp;gt;,
## #   metacritic_user_norm_round &amp;lt;dbl&amp;gt;, imdb_norm_round &amp;lt;dbl&amp;gt;,
## #   metacritic_user_vote_count &amp;lt;int&amp;gt;, imdb_user_vote_count &amp;lt;int&amp;gt;,
## #   fandango_votes &amp;lt;int&amp;gt;, fandango_difference &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These data have 146 rows and 23 columns.&lt;/p&gt;
&lt;p&gt;Suppose we were interested in exploring the relationship between ratings from rottentomatoes and metacritic. Note, we will not use the user rating for this exploration. A natural first step may be to look at a scatterplot of these data to explore the shape of the relationship.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(fandango, aes(rottentomatoes, metacritic)) + 
  theme_bw() + 
  geom_point(size = 3)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-intro_files/figure-html/scatter-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To better explore the relationship, including a smoother can be useful:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(fandango, aes(rottentomatoes, metacritic)) + 
  theme_bw() + 
  geom_point(size = 3) + 
  geom_smooth(method = &amp;#39;loess&amp;#39;, se = FALSE, size = 1.5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-intro_files/figure-html/smoother-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It may also be useful to calculate a correlation coefficient between these two variables.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;with(fandango, cor(rottentomatoes, metacritic))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.9573596&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;fit-linear-regression&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Fit Linear Regression&lt;/h3&gt;
&lt;p&gt;Now we will attempt to fit a model to these data. Namely, the relationship appears to be mostly linear and suppose we wished to predict the metacritic review score with the rotten tomatoes score. To do this, we will use the &lt;code&gt;lm&lt;/code&gt; function and the &lt;code&gt;~&lt;/code&gt; that we used with &lt;code&gt;facet_wrap&lt;/code&gt; and &lt;code&gt;facet_grid&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;More concretely, suppose we wished to fit the model:
&lt;span class=&#34;math display&#34;&gt;\[ metacritic_{i} = b_{0} + b_{1} rottentomatoes_{i} + \epsilon_{i} \]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In this model, &lt;span class=&#34;math inline&#34;&gt;\(metacritic_{i}\)&lt;/span&gt; is the dependent or response variable and &lt;span class=&#34;math inline&#34;&gt;\(rottentomatoes_{i}\)&lt;/span&gt; is the independent, predictor, or covariate. In many traditional statistics courses, &lt;span class=&#34;math inline&#34;&gt;\(metacritic_{i}\)&lt;/span&gt; would be represented with &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(rottentomatoes_{i}\)&lt;/span&gt; would be represented with &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;. It is often more descriptive to represent these with their variable names instead of &lt;span class=&#34;math inline&#34;&gt;\(Y\)&lt;/span&gt; or &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;To fit this model, we simply need to replace the &lt;span class=&#34;math inline&#34;&gt;\(=\)&lt;/span&gt; sign found in the equation above with the &lt;code&gt;~&lt;/code&gt;. For example, the equation above would turn into:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;meta_mod &amp;lt;- lm(metacritic ~ rottentomatoes, data = fandango)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To see output from the model, we can take two approaches. One is to use &lt;code&gt;summary&lt;/code&gt; and another is to use the &lt;code&gt;tidy&lt;/code&gt; function from the broom package. I show each below in turn.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(meta_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = metacritic ~ rottentomatoes, data = fandango)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -11.7209  -4.1999   0.3855   3.7952  14.6662 
## 
## Coefficients:
##                Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)    21.12097    1.05710   19.98   &amp;lt;2e-16 ***
## rottentomatoes  0.61935    0.01558   39.77   &amp;lt;2e-16 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 5.658 on 144 degrees of freedom
## Multiple R-squared:  0.9165, Adjusted R-squared:  0.916 
## F-statistic:  1581 on 1 and 144 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tidy(meta_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 × 5
##   term           estimate std.error statistic  p.value
##   &amp;lt;chr&amp;gt;             &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;
## 1 (Intercept)      21.1      1.06        20.0 2.36e-43
## 2 rottentomatoes    0.619    0.0156      39.8 1.54e-79&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With the broom package, the results are reported in a tidier framework. We will see additional useful functions using the broom package later on.&lt;/p&gt;
&lt;p&gt;You can also directly request confidence intervals with the &lt;code&gt;tidy&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tidy(meta_mod, conf.int = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 × 7
##   term           estimate std.error statistic  p.value conf.low conf.high
##   &amp;lt;chr&amp;gt;             &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 (Intercept)      21.1      1.06        20.0 2.36e-43   19.0      23.2  
## 2 rottentomatoes    0.619    0.0156      39.8 1.54e-79    0.589     0.650&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Fit a new model using the &lt;code&gt;fandango&lt;/code&gt; data that attempts to explain the metacritic ratings with the imdb rating.&lt;/li&gt;
&lt;li&gt;Fit another model using the &lt;code&gt;fandango&lt;/code&gt; data that attempts to explain the metacritic ratings with the fandango_ratingvalue scores.&lt;/li&gt;
&lt;li&gt;Exploring the predictors of these two new models with the one fitted above with the rottentomatoes scores, which rating score best helps us predict the metacritic scores?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;workings-behind-lm-function&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Workings Behind &lt;code&gt;lm&lt;/code&gt; function&lt;/h3&gt;
&lt;p&gt;To see what the &lt;code&gt;lm&lt;/code&gt; function is doing behind the scenes, we will use the &lt;code&gt;model_matrix&lt;/code&gt; function from the modelr package. For example, from the model above:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_matrix(fandango, metacritic ~ rottentomatoes)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 146 × 2
##    `(Intercept)` rottentomatoes
##            &amp;lt;dbl&amp;gt;          &amp;lt;dbl&amp;gt;
##  1             1             74
##  2             1             85
##  3             1             80
##  4             1             18
##  5             1             14
##  6             1             63
##  7             1             42
##  8             1             86
##  9             1             99
## 10             1             89
## # … with 136 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is often referred to as the design matrix in statistics text books and is one of the matrices that are used by &lt;code&gt;lm&lt;/code&gt; to calculate the estimated parameters from above. Notice that is automatically included the intercept, normally this is of interest, if it is not, we can omit it directly by including a &lt;code&gt;-1&lt;/code&gt; in the formula. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_matrix(fandango, metacritic ~ rottentomatoes - 1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 146 × 1
##    rottentomatoes
##             &amp;lt;dbl&amp;gt;
##  1             74
##  2             85
##  3             80
##  4             18
##  5             14
##  6             63
##  7             42
##  8             86
##  9             99
## 10             89
## # … with 136 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tidy(lm(metacritic ~ rottentomatoes - 1, data = fandango))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 × 5
##   term           estimate std.error statistic   p.value
##   &amp;lt;chr&amp;gt;             &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;
## 1 rottentomatoes    0.898    0.0134      67.3 3.14e-111&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You need to be careful with this syntax as this is commonly not is what is desired when fitting a linear model.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;categorical-predictors&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Categorical Predictors&lt;/h3&gt;
&lt;p&gt;Suppose we were interested in the following research question:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;To what extent are there average differences in movie ratings between rottentomatoes and metacritic?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To answer this research question, we would need to transform our data to great a group variable and a rating variable.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;meta_rotten &amp;lt;- fandango %&amp;gt;%
  select(film, year, rottentomatoes, metacritic) %&amp;gt;%
  gather(group, rating, rottentomatoes, metacritic)
meta_rotten&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 292 × 4
##    film                     year group          rating
##    &amp;lt;chr&amp;gt;                   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;           &amp;lt;int&amp;gt;
##  1 Avengers: Age of Ultron  2015 rottentomatoes     74
##  2 Cinderella               2015 rottentomatoes     85
##  3 Ant-Man                  2015 rottentomatoes     80
##  4 Do You Believe?          2015 rottentomatoes     18
##  5 Hot Tub Time Machine 2   2015 rottentomatoes     14
##  6 The Water Diviner        2015 rottentomatoes     63
##  7 Irrational Man           2015 rottentomatoes     42
##  8 Top Five                 2014 rottentomatoes     86
##  9 Shaun the Sheep Movie    2015 rottentomatoes     99
## 10 Love &amp;amp; Mercy             2015 rottentomatoes     89
## # … with 282 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we can work with this data to answer the question from above. More specifically, our dependent variable will be the rating variable and the independent variable will be the group (categorical) variable. This can be fitted within a linear model as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tidy(lm(rating ~ factor(group), data = meta_rotten))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 × 5
##   term                        estimate std.error statistic  p.value
##   &amp;lt;chr&amp;gt;                          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;
## 1 (Intercept)                    58.8       2.10    28.0   2.50e-84
## 2 factor(group)rottentomatoes     2.04      2.97     0.686 4.93e- 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To see exactly what is happening, &lt;code&gt;model_matrix&lt;/code&gt; may be useful. First I am going to arrange the data by the films in alphabetical order.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;meta_rotten %&amp;gt;%
  arrange(film)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 292 × 4
##    film                 year group          rating
##    &amp;lt;chr&amp;gt;               &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;           &amp;lt;int&amp;gt;
##  1 &amp;#39;71                  2015 rottentomatoes     97
##  2 &amp;#39;71                  2015 metacritic         83
##  3 5 Flights Up         2015 rottentomatoes     52
##  4 5 Flights Up         2015 metacritic         55
##  5 A Little Chaos       2015 rottentomatoes     40
##  6 A Little Chaos       2015 metacritic         51
##  7 A Most Violent Year  2014 rottentomatoes     90
##  8 A Most Violent Year  2014 metacritic         79
##  9 About Elly           2015 rottentomatoes     97
## 10 About Elly           2015 metacritic         87
## # … with 282 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;meta_rotten %&amp;gt;%
  arrange(film) %&amp;gt;%
  model_matrix(rating ~ factor(group))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 292 × 2
##    `(Intercept)` `factor(group)rottentomatoes`
##            &amp;lt;dbl&amp;gt;                         &amp;lt;dbl&amp;gt;
##  1             1                             1
##  2             1                             0
##  3             1                             1
##  4             1                             0
##  5             1                             1
##  6             1                             0
##  7             1                             1
##  8             1                             0
##  9             1                             1
## 10             1                             0
## # … with 282 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You may be more familiar with using a t-test for this type of design. We can replicate the results above with a t-test using the &lt;code&gt;t.test&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;t.test(rating ~ factor(group), data = meta_rotten, 
       var.equal = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
##  Two Sample t-test
## 
## data:  rating by factor(group)
## t = -0.68638, df = 290, p-value = 0.493
## alternative hypothesis: true difference in means between group metacritic and group rottentomatoes is not equal to 0
## 95 percent confidence interval:
##  -7.893918  3.811726
## sample estimates:
##     mean in group metacritic mean in group rottentomatoes 
##                     58.80822                     60.84932&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;exercises-1&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Compute descriptive means using the &lt;code&gt;meta_rotten&lt;/code&gt; transformed data from above by the group variable. Do these means appear to be descriptively different?&lt;/li&gt;
&lt;li&gt;How do these means relate to the parameters estimated from the model above?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;evaulating-model-fit&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Evaulating Model fit&lt;/h3&gt;
&lt;p&gt;There are many ways to evaluate model fit. Many of these are available using the &lt;code&gt;summary&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(lm(rating ~ factor(group), data = meta_rotten))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = rating ~ factor(group), data = meta_rotten)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -55.849 -19.089   0.671  22.161  39.151 
## 
## Coefficients:
##                             Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)                   58.808      2.103  27.967   &amp;lt;2e-16 ***
## factor(group)rottentomatoes    2.041      2.974   0.686    0.493    
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 25.41 on 290 degrees of freedom
## Multiple R-squared:  0.001622,   Adjusted R-squared:  -0.001821 
## F-statistic: 0.4711 on 1 and 290 DF,  p-value: 0.493&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The unfortunate part of this is the fact that these are more difficult to pull out of the table programmatically (i.e. in a reproducible workflow). This is where the broom package helps with the use of the &lt;code&gt;glance&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;glance(lm(rating ~ factor(group), data = meta_rotten))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 × 12
##   r.squared adj.r.squared sigma statistic p.value    df logLik   AIC   BIC
##       &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1   0.00162      -0.00182  25.4     0.471   0.493     1 -1358. 2722. 2733.
## # … with 3 more variables: deviance &amp;lt;dbl&amp;gt;, df.residual &amp;lt;int&amp;gt;, nobs &amp;lt;int&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These are now in a more tidy data frame and if you have multiple models in an exploratory analysis, these could then be much easier compared and combined programmatically to come to a final model.&lt;/p&gt;
&lt;p&gt;Another useful function from the broom package is &lt;code&gt;augment&lt;/code&gt;. This function will add additional information to the original data such as residuals, fitted (predicted) values, and other diagnostic statistics.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diagnostic &amp;lt;- augment(lm(rating ~ factor(group), data = meta_rotten))
diagnostic&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 292 × 7
##    rating `factor(group)` .fitted    .hat .sigma   .cooksd .std.resid
##     &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt;             &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;
##  1     74 rottentomatoes     60.8 0.00685   25.4 0.000930      0.519 
##  2     85 rottentomatoes     60.8 0.00685   25.4 0.00314       0.954 
##  3     80 rottentomatoes     60.8 0.00685   25.4 0.00197       0.756 
##  4     18 rottentomatoes     60.8 0.00685   25.3 0.00988      -1.69  
##  5     14 rottentomatoes     60.8 0.00685   25.3 0.0118       -1.85  
##  6     63 rottentomatoes     60.8 0.00685   25.5 0.0000249     0.0849
##  7     42 rottentomatoes     60.8 0.00685   25.4 0.00191      -0.744 
##  8     86 rottentomatoes     60.8 0.00685   25.4 0.00340       0.993 
##  9     99 rottentomatoes     60.8 0.00685   25.4 0.00783       1.51  
## 10     89 rottentomatoes     60.8 0.00685   25.4 0.00426       1.11  
## # … with 282 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These could then be plotted to explore more information about model fit. For example a histogram of the standardized residuals are often useful.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diagnostic, aes(.std.resid)) + 
  geom_histogram(bins = 30, color = &amp;#39;white&amp;#39;) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-intro_files/figure-html/hist_resid-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;For this model, boxplots of the standardized residuals by the two groups can also be informative:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diagnostic, aes(`factor(group)`, .std.resid)) + 
  geom_boxplot() + 
  geom_jitter() + 
  coord_flip() +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-intro_files/figure-html/boxplot_resid-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We will explore more details on predicted or fitted values later.&lt;/p&gt;
&lt;p&gt;Lastly, the &lt;code&gt;augment&lt;/code&gt; function can be useful, however I personally do not like the naming convention used by the function. I want to point you to two additional functions from the modelr package that can be useful for predicted (&lt;code&gt;add_predictions&lt;/code&gt;) and residual values (&lt;code&gt;add_residuals&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;For example, to add the residuals to the original data:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;meta_rotten %&amp;gt;%
  add_residuals(lm(rating ~ factor(group), data = meta_rotten))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 292 × 5
##    film                     year group          rating  resid
##    &amp;lt;chr&amp;gt;                   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;           &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt;
##  1 Avengers: Age of Ultron  2015 rottentomatoes     74  13.2 
##  2 Cinderella               2015 rottentomatoes     85  24.2 
##  3 Ant-Man                  2015 rottentomatoes     80  19.2 
##  4 Do You Believe?          2015 rottentomatoes     18 -42.8 
##  5 Hot Tub Time Machine 2   2015 rottentomatoes     14 -46.8 
##  6 The Water Diviner        2015 rottentomatoes     63   2.15
##  7 Irrational Man           2015 rottentomatoes     42 -18.8 
##  8 Top Five                 2014 rottentomatoes     86  25.2 
##  9 Shaun the Sheep Movie    2015 rottentomatoes     99  38.2 
## 10 Love &amp;amp; Mercy             2015 rottentomatoes     89  28.2 
## # … with 282 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;exercises-2&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Fit a new model using the &lt;code&gt;fandango&lt;/code&gt; data that attempts to explain the metacritic ratings with the imdb rating. Explore the distribution of residuals. Does there appear to be problems with these residuals?&lt;/li&gt;
&lt;li&gt;Using the model from #1, create a scatterplot that displays the residuals by the predictor variable. Are there problems with this plot that we should be concerned with?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Building Upon Linear Models</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/model-part2/</link>
      <pubDate>Wed, 17 Mar 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/model-part2/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;The last week has focused on building simple linear models with a single predictor. This week will evaluate these models and build them up with more complexity. Particularly, this week will focus on ways to build models with predictors that have more than two categories, alternative ways to code categorical predictors, mixing categorical and quantitative variables, and interactions.&lt;/p&gt;
&lt;p&gt;This section of notes will use the following packages.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(modelr)
library(broom)
library(fivethirtyeight)
library(forcats)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;more-than-two-categorical-levels&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;More than two categorical levels&lt;/h2&gt;
&lt;p&gt;Last week we explored a linear model framework for a two sample t-test (and the homework has you explore fitting a one-sample t-test in a linear model framework). I now want to generalize this idea to more than two categorical levels. It is traditional to think about these types of models as analysis of variance (ANOVA) models, however, the same model can be fitted in a linear model framework as well.&lt;/p&gt;
&lt;p&gt;For this set of notes, we are going to make use of the gss_cat data found in the forcats package. Below are the first few rows of the data:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gss_cat&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 21,483 × 9
##     year marital         age race  rincome        partyid    relig denom tvhours
##    &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt;         &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt; &amp;lt;fct&amp;gt;          &amp;lt;fct&amp;gt;      &amp;lt;fct&amp;gt; &amp;lt;fct&amp;gt;   &amp;lt;int&amp;gt;
##  1  2000 Never married    26 White $8000 to 9999  Ind,near … Prot… Sout…      12
##  2  2000 Divorced         48 White $8000 to 9999  Not str r… Prot… Bapt…      NA
##  3  2000 Widowed          67 White Not applicable Independe… Prot… No d…       2
##  4  2000 Never married    39 White Not applicable Ind,near … Orth… Not …       4
##  5  2000 Divorced         25 White Not applicable Not str d… None  Not …       1
##  6  2000 Married          25 White $20000 - 24999 Strong de… Prot… Sout…      NA
##  7  2000 Never married    36 White $25000 or more Not str r… Chri… Not …       3
##  8  2000 Divorced         44 White $7000 to 7999  Ind,near … Prot… Luth…      NA
##  9  2000 Married          44 White $25000 or more Not str d… Prot… Other       0
## 10  2000 Married          47 White $25000 or more Strong re… Prot… Sout…       3
## # … with 21,473 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Suppose we were interested in exploring the relationship between the marital status of an individual and how much tv they watch. For example, perhaps married couples watch more tv compared to those that are single or never married. To get an idea of the categories in the marital variable, we could use the &lt;code&gt;count&lt;/code&gt; function within dplyr.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gss_cat %&amp;gt;%
  count(marital)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 × 2
##   marital           n
##   &amp;lt;fct&amp;gt;         &amp;lt;int&amp;gt;
## 1 No answer        17
## 2 Never married  5416
## 3 Separated       743
## 4 Divorced       3383
## 5 Widowed        1807
## 6 Married       10117&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’ll notice that there a few responses of “No Answer” and we may wish to treat these as missing values. This can be done with the &lt;code&gt;fct_recode&lt;/code&gt; function as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gss_cat &amp;lt;- gss_cat %&amp;gt;%
  mutate(marital_miss = fct_recode(marital,
    NULL = &amp;#39;No answer&amp;#39;
  ))
gss_cat %&amp;gt;%
  count(marital_miss)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 × 2
##   marital_miss      n
##   &amp;lt;fct&amp;gt;         &amp;lt;int&amp;gt;
## 1 Never married  5416
## 2 Separated       743
## 3 Divorced       3383
## 4 Widowed        1807
## 5 Married       10117
## 6 &amp;lt;NA&amp;gt;             17&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can now fit the model to this new data using the &lt;code&gt;lm&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;anova_mod &amp;lt;- lm(tvhours ~ marital_miss, data = gss_cat)
summary(anova_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = tvhours ~ marital_miss, data = gss_cat)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.9120 -1.6504 -0.6504  0.8948 21.3496 
## 
## Coefficients:
##                       Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)            3.10518    0.04679  66.366  &amp;lt; 2e-16 ***
## marital_missSeparated  0.44444    0.13738   3.235  0.00122 ** 
## marital_missDivorced  -0.01977    0.07680  -0.257  0.79687    
## marital_missWidowed    0.80682    0.09352   8.627  &amp;lt; 2e-16 ***
## marital_missMarried   -0.45475    0.05879  -7.735 1.13e-14 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 2.561 on 11323 degrees of freedom
##   (10155 observations deleted due to missingness)
## Multiple R-squared:  0.02141,    Adjusted R-squared:  0.02107 
## F-statistic: 61.94 on 4 and 11323 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To explore what the &lt;code&gt;lm&lt;/code&gt; function is doing internally, the design matrix is a natural way to do this.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_matrix(gss_cat, tvhours ~ marital_miss)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 11,328 × 5
##    `(Intercept)` marital_missSeparated marital_missDivorced marital_missWidowed
##            &amp;lt;dbl&amp;gt;                 &amp;lt;dbl&amp;gt;                &amp;lt;dbl&amp;gt;               &amp;lt;dbl&amp;gt;
##  1             1                     0                    0                   0
##  2             1                     0                    0                   1
##  3             1                     0                    0                   0
##  4             1                     0                    1                   0
##  5             1                     0                    0                   0
##  6             1                     0                    0                   0
##  7             1                     0                    0                   0
##  8             1                     0                    0                   0
##  9             1                     0                    0                   0
## 10             1                     0                    1                   0
## # … with 11,318 more rows, and 1 more variable: marital_missMarried &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Writing out this model with equations, the model looks like this:
&lt;span class=&#34;math display&#34;&gt;\[
tvhours_{i} = \beta_{0} + \beta_{1} Separated_{i} + \beta_{2} Divorced_{I} + \beta_{3} Widowed_{i} + \beta_{4} Married_{i} + \epsilon_{i}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you are more familiar with ANOVA terminology, you can get an ANOVA table using the &lt;code&gt;anova&lt;/code&gt; function on the model object.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;anova(anova_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Analysis of Variance Table
## 
## Response: tvhours
##                 Df Sum Sq Mean Sq F value    Pr(&amp;gt;F)    
## marital_miss     4   1624  406.12  61.941 &amp;lt; 2.2e-16 ***
## Residuals    11323  74239    6.56                      
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here you’ll notice that the F statistic is the same from the &lt;code&gt;lm&lt;/code&gt; and &lt;code&gt;anova&lt;/code&gt; functions showing that these are equivalent model calls.&lt;/p&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the martial_miss variable created above, what are the sample means of the five groups?&lt;/li&gt;
&lt;li&gt;How do these sample means relate back to the parameters estimates shown above?&lt;/li&gt;
&lt;li&gt;How could you visualize these models results? Attempt to create a visualization that captures the model results above.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;adjusting-the-reference-group&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Adjusting the reference group&lt;/h3&gt;
&lt;p&gt;It is often of interest to adjust the reference group to make the intercept represent a specific group of interest. There are two approaches to take for this approach. The first I will show is using the forcats package to change the order of the levels of the variable.&lt;/p&gt;
&lt;p&gt;Suppose for example, we wish to make the widowed category the reference group. This is the job of &lt;code&gt;fct_relevel&lt;/code&gt; from the forcats package.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gss_cat &amp;lt;- gss_cat %&amp;gt;%
  mutate(marital_m_widow = fct_relevel(
    marital_miss,
    &amp;#39;Widowed&amp;#39;
  ))
levels(gss_cat$marital_miss)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Never married&amp;quot; &amp;quot;Separated&amp;quot;     &amp;quot;Divorced&amp;quot;      &amp;quot;Widowed&amp;quot;      
## [5] &amp;quot;Married&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;levels(gss_cat$marital_m_widow)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Widowed&amp;quot;       &amp;quot;Never married&amp;quot; &amp;quot;Separated&amp;quot;     &amp;quot;Divorced&amp;quot;     
## [5] &amp;quot;Married&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’ll notice that in the new variable, the widowed category was moved to the beginning and the remaining order was not changed. We can now fit a new model with this newly releveled factor variable.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(lm(tvhours ~ marital_m_widow, data = gss_cat))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = tvhours ~ marital_m_widow, data = gss_cat)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.9120 -1.6504 -0.6504  0.8948 21.3496 
## 
## Coefficients:
##                              Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)                   3.91200    0.08097  48.313  &amp;lt; 2e-16 ***
## marital_m_widowNever married -0.80682    0.09352  -8.627  &amp;lt; 2e-16 ***
## marital_m_widowSeparated     -0.36238    0.15245  -2.377   0.0175 *  
## marital_m_widowDivorced      -0.82659    0.10132  -8.159 3.75e-16 ***
## marital_m_widowMarried       -1.26157    0.08845 -14.262  &amp;lt; 2e-16 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 2.561 on 11323 degrees of freedom
##   (10155 observations deleted due to missingness)
## Multiple R-squared:  0.02141,    Adjusted R-squared:  0.02107 
## F-statistic: 61.94 on 4 and 11323 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The second approach to modifying which group represents the reference group would be to create the indicator (dummy) variables manually. The logic follows from the design matrix above, namely that each variable should have a value of 1 if the marital status equals a specific category or 0 otherwise. For example, this can be created as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gss_cat &amp;lt;- gss_cat %&amp;gt;%
  mutate(
    separated = ifelse(marital_miss == &amp;#39;Separated&amp;#39;, 1, 0),
    never_married = ifelse(marital_miss == &amp;#39;Never married&amp;#39;, 1, 0),
    divorced = ifelse(marital_miss == &amp;#39;Divorced&amp;#39;, 1, 0),
    married = ifelse(marital_miss == &amp;#39;Married&amp;#39;, 1, 0)
  )
summary(lm(tvhours ~ separated + never_married + divorced + married, 
           data = gss_cat))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = tvhours ~ separated + never_married + divorced + 
##     married, data = gss_cat)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.9120 -1.6504 -0.6504  0.8948 21.3496 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)    3.91200    0.08097  48.313  &amp;lt; 2e-16 ***
## separated     -0.36238    0.15245  -2.377   0.0175 *  
## never_married -0.80682    0.09352  -8.627  &amp;lt; 2e-16 ***
## divorced      -0.82659    0.10132  -8.159 3.75e-16 ***
## married       -1.26157    0.08845 -14.262  &amp;lt; 2e-16 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 2.561 on 11323 degrees of freedom
##   (10155 observations deleted due to missingness)
## Multiple R-squared:  0.02141,    Adjusted R-squared:  0.02107 
## F-statistic: 61.94 on 4 and 11323 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Manually creating the variables has a few advantages, namely that there is a bit more flexibility on how the variables are created, but both approaches lead to the same model.&lt;/p&gt;
&lt;div id=&#34;exercises-1&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Combine the ‘Never married’ and ‘Divorced’ categories into one category.&lt;/li&gt;
&lt;li&gt;Fit a new model that combines these two categories. Does the model fit differ from the models shown above? Is this surprising?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;post-hoc-tests&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Post Hoc Tests&lt;/h3&gt;
&lt;p&gt;From the models fitted above, it may be of interest to conduct post hoc tests that compare all pairwise mean differences, particularly as the tests above are all compared to the reference group. This approach will be explored using the multcomp package and with defining linear contrasts.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# install.packages(&amp;quot;multcomp&amp;quot;)
library(multcomp)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We first need to define linear contrasts based on the levels of the factor variable. For example, using the following model:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gss_cat &amp;lt;- gss_cat %&amp;gt;%
  mutate(marital_m_widow = fct_recode(marital_m_widow,
           &amp;quot;Never_married&amp;quot; = &amp;quot;Never married&amp;quot;                           
  ))
anova_mod &amp;lt;- lm(tvhours ~ marital_m_widow, data = gss_cat)
levels(gss_cat$marital_m_widow)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Widowed&amp;quot;       &amp;quot;Never_married&amp;quot; &amp;quot;Separated&amp;quot;     &amp;quot;Divorced&amp;quot;     
## [5] &amp;quot;Married&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will use these level values to create linear contrasts that test all pairwise categories.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;my_contrasts &amp;lt;- c(&amp;quot;Widowed - Never_married = 0&amp;quot;,
                 &amp;quot;Widowed - Separated = 0&amp;quot;,
                 &amp;quot;Widowed - Divorced = 0&amp;quot;,
                 &amp;quot;Widowed - Married = 0&amp;quot;,
                 &amp;quot;Never_married - Separated = 0&amp;quot;,
                 &amp;quot;Never_married - Divorced = 0&amp;quot;,
                 &amp;quot;Never_married - Married = 0&amp;quot;,
                 &amp;quot;Separated - Divorced = 0&amp;quot;,
                 &amp;quot;Separated - Married = 0&amp;quot;,
                 &amp;quot;Divorced - Married = 0&amp;quot;)
contr_results &amp;lt;- glht(anova_mod, 
                      linfct = mcp(marital_m_widow = my_contrasts))
summary(contr_results)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
##   Simultaneous Tests for General Linear Hypotheses
## 
## Multiple Comparisons of Means: User-defined Contrasts
## 
## 
## Fit: lm(formula = tvhours ~ marital_m_widow, data = gss_cat)
## 
## Linear Hypotheses:
##                                Estimate Std. Error t value Pr(&amp;gt;|t|)    
## Widowed - Never_married == 0    0.80682    0.09352   8.627  &amp;lt; 0.001 ***
## Widowed - Separated == 0        0.36238    0.15245   2.377  0.11076    
## Widowed - Divorced == 0         0.82659    0.10132   8.159  &amp;lt; 0.001 ***
## Widowed - Married == 0          1.26157    0.08845  14.262  &amp;lt; 0.001 ***
## Never_married - Separated == 0 -0.44444    0.13738  -3.235  0.00957 ** 
## Never_married - Divorced == 0   0.01977    0.07680   0.257  0.99893    
## Never_married - Married == 0    0.45475    0.05879   7.735  &amp;lt; 0.001 ***
## Separated - Divorced == 0       0.46421    0.14280   3.251  0.00904 ** 
## Separated - Married == 0        0.89919    0.13398   6.711  &amp;lt; 0.001 ***
## Divorced - Married == 0         0.43498    0.07054   6.166  &amp;lt; 0.001 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## (Adjusted p values reported -- single-step method)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also specify different adjustment methods, such as the Benjamin-Hochberg method.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(contr_results, test = adjusted(&amp;quot;BH&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
##   Simultaneous Tests for General Linear Hypotheses
## 
## Multiple Comparisons of Means: User-defined Contrasts
## 
## 
## Fit: lm(formula = tvhours ~ marital_m_widow, data = gss_cat)
## 
## Linear Hypotheses:
##                                Estimate Std. Error t value Pr(&amp;gt;|t|)    
## Widowed - Never_married == 0    0.80682    0.09352   8.627  &amp;lt; 2e-16 ***
## Widowed - Separated == 0        0.36238    0.15245   2.377  0.01941 *  
## Widowed - Divorced == 0         0.82659    0.10132   8.159 1.48e-15 ***
## Widowed - Married == 0          1.26157    0.08845  14.262  &amp;lt; 2e-16 ***
## Never_married - Separated == 0 -0.44444    0.13738  -3.235  0.00152 ** 
## Never_married - Divorced == 0   0.01977    0.07680   0.257  0.79687    
## Never_married - Married == 0    0.45475    0.05879   7.735 2.78e-14 ***
## Separated - Divorced == 0       0.46421    0.14280   3.251  0.00152 ** 
## Separated - Married == 0        0.89919    0.13398   6.711 4.04e-11 ***
## Divorced - Married == 0         0.43498    0.07054   6.166 1.20e-09 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## (Adjusted p values reported -- BH method)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Although defining the linear contrasts manually is more flexible, for simple models, the multiple comparisons can be generated a bit more simply.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(glht(anova_mod, linfct = mcp(marital_m_widow = &amp;quot;Tukey&amp;quot;)), 
        test = adjusted(&amp;quot;BH&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
##   Simultaneous Tests for General Linear Hypotheses
## 
## Multiple Comparisons of Means: Tukey Contrasts
## 
## 
## Fit: lm(formula = tvhours ~ marital_m_widow, data = gss_cat)
## 
## Linear Hypotheses:
##                                Estimate Std. Error t value Pr(&amp;gt;|t|)    
## Never_married - Widowed == 0   -0.80682    0.09352  -8.627  &amp;lt; 2e-16 ***
## Separated - Widowed == 0       -0.36238    0.15245  -2.377  0.01941 *  
## Divorced - Widowed == 0        -0.82659    0.10132  -8.159 1.48e-15 ***
## Married - Widowed == 0         -1.26157    0.08845 -14.262  &amp;lt; 2e-16 ***
## Separated - Never_married == 0  0.44444    0.13738   3.235  0.00152 ** 
## Divorced - Never_married == 0  -0.01977    0.07680  -0.257  0.79687    
## Married - Never_married == 0   -0.45475    0.05879  -7.735 2.78e-14 ***
## Divorced - Separated == 0      -0.46421    0.14280  -3.251  0.00152 ** 
## Married - Separated == 0       -0.89919    0.13398  -6.711 4.04e-11 ***
## Married - Divorced == 0        -0.43498    0.07054  -6.166 1.20e-09 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## (Adjusted p values reported -- BH method)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also generate simultaneous confidence intervals:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ci &amp;lt;- confint(summary(glht(anova_mod, linfct = mcp(marital_m_widow = &amp;quot;Tukey&amp;quot;)),
                test = adjusted(&amp;quot;BH&amp;quot;)))
ci&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
##   Simultaneous Confidence Intervals
## 
## Multiple Comparisons of Means: Tukey Contrasts
## 
## 
## Fit: lm(formula = tvhours ~ marital_m_widow, data = gss_cat)
## 
## Quantile = 2.6895
## 95% family-wise confidence level
##  
## 
## Linear Hypotheses:
##                                Estimate lwr      upr     
## Never_married - Widowed == 0   -0.80682 -1.05834 -0.55531
## Separated - Widowed == 0       -0.36238 -0.77239  0.04762
## Divorced - Widowed == 0        -0.82659 -1.09908 -0.55410
## Married - Widowed == 0         -1.26157 -1.49947 -1.02367
## Separated - Never_married == 0  0.44444  0.07497  0.81392
## Divorced - Never_married == 0  -0.01977 -0.22631  0.18678
## Married - Never_married == 0   -0.45475 -0.61288 -0.29662
## Divorced - Separated == 0      -0.46421 -0.84827 -0.08015
## Married - Separated == 0       -0.89919 -1.25954 -0.53885
## Married - Divorced == 0        -0.43498 -0.62471 -0.24526&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These could then be visulized directly.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;SCI = data.frame(
  Contrast = 1:nrow(ci$confint),   #Contrast number
  MD = ci$confint[, 1],      #Mean difference
  LL = ci$confint[, 2],      #Lower limit
  UL = ci$confint[, 3],      #Upper limit
  Sig = c(&amp;quot;Yes&amp;quot;, &amp;quot;No&amp;quot;, &amp;quot;Yes&amp;quot;, &amp;quot;Yes&amp;quot;, &amp;#39;Yes&amp;#39;, &amp;#39;No&amp;#39;, 
          &amp;#39;Yes&amp;#39;, &amp;#39;Yes&amp;#39;, &amp;#39;Yes&amp;#39;, &amp;#39;Yes&amp;#39;),   #Statistically reliable?
  Alpha = c(1, .75, 1, 1, 1, .75, 1, 1, 1, 1),     #Transparency value
  Names = rownames(ci$confint)  # contrast label
)

# Plot of the simultaneous intervals
library(ggplot2)
ggplot(data = SCI, aes(x = Contrast, y = MD, color = Sig)) +
  geom_point(size = 4) +
  geom_segment(aes(x = Contrast, xend = Contrast, y = LL, 
                   yend = UL, alpha = Alpha), lwd = 1.5) +
  geom_hline(yintercept = 0, lty = &amp;quot;dotted&amp;quot;) +
  scale_color_manual(values = c(&amp;quot;Black&amp;quot;, &amp;quot;Gold&amp;quot;)) +
  scale_x_continuous(
    name = &amp;quot;&amp;quot;,
    breaks = 1:10,
    labels = SCI$Names
  ) +
  ylab(&amp;quot;Mean Difference&amp;quot;) +
  coord_flip() +
  theme_bw() +
  theme(
    legend.position = &amp;quot;none&amp;quot;,
    panel.grid.minor = element_blank(), 
    panel.grid.major = element_blank() 
  )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-part2_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;exercises-2&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Fit a model that explores mean differences in tvhours by the party affiliation (partyid variable). Do the means differ?&lt;/li&gt;
&lt;li&gt;Using the post-hoc tests, run post-hoc tests to test all pairwise differences.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Advanced Modeling Topics</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/adv-model/</link>
      <pubDate>Wed, 17 Mar 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/adv-model/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;This section of notes will use the following packages.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(modelr)
library(broom)
library(forcats)
library(stringr)
library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;interactions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Interactions&lt;/h2&gt;
&lt;p&gt;Interactions are an important modeling concept that can greatly increase model fit, prediction accuracy, and explained variance. Interactions can be difficult to interpret, however, we will explore them in more detail here with particular attention to graphical displays of interactions and also exploring the design matrix for how interactions are included in the model fitting procedure.&lt;/p&gt;
&lt;p&gt;We will use the &lt;code&gt;heights&lt;/code&gt; data from the modelr package to explore interactions. The primary interactions that we will explore are between two (or more) categorical predictors and also the interaction between a categorical predictor and a continuous predictor. Interpretations are similar between two continuous predictors as well.&lt;/p&gt;
&lt;p&gt;Here are the first few rows of the data:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 7,006 × 8
##    income height weight   age marital  sex    education  afqt
##     &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt;    &amp;lt;fct&amp;gt;      &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt;
##  1  19000     60    155    53 married  female        13  6.84
##  2  35000     70    156    51 married  female        10 49.4 
##  3 105000     65    195    52 married  male          16 99.4 
##  4  40000     63    197    54 married  female        14 44.0 
##  5  75000     66    190    49 married  male          14 59.7 
##  6 102000     68    200    49 divorced female        18 98.8 
##  7      0     74    225    48 married  male          16 82.3 
##  8  70000     64    160    54 divorced female        12 50.3 
##  9  60000     69    162    55 divorced male          12 89.7 
## 10 150000     69    194    54 divorced male          13 96.0 
## # … with 6,996 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Suppose we were interested in exploring the relationship between sex and afqt (armed forces qualifications test, in percentiles) and if this relationship is moderated by marital status. First, it may be useful to get a baseline to see the relationship between sex and afqt.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;afqt_sex &amp;lt;- lm(afqt ~ sex, data = heights)
summary(afqt_sex)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ sex, data = heights)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -41.876 -26.034  -4.429  24.046  59.406 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)  41.8760     0.5093  82.221   &amp;lt;2e-16 ***
## sexfemale    -1.2824     0.7074  -1.813   0.0699 .  
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 29.03 on 6742 degrees of freedom
##   (262 observations deleted due to missingness)
## Multiple R-squared:  0.0004872,  Adjusted R-squared:  0.000339 
## F-statistic: 3.287 on 1 and 6742 DF,  p-value: 0.06989&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that there is a small effect, which is not significant if using an alpha value of 0.05. Also, notice the extremely small r-square value here, this is actually a good finding, we would hope there would be no statistical differences between males and females on this qualifications test. Now lets start adding in marital status. We can do this as follows (Note, I have combined separated and widowed into a single category due to relatively small sample sizes):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights &amp;lt;- heights %&amp;gt;%
  mutate(
    marital_comb = fct_recode(marital,
          &amp;#39;Other&amp;#39; = &amp;#39;separated&amp;#39;,
          &amp;#39;Other&amp;#39; = &amp;#39;widowed&amp;#39;
    )
  )
afqt_sex_marital &amp;lt;- lm(afqt ~ sex + marital_comb, data = heights)
summary(afqt_sex_marital)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ sex + marital_comb, data = heights)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -47.957 -23.174  -4.386  22.389  74.002 
## 
## Coefficients:
##                      Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)           31.7982     0.9093  34.970  &amp;lt; 2e-16 ***
## sexfemale             -0.6819     0.6869  -0.993 0.320829    
## marital_combmarried   16.1587     0.9727  16.611  &amp;lt; 2e-16 ***
## marital_combOther     -5.5953     1.5186  -3.685 0.000231 ***
## marital_combdivorced   6.2811     1.1232   5.592 2.33e-08 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 28.02 on 6739 degrees of freedom
##   (262 observations deleted due to missingness)
## Multiple R-squared:  0.069,  Adjusted R-squared:  0.06845 
## F-statistic: 124.9 on 4 and 6739 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This model only contains what are often referred to as main effects. Namely, these are only the additive effects of sex and marital variables. To get a sense as to what the design matrix looks like, we can use &lt;code&gt;model_matrix&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_matrix(heights, afqt ~ sex + marital_comb)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6,744 × 5
##    `(Intercept)` sexfemale marital_combmarried marital_combOth… marital_combdiv…
##            &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;               &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;
##  1             1         1                   1                0                0
##  2             1         1                   1                0                0
##  3             1         0                   1                0                0
##  4             1         1                   1                0                0
##  5             1         0                   1                0                0
##  6             1         1                   0                0                1
##  7             1         0                   1                0                0
##  8             1         1                   0                0                1
##  9             1         0                   0                0                1
## 10             1         0                   0                0                1
## # … with 6,734 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To add the interaction between the two variables (multiplicative effects), we can add one additional term to the &lt;code&gt;lm&lt;/code&gt; function call.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;interact_mod &amp;lt;- lm(afqt ~ sex + marital_comb + sex:marital_comb, data = heights)
summary(interact_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ sex + marital_comb + sex:marital_comb, data = heights)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -47.981 -22.978  -4.336  22.488  75.275 
## 
## Coefficients:
##                                Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)                     31.4205     1.1536  27.237  &amp;lt; 2e-16 ***
## sexfemale                        0.1564     1.7184   0.091    0.928    
## marital_combmarried             16.5603     1.3273  12.477  &amp;lt; 2e-16 ***
## marital_combOther               -2.5872     2.4677  -1.048    0.294    
## marital_combdivorced             6.2796     1.5814   3.971 7.24e-05 ***
## sexfemale:marital_combmarried   -0.8856     1.9516  -0.454    0.650    
## sexfemale:marital_combOther     -4.7414     3.1645  -1.498    0.134    
## sexfemale:marital_combdivorced  -0.1494     2.2535  -0.066    0.947    
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 28.02 on 6736 degrees of freedom
##   (262 observations deleted due to missingness)
## Multiple R-squared:  0.06936,    Adjusted R-squared:  0.0684 
## F-statistic: 71.72 on 7 and 6736 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There is also an &lt;code&gt;anova&lt;/code&gt; function that gives more traditional anova and sum of squares information.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;anova(interact_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Analysis of Variance Table
## 
## Response: afqt
##                    Df  Sum Sq Mean Sq  F value  Pr(&amp;gt;F)    
## sex                 1    2769    2769   3.5267 0.06043 .  
## marital_comb        3  389378  129793 165.3055 &amp;lt; 2e-16 ***
## sex:marital_comb    3    2058     686   0.8738 0.45380    
## Residuals        6736 5288896     785                     
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In this model, there are not actually any significant results for the interaction, but lets explore the design matrix to see exactly what is happening.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_matrix(heights, afqt ~ sex + marital_comb + sex:marital_comb)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6,744 × 8
##    `(Intercept)` sexfemale marital_combmarried marital_combOth… marital_combdiv…
##            &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;               &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;
##  1             1         1                   1                0                0
##  2             1         1                   1                0                0
##  3             1         0                   1                0                0
##  4             1         1                   1                0                0
##  5             1         0                   1                0                0
##  6             1         1                   0                0                1
##  7             1         0                   1                0                0
##  8             1         1                   0                0                1
##  9             1         0                   0                0                1
## 10             1         0                   0                0                1
## # … with 6,734 more rows, and 3 more variables:
## #   `sexfemale:marital_combmarried` &amp;lt;dbl&amp;gt;, `sexfemale:marital_combOther` &amp;lt;dbl&amp;gt;,
## #   `sexfemale:marital_combdivorced` &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This model specifically adds columns that literally are multiplications of other columns in the design matrix. This is why interactions are often depicted with the symbol “x”, e.g. marital x sex. R uses &lt;code&gt;:&lt;/code&gt; as interactions. The interaction model can also be specified in an alternate more compact formula:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(lm(afqt ~ sex * marital_comb, data = heights))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ sex * marital_comb, data = heights)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -47.981 -22.978  -4.336  22.488  75.275 
## 
## Coefficients:
##                                Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)                     31.4205     1.1536  27.237  &amp;lt; 2e-16 ***
## sexfemale                        0.1564     1.7184   0.091    0.928    
## marital_combmarried             16.5603     1.3273  12.477  &amp;lt; 2e-16 ***
## marital_combOther               -2.5872     2.4677  -1.048    0.294    
## marital_combdivorced             6.2796     1.5814   3.971 7.24e-05 ***
## sexfemale:marital_combmarried   -0.8856     1.9516  -0.454    0.650    
## sexfemale:marital_combOther     -4.7414     3.1645  -1.498    0.134    
## sexfemale:marital_combdivorced  -0.1494     2.2535  -0.066    0.947    
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 28.02 on 6736 degrees of freedom
##   (262 observations deleted due to missingness)
## Multiple R-squared:  0.06936,    Adjusted R-squared:  0.0684 
## F-statistic: 71.72 on 7 and 6736 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;exercises&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the gss_cat data from the forcats package, fit a model that predicts age with marital status, partyid, and the interaction between the two.&lt;/li&gt;
&lt;li&gt;How well does this model fit?&lt;/li&gt;
&lt;li&gt;How is the intercept interpreted here?&lt;/li&gt;
&lt;li&gt;Do the results change when collapsing the partyid variable into the following three categories:
&lt;ul&gt;
&lt;li&gt;Republican&lt;/li&gt;
&lt;li&gt;Democrat&lt;/li&gt;
&lt;li&gt;Other&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;visualize-model-results&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Visualize Model Results&lt;/h2&gt;
&lt;p&gt;When exploring model results, visualizing the model results is often more useful than looking at a table of coefficients. In addition, if the model is simply attempting to predict means (ANOVA), plotting often simply involves computing means for the different categories. This section will also explore how best to visualize interactions.&lt;/p&gt;
&lt;p&gt;If we simply would like to show the main effects from the model above predicting Armed Forces Qualifiactions Test Score with marital status and sex, we could calculate the means of these groups.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;marital_means &amp;lt;- heights %&amp;gt;%
  group_by(marital_comb) %&amp;gt;%
  summarise(avg_afqt = mean(afqt, na.rm = TRUE),
            sd_afqt = sd(afqt, na.rm = TRUE), 
            n = n()) %&amp;gt;%
  mutate(se_mean = sd_afqt/sqrt(n), 
         group = &amp;#39;Marital&amp;#39;, 
         levels = marital_comb) %&amp;gt;%
  ungroup() %&amp;gt;%
  dplyr::select(-marital_comb)
sex_means &amp;lt;- heights %&amp;gt;%
  group_by(sex) %&amp;gt;%
  summarise(avg_afqt = mean(afqt, na.rm = TRUE),
            sd_afqt = sd(afqt, na.rm = TRUE), 
            n = n()) %&amp;gt;%
  mutate(se_mean = sd_afqt/sqrt(n),
         group = &amp;#39;Sex&amp;#39;, 
         levels = sex) %&amp;gt;%
  ungroup() %&amp;gt;%
  dplyr::select(-sex)
comb_means &amp;lt;- bind_rows(marital_means, sex_means)
comb_means&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 × 6
##   avg_afqt sd_afqt     n se_mean group   levels  
##      &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;fct&amp;gt;   
## 1     31.5    27.7  1124   0.828 Marital single  
## 2     47.6    29.1  3806   0.472 Marital married 
## 3     25.7    24.1   527   1.05  Marital Other   
## 4     37.7    26.6  1549   0.676 Marital divorced
## 5     41.9    29.8  3402   0.511 Sex     male    
## 6     40.6    28.3  3604   0.472 Sex     female&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The effects can now be shown in a figure.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(comb_means, aes(avg_afqt, fct_reorder(levels, avg_afqt))) + 
  geom_point(size = 3) + 
  facet_grid(group ~ ., scales = &amp;#39;free&amp;#39;, space = &amp;#39;free&amp;#39;) + 
  ylab(&amp;quot;Groups&amp;quot;) + 
  xlab(&amp;quot;Average Armed Forces Qualification Score&amp;quot;) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/adv-model_files/figure-html/mean_fig-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Since we computed standard errors, we could also add error bars using &lt;code&gt;geom_errorbarh&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(comb_means, aes(avg_afqt, fct_reorder(levels, avg_afqt))) + 
  geom_point(size = 3) + 
  geom_errorbarh(aes(xmin = avg_afqt - se_mean*2, xmax = avg_afqt + se_mean*2),
                 height = 0) + 
  facet_grid(group ~ ., scales = &amp;#39;free&amp;#39;, space = &amp;#39;free&amp;#39;) +
  ylab(&amp;quot;Groups&amp;quot;) + 
  xlab(&amp;quot;Average Armed Forces Qualification Score&amp;quot;) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/adv-model_files/figure-html/pointrange-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Plotting the interaction happens in a similar fashion. Namely, we will now calculate means by using both variables in a single &lt;code&gt;group_by&lt;/code&gt; statement.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;int_means &amp;lt;- heights %&amp;gt;%
  group_by(marital_comb, sex) %&amp;gt;%
  summarise(avg_afqt = mean(afqt, na.rm = TRUE),
            sd_afqt = sd(afqt, na.rm = TRUE), 
            n = n()) %&amp;gt;%
  mutate(se_mean = sd_afqt/sqrt(n))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` has grouped output by &amp;#39;marital_comb&amp;#39;. You can override using the
## `.groups` argument.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;int_means&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 8 × 6
## # Groups:   marital_comb [4]
##   marital_comb sex    avg_afqt sd_afqt     n se_mean
##   &amp;lt;fct&amp;gt;        &amp;lt;fct&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;
## 1 single       male       31.4    28.2   624   1.13 
## 2 single       female     31.6    27.3   500   1.22 
## 3 married      male       48.0    29.8  1905   0.683
## 4 married      female     47.3    28.5  1901   0.653
## 5 Other        male       28.8    25.7   177   1.93 
## 6 Other        female     24.2    23.1   350   1.24 
## 7 divorced     male       37.7    27.7   696   1.05 
## 8 divorced     female     37.7    25.7   853   0.879&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These means should now match the last model from the previous lecture. We can now plot these directly.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(int_means, aes(avg_afqt, fct_reorder(marital_comb, avg_afqt), 
                      shape = sex, linetype = sex, group = sex)) + 
  geom_point(size = 3) + 
  geom_line(size = 1) + 
  ylab(&amp;quot;Groups&amp;quot;) + 
  xlab(&amp;quot;Average Armed Forces Qualification Score&amp;quot;) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/adv-model_files/figure-html/int_plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Standard error bars can be shown here, but may complicate the figure too much.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(int_means, aes(avg_afqt, fct_reorder(marital_comb, avg_afqt), 
                      shape = sex, linetype = sex, group = sex)) + 
  geom_point(size = 3) + 
  geom_line(size = 1) + 
  geom_errorbarh(aes(xmin = avg_afqt - se_mean * 2, xmax = avg_afqt + se_mean * 2), 
                 height = 0) +
  ylab(&amp;quot;Groups&amp;quot;) + 
  xlab(&amp;quot;Average Armed Forces Qualification Score&amp;quot;) + 
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/adv-model_files/figure-html/se_int-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;exercises-1&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the gss_cat data from the forcats package, fit a model that predicts age with marital status, partyid, and the interaction between the two.&lt;/li&gt;
&lt;li&gt;Create a figure that explores the interaction between the two variables.&lt;/li&gt;
&lt;li&gt;Add a third variable to the model, race. Include this as a main effect, plus interacting with the other variables.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;interaction-between-continuous-and-categorical-predictors&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Interaction between continuous and categorical predictors&lt;/h2&gt;
&lt;p&gt;Using again the heights data, suppose we wished to again predict the Armed Forces Qualifications Test score (afqt) with marital status and height. This can be done with the linear model.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(lm(afqt ~ marital_comb + height, data = heights))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ marital_comb + height, data = heights)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -53.150 -22.517  -4.248  22.097  78.355 
## 
## Coefficients:
##                       Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)          -28.99932    5.67144  -5.113 3.25e-07 ***
## marital_combmarried   16.13531    0.96385  16.741  &amp;lt; 2e-16 ***
## marital_combOther     -4.63978    1.50160  -3.090  0.00201 ** 
## marital_combdivorced   6.75490    1.11278   6.070 1.35e-09 ***
## height                 0.89847    0.08329  10.787  &amp;lt; 2e-16 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 27.78 on 6739 degrees of freedom
##   (262 observations deleted due to missingness)
## Multiple R-squared:  0.08467,    Adjusted R-squared:  0.08413 
## F-statistic: 155.8 on 4 and 6739 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’ll notice here that the intercept is negative. Why is this negative? You can most easily see this by looking at a figure of the data. Note, here I am simply showing the dependent and the height variable ignoring the marital status, however, this will have a slightly different slope than the one above (Try it).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(heights, aes(x = height, y = afqt)) + 
  geom_jitter(size = 2) + 
  geom_abline(intercept = -26.02, slope = 1.002, size = 1, color = &amp;#39;blue&amp;#39;) + 
  coord_cartesian(xlim = c(0, 90), ylim = c(-30, 105)) +
  ylab(&amp;quot;Average Armed Forces Qualification Score&amp;quot;) + 
  xlab(&amp;quot;Height&amp;quot;) +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 262 rows containing missing values (geom_point).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/adv-model_files/figure-html/trend-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It may be better to mean center the height variable.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(lm(afqt ~ marital_comb + I(height - mean(heights$height)), data = heights))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ marital_comb + I(height - mean(heights$height)), 
##     data = heights)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -53.150 -22.517  -4.248  22.097  78.355 
## 
## Coefficients:
##                                  Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)                      31.29186    0.84798   36.90  &amp;lt; 2e-16 ***
## marital_combmarried              16.13531    0.96385   16.74  &amp;lt; 2e-16 ***
## marital_combOther                -4.63978    1.50160   -3.09  0.00201 ** 
## marital_combdivorced              6.75490    1.11278    6.07 1.35e-09 ***
## I(height - mean(heights$height))  0.89847    0.08329   10.79  &amp;lt; 2e-16 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 27.78 on 6739 degrees of freedom
##   (262 observations deleted due to missingness)
## Multiple R-squared:  0.08467,    Adjusted R-squared:  0.08413 
## F-statistic: 155.8 on 4 and 6739 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that the mean effects do not change, but rather just the location of the intercept. This is a traditional analysis of covariance model.&lt;/p&gt;
&lt;p&gt;Interactions are simple to add now, they follow the same syntax as the categorical predictors from above. For example, if we wanted to add an interaction between height and marital status, we could do this as follows.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(lm(afqt ~ marital_comb + I(height - mean(heights$height)) + 
             marital_comb:I(height - mean(heights$height)), 
           data = heights))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ marital_comb + I(height - mean(heights$height)) + 
##     marital_comb:I(height - mean(heights$height)), data = heights)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -53.768 -22.664  -4.183  21.972  78.762 
## 
## Coefficients:
##                                                       Estimate Std. Error
## (Intercept)                                           31.32214    0.84911
## marital_combmarried                                   16.08587    0.96531
## marital_combOther                                     -4.58940    1.53070
## marital_combdivorced                                   6.66304    1.11478
## I(height - mean(heights$height))                       0.76180    0.20923
## marital_combmarried:I(height - mean(heights$height))   0.22912    0.23745
## marital_combOther:I(height - mean(heights$height))     0.21641    0.37137
## marital_combdivorced:I(height - mean(heights$height)) -0.02469    0.27510
##                                                       t value Pr(&amp;gt;|t|)    
## (Intercept)                                            36.888  &amp;lt; 2e-16 ***
## marital_combmarried                                    16.664  &amp;lt; 2e-16 ***
## marital_combOther                                      -2.998 0.002725 ** 
## marital_combdivorced                                    5.977 2.39e-09 ***
## I(height - mean(heights$height))                        3.641 0.000274 ***
## marital_combmarried:I(height - mean(heights$height))    0.965 0.334624    
## marital_combOther:I(height - mean(heights$height))      0.583 0.560092    
## marital_combdivorced:I(height - mean(heights$height))  -0.090 0.928481    
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 27.79 on 6736 degrees of freedom
##   (262 observations deleted due to missingness)
## Multiple R-squared:  0.08494,    Adjusted R-squared:  0.08399 
## F-statistic: 89.32 on 7 and 6736 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(lm(afqt ~ marital_comb * I(height - mean(heights$height)), data = heights))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ marital_comb * I(height - mean(heights$height)), 
##     data = heights)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -53.768 -22.664  -4.183  21.972  78.762 
## 
## Coefficients:
##                                                       Estimate Std. Error
## (Intercept)                                           31.32214    0.84911
## marital_combmarried                                   16.08587    0.96531
## marital_combOther                                     -4.58940    1.53070
## marital_combdivorced                                   6.66304    1.11478
## I(height - mean(heights$height))                       0.76180    0.20923
## marital_combmarried:I(height - mean(heights$height))   0.22912    0.23745
## marital_combOther:I(height - mean(heights$height))     0.21641    0.37137
## marital_combdivorced:I(height - mean(heights$height)) -0.02469    0.27510
##                                                       t value Pr(&amp;gt;|t|)    
## (Intercept)                                            36.888  &amp;lt; 2e-16 ***
## marital_combmarried                                    16.664  &amp;lt; 2e-16 ***
## marital_combOther                                      -2.998 0.002725 ** 
## marital_combdivorced                                    5.977 2.39e-09 ***
## I(height - mean(heights$height))                        3.641 0.000274 ***
## marital_combmarried:I(height - mean(heights$height))    0.965 0.334624    
## marital_combOther:I(height - mean(heights$height))      0.583 0.560092    
## marital_combdivorced:I(height - mean(heights$height))  -0.090 0.928481    
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 27.79 on 6736 degrees of freedom
##   (262 observations deleted due to missingness)
## Multiple R-squared:  0.08494,    Adjusted R-squared:  0.08399 
## F-statistic: 89.32 on 7 and 6736 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What do these coefficients mean however? This is best explained with a picture.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_summary &amp;lt;- augment(lm(afqt ~ marital_comb * I(height - mean(heights$height)), 
                            data = heights))
model_summary &amp;lt;- rename(model_summary, &amp;#39;height_center&amp;#39; = `I(height - mean(heights$height))`)
model_summary&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6,744 × 9
##    .rownames  afqt marital_comb height_center .fitted     .hat .sigma    .cooksd
##    &amp;lt;chr&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;             &amp;lt;I&amp;lt;dbl&amp;gt;&amp;gt;   &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;
##  1 1          6.84 married             -7.10     40.4 0.00115    27.8    2.09e-4
##  2 2         49.4  married              2.90     50.3 0.000390   27.8    4.39e-8
##  3 3         99.4  married             -2.10     45.3 0.000360   27.8    1.70e-4
##  4 4         44.0  married             -4.10     43.3 0.000576   27.8    4.33e-8
##  5 5         59.7  married             -1.10     46.3 0.000301   27.8    8.70e-6
##  6 6         98.8  divorced             0.896    38.6 0.000737   27.8    4.33e-4
##  7 7         82.3  married              6.90     54.2 0.00100    27.8    1.28e-4
##  8 8         50.3  divorced            -3.10     35.7 0.000976   27.8    3.37e-5
##  9 9         89.7  divorced             1.90     39.4 0.000884   27.8    3.63e-4
## 10 10        96.0  divorced             1.90     39.4 0.000884   27.8    4.59e-4
## # … with 6,734 more rows, and 1 more variable: .std.resid &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(model_summary, aes(height_center, afqt)) + 
  geom_jitter(alpha = .1) + 
  geom_line(aes(x = height_center, y = .fitted, color = marital_comb),
            size = 2) + 
  ylab(&amp;quot;Average Armed Forces Qualification Score&amp;quot;) + 
  xlab(&amp;quot;Height&amp;quot;) +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/adv-model_files/figure-html/augment-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The figure for the traditional ANCOVA model initially explored would look like:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;model_summary &amp;lt;- augment(lm(afqt ~ marital_comb + I(height - mean(heights$height)), 
                            data = heights))
model_summary &amp;lt;- rename(model_summary, &amp;#39;height_center&amp;#39; = `I(height - mean(heights$height))`)
model_summary&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6,744 × 9
##    .rownames  afqt marital_comb height_center .fitted     .hat .sigma    .cooksd
##    &amp;lt;chr&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;             &amp;lt;I&amp;lt;dbl&amp;gt;&amp;gt;   &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;
##  1 1          6.84 married             -7.10     41.0 0.000753   27.8    2.29e-4
##  2 2         49.4  married              2.90     50.0 0.000337   27.8    2.99e-8
##  3 3         99.4  married             -2.10     45.5 0.000320   27.8    2.41e-4
##  4 4         44.0  married             -4.10     43.7 0.000439   27.8    9.09e-9
##  5 5         59.7  married             -1.10     46.4 0.000288   27.8    1.31e-5
##  6 6         98.8  divorced             0.896    38.9 0.000684   27.8    6.38e-4
##  7 7         82.3  married              6.90     53.6 0.000674   27.8    1.44e-4
##  8 8         50.3  divorced            -3.10     35.3 0.000736   27.8    4.31e-5
##  9 9         89.7  divorced             1.90     39.7 0.000716   27.8    4.63e-4
## 10 10        96.0  divorced             1.90     39.7 0.000716   27.8    5.88e-4
## # … with 6,734 more rows, and 1 more variable: .std.resid &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(model_summary, aes(height_center, afqt)) + 
  geom_jitter(alpha = .1) + 
  geom_line(aes(x = height_center, y = .fitted, color = marital_comb),
            size = 2) + 
  ylab(&amp;quot;Average Armed Forces Qualification Score&amp;quot;) + 
  xlab(&amp;quot;Height&amp;quot;) +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/adv-model_files/figure-html/ancova_figure-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;exercises-2&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Exercises&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the gss_cat data from the forcats package, fit a model that predicts age with marital status, tvhours, and the interaction between the two.&lt;/li&gt;
&lt;li&gt;Interpret the parameter estimates from this model? Is there evidence that the interaction is adding to the model?&lt;/li&gt;
&lt;li&gt;Create a figure that explores the interaction between the two variables.&lt;/li&gt;
&lt;li&gt;Fit another model that predicts age with marital status, party affiliation, and tvhours (main effects) as well as the interaction between marital status and tvhours and party afilliation and tvhours (two second order interactions).&lt;/li&gt;
&lt;li&gt;Interpret the effects for this model.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Model Assumptions</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/model-assumptions/</link>
      <pubDate>Wed, 17 Mar 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/model-assumptions/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;I want to spend a little bit of time talking about model assumptions. These are important and should be checked for any analysis. The following packages will be used for this set of notes.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(modelr)
library(broom)
library(forcats)
library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We are also going to use this model from the advanced model section to explore model assumptions.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights2 &amp;lt;- heights %&amp;gt;%
  mutate(
    marital_comb = fct_recode(marital,
          &amp;#39;Other&amp;#39; = &amp;#39;separated&amp;#39;,
          &amp;#39;Other&amp;#39; = &amp;#39;widowed&amp;#39;
    )
  )

afqt_mod &amp;lt;- lm(afqt ~ marital_comb + height, data = heights2)
summary(afqt_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ marital_comb + height, data = heights2)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -53.150 -22.517  -4.248  22.097  78.355 
## 
## Coefficients:
##                       Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)          -28.99932    5.67144  -5.113 3.25e-07 ***
## marital_combmarried   16.13531    0.96385  16.741  &amp;lt; 2e-16 ***
## marital_combOther     -4.63978    1.50160  -3.090  0.00201 ** 
## marital_combdivorced   6.75490    1.11278   6.070 1.35e-09 ***
## height                 0.89847    0.08329  10.787  &amp;lt; 2e-16 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 27.78 on 6739 degrees of freedom
##   (262 observations deleted due to missingness)
## Multiple R-squared:  0.08467,    Adjusted R-squared:  0.08413 
## F-statistic: 155.8 on 4 and 6739 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;plot-function-with-model-object&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;plot&lt;/code&gt; function with model object&lt;/h2&gt;
&lt;p&gt;One of the nicest features when model building within R, is that many diagnostic plots are very accessible using the &lt;code&gt;plot&lt;/code&gt; function. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot(afqt_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions_files/figure-html/diag_plots-1.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions_files/figure-html/diag_plots-2.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions_files/figure-html/diag_plots-3.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions_files/figure-html/diag_plots-4.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;These plots are shown one at a time in an interactive R session, but allow you to check many common assumptions such as normal residuals, linearity, homogeneity of variance, and even leverage.&lt;/p&gt;
&lt;p&gt;You can see from these figures that there is quite a bit to be desired from our model. First, the residuals are not normally distributed (very heavy tails) and more problematic is that the residuals have a trend to them. This suggests that we are missing an important variable in the model.&lt;/p&gt;
&lt;p&gt;Suppose we add some additional variables to the model keeping the model additive. Note, I am also mean centering many of the continuous variables to ease interpretation slightly.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights2 &amp;lt;- heights2 %&amp;gt;%
  mutate(income2 = ifelse(income == 0, .001, income),
         height2 = height - mean(height, na.rm = TRUE),
         education2 = education - mean(education, na.rm = TRUE),
         weight2 = weight - mean(weight, na.rm = TRUE),
         log_income = log(income2))
afqt_alt &amp;lt;- lm(afqt ~ marital_comb + height2 + education2 + 
                 log_income + weight2, data = heights2)
summary(afqt_alt)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ marital_comb + height2 + education2 + log_income + 
##     weight2, data = heights2)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -80.466 -16.515  -2.036  16.088 101.730 
## 
## Coefficients:
##                       Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)          32.645765   0.717463  45.502  &amp;lt; 2e-16 ***
## marital_combmarried   9.312248   0.802952  11.598  &amp;lt; 2e-16 ***
## marital_combOther    -2.537031   1.231340  -2.060   0.0394 *  
## marital_combdivorced  4.790976   0.913836   5.243 1.63e-07 ***
## height2               0.781474   0.077526  10.080  &amp;lt; 2e-16 ***
## education2            5.911616   0.111848  52.854  &amp;lt; 2e-16 ***
## log_income            0.395176   0.038720  10.206  &amp;lt; 2e-16 ***
## weight2              -0.027669   0.007074  -3.911 9.27e-05 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 22.57 on 6637 degrees of freedom
##   (361 observations deleted due to missingness)
## Multiple R-squared:  0.3969, Adjusted R-squared:  0.3963 
## F-statistic:   624 on 7 and 6637 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot(afqt_alt)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions_files/figure-html/diag2-1.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions_files/figure-html/diag2-2.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions_files/figure-html/diag2-3.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions_files/figure-html/diag2-4.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We could continue to model this variable by including additional predictors or interactions between our current predictors to attempt to remove this strong trend in the residuals. I’m going to stop here however and move on to another topic.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;exploring-individual-residuals&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Exploring individual residuals&lt;/h2&gt;
&lt;p&gt;Evaluating all of the residuals in a single step using the &lt;code&gt;plot&lt;/code&gt; function can be useful initially to explore model quality. However, eventually it is useful to explore residuals for specific values to explore why these are large.&lt;/p&gt;
&lt;p&gt;There are a few options to do this, one uses the broom package, the other uses the modelr package. I show both below.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;aug_afqt &amp;lt;- augment(afqt_alt)
aug_afqt&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6,645 × 13
##    .rownames  afqt marital_comb height2 education2 log_income weight2 .fitted
##    &amp;lt;chr&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;          &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;
##  1 1          6.84 married       -7.10      -0.218       9.85  -33.3     39.9
##  2 2         49.4  married        2.90      -3.22       10.5   -32.3     30.2
##  3 3         99.4  married       -2.10       2.78       11.6     6.70    61.1
##  4 4         44.0  married       -4.10       0.782      10.6     8.70    47.3
##  5 5         59.7  married       -1.10       0.782      11.2     1.70    50.1
##  6 6         98.8  divorced       0.896      4.78       11.5    11.7     70.6
##  7 7         82.3  married        6.90       2.78       -6.91   36.7     60.0
##  8 8         50.3  divorced      -3.10      -1.22       11.2   -28.3     33.0
##  9 9         89.7  divorced       1.90      -1.22       11.0   -26.3     36.8
## 10 10        96.0  divorced       1.90      -0.218      11.9     5.70    42.2
## # … with 6,635 more rows, and 5 more variables: .resid &amp;lt;dbl&amp;gt;, .hat &amp;lt;dbl&amp;gt;,
## #   .sigma &amp;lt;dbl&amp;gt;, .cooksd &amp;lt;dbl&amp;gt;, .std.resid &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;height_resid &amp;lt;- heights2 %&amp;gt;%
  add_residuals(afqt_alt) %&amp;gt;%
  add_predictions(afqt_alt)
height_resid&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 7,006 × 16
##    income height weight   age marital sex   education  afqt marital_comb income2
##     &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt;   &amp;lt;fct&amp;gt;     &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;          &amp;lt;dbl&amp;gt;
##  1  19000     60    155    53 married fema…        13  6.84 married      1.9 e+4
##  2  35000     70    156    51 married fema…        10 49.4  married      3.5 e+4
##  3 105000     65    195    52 married male         16 99.4  married      1.05e+5
##  4  40000     63    197    54 married fema…        14 44.0  married      4   e+4
##  5  75000     66    190    49 married male         14 59.7  married      7.5 e+4
##  6 102000     68    200    49 divorc… fema…        18 98.8  divorced     1.02e+5
##  7      0     74    225    48 married male         16 82.3  married      1   e-3
##  8  70000     64    160    54 divorc… fema…        12 50.3  divorced     7   e+4
##  9  60000     69    162    55 divorc… male         12 89.7  divorced     6   e+4
## 10 150000     69    194    54 divorc… male         13 96.0  divorced     1.5 e+5
## # … with 6,996 more rows, and 6 more variables: height2 &amp;lt;dbl&amp;gt;,
## #   education2 &amp;lt;dbl&amp;gt;, weight2 &amp;lt;dbl&amp;gt;, log_income &amp;lt;dbl&amp;gt;, resid &amp;lt;dbl&amp;gt;, pred &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The benefit to the &lt;code&gt;augment&lt;/code&gt; function from the broom package is that it includes more information. The main benefit fo the &lt;code&gt;add_residuals&lt;/code&gt; function from the modelr pacakge is that it includes all of the original data, not just those variables included in the final model. Therefore if you are fitting a model and want to explore trends in residuals based on other data characteristics not currently in the model, using the &lt;code&gt;add_residuals&lt;/code&gt; function would likely be better for this use.&lt;/p&gt;
&lt;div id=&#34;filtering-and-plotting-residuals&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Filtering and Plotting Residuals&lt;/h3&gt;
&lt;p&gt;Now that we have these in a data frame, we could easily plot or filter residuals to explore cases in which the model is not adequatly fitting the dependent variable. For example, maybe we want to explore residuals greater than 50 in absolute value. This can easily be done with dplyr and the &lt;code&gt;filter&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(height_resid, abs(resid) &amp;gt; 50)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 113 × 16
##    income height weight   age marital sex   education  afqt marital_comb income2
##     &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt;   &amp;lt;fct&amp;gt;     &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;          &amp;lt;dbl&amp;gt;
##  1  60000     69    162    55 divorc… male         12  89.7 divorced      6  e+4
##  2 150000     69    194    54 divorc… male         13  96.0 divorced      1.5e+5
##  3  45000     69    240    53 married male         12  98.8 married       4.5e+4
##  4      0     66    195    50 married fema…        14  99.2 married       1  e-3
##  5  93000     68    182    48 divorc… male         12  86.9 divorced      9.3e+4
##  6  43000     64    145    51 divorc… fema…        12  94.8 divorced      4.3e+4
##  7  52000     72    230    52 married male         12  93.1 married       5.2e+4
##  8  35000     59    165    49 divorc… fema…        12  80.0 divorced      3.5e+4
##  9  85000     61    140    55 married fema…        18  15.7 married       8.5e+4
## 10      0     69    186    55 separa… fema…        12  88.8 Other         1  e-3
## # … with 103 more rows, and 6 more variables: height2 &amp;lt;dbl&amp;gt;, education2 &amp;lt;dbl&amp;gt;,
## #   weight2 &amp;lt;dbl&amp;gt;, log_income &amp;lt;dbl&amp;gt;, resid &amp;lt;dbl&amp;gt;, pred &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also plot residuals directly or compared to other predictors.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(height_resid, aes(resid)) + 
  geom_histogram() + 
  theme_bw() + 
  xlab(&amp;quot;Residuals&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 361 rows containing non-finite values (stat_bin).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions_files/figure-html/hist_resid-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(height_resid, aes(resid, education2)) + 
  geom_point(size = 3) + 
  geom_smooth(size = 1, se = FALSE) + 
  xlab(&amp;quot;Residuals&amp;quot;) + 
  ylab(&amp;quot;Education (mean centered)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using method = &amp;#39;gam&amp;#39; and formula &amp;#39;y ~ s(x, bs = &amp;quot;cs&amp;quot;)&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 361 rows containing non-finite values (stat_smooth).&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 361 rows containing missing values (geom_point).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/model-assumptions_files/figure-html/residual_predictor-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Miscellaneous Modeling Topics</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/misc-model/</link>
      <pubDate>Wed, 17 Mar 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/misc-model/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;I want to spend a little bit of time talking about ways to model non-linear trends within a linear model as well as show an example of conducting a logistic regression within R using the &lt;code&gt;glm&lt;/code&gt; function. This set of notes will use the following packages:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(modelr)
library(broom)
library(forcats)
library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;modeling-non-linear-trends&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Modeling non-linear trends&lt;/h2&gt;
&lt;p&gt;Modeling non-linear trends can be important and a great way to increase variance explained. There are many ways to model non-linear trends, including non-linear models, but I am going to focus on a linear modeling framework to include non-linear trends by adding quadratic terms.&lt;/p&gt;
&lt;p&gt;These types of models are flexible and relatively easy to interpret, however have the drawback that prediction outside of the data at hand (extrapolation) can be problematic. Using the final model from the model assumptions lecture, lets see if we can improve model fit and the trend in the residuals by adding some non-linearity in the form of quadratic terms.&lt;/p&gt;
&lt;p&gt;If you recall, here is the model that was used last time.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights2 &amp;lt;- heights %&amp;gt;%
  mutate(
    marital_comb = fct_recode(marital,
                              &amp;#39;Other&amp;#39; = &amp;#39;separated&amp;#39;,
                              &amp;#39;Other&amp;#39; = &amp;#39;widowed&amp;#39;
    ),
    income2 = ifelse(income == 0, .001, income),
    height2 = height - mean(height, na.rm = TRUE),
    education2 = education - mean(education, na.rm = TRUE),
    weight2 = weight - mean(weight, na.rm = TRUE),
    log_income = log(income2)
  )
afqt_alt &amp;lt;- lm(afqt ~ marital_comb + height2 + education2 + 
                 log_income + weight2, data = heights2)
summary(afqt_alt)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ marital_comb + height2 + education2 + log_income + 
##     weight2, data = heights2)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -80.466 -16.515  -2.036  16.088 101.730 
## 
## Coefficients:
##                       Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)          32.645765   0.717463  45.502  &amp;lt; 2e-16 ***
## marital_combmarried   9.312248   0.802952  11.598  &amp;lt; 2e-16 ***
## marital_combOther    -2.537031   1.231340  -2.060   0.0394 *  
## marital_combdivorced  4.790976   0.913836   5.243 1.63e-07 ***
## height2               0.781474   0.077526  10.080  &amp;lt; 2e-16 ***
## education2            5.911616   0.111848  52.854  &amp;lt; 2e-16 ***
## log_income            0.395176   0.038720  10.206  &amp;lt; 2e-16 ***
## weight2              -0.027669   0.007074  -3.911 9.27e-05 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 22.57 on 6637 degrees of freedom
##   (361 observations deleted due to missingness)
## Multiple R-squared:  0.3969, Adjusted R-squared:  0.3963 
## F-statistic:   624 on 7 and 6637 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s see if there are non-linear trends in the height, weight, or income variables. I am going to add these by specifically creating additional variables and using these as new predictors. You could also create these by using the insulate function &lt;code&gt;I()&lt;/code&gt; to do the operation within the model syntax.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights2 &amp;lt;- heights2 %&amp;gt;%
  mutate(
    height2_quad = height2 ^ 2,
    weight2_quad = weight2 ^ 2, 
    log_income_quad = log_income ^ 2,
    education2_quad = education2 ^ 2
  )
afqt_alt &amp;lt;- lm(afqt ~ marital_comb + height2 + education2 + 
                 log_income + weight2 + education2_quad +
                 height2_quad + weight2_quad + log_income_quad, 
               data = heights2)
summary(afqt_alt)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ marital_comb + height2 + education2 + log_income + 
##     weight2 + education2_quad + height2_quad + weight2_quad + 
##     log_income_quad, data = heights2)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -77.098 -16.265  -2.331  15.587  91.339 
## 
## Coefficients:
##                        Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)           1.665e+01  1.598e+00  10.419  &amp;lt; 2e-16 ***
## marital_combmarried   8.340e+00  7.993e-01  10.434  &amp;lt; 2e-16 ***
## marital_combOther    -2.604e+00  1.218e+00  -2.137   0.0326 *  
## marital_combdivorced  4.262e+00  9.061e-01   4.703 2.61e-06 ***
## height2               7.488e-01  7.967e-02   9.399  &amp;lt; 2e-16 ***
## education2            5.467e+00  1.173e-01  46.609  &amp;lt; 2e-16 ***
## log_income           -3.828e-01  8.307e-02  -4.609 4.12e-06 ***
## weight2              -4.652e-02  8.046e-03  -5.782 7.72e-09 ***
## education2_quad       5.535e-02  2.488e-02   2.224   0.0262 *  
## height2_quad         -3.018e-02  1.392e-02  -2.169   0.0302 *  
## weight2_quad          4.135e-04  8.359e-05   4.947 7.73e-07 ***
## log_income_quad       2.177e-01  2.018e-02  10.791  &amp;lt; 2e-16 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 22.33 on 6633 degrees of freedom
##   (361 observations deleted due to missingness)
## Multiple R-squared:  0.4102, Adjusted R-squared:  0.4092 
## F-statistic: 419.3 on 11 and 6633 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Alternatively, this model could look like:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;afqt_alt &amp;lt;- lm(afqt ~ marital_comb + height2 + education2 + 
                 log_income + weight2 + I(education2^2) +
                 I(height2^2) + I(weight2^2) + I(log_income^2), 
               data = heights2)
summary(afqt_alt)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt ~ marital_comb + height2 + education2 + log_income + 
##     weight2 + I(education2^2) + I(height2^2) + I(weight2^2) + 
##     I(log_income^2), data = heights2)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -77.098 -16.265  -2.331  15.587  91.339 
## 
## Coefficients:
##                        Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)           1.665e+01  1.598e+00  10.419  &amp;lt; 2e-16 ***
## marital_combmarried   8.340e+00  7.993e-01  10.434  &amp;lt; 2e-16 ***
## marital_combOther    -2.604e+00  1.218e+00  -2.137   0.0326 *  
## marital_combdivorced  4.262e+00  9.061e-01   4.703 2.61e-06 ***
## height2               7.488e-01  7.967e-02   9.399  &amp;lt; 2e-16 ***
## education2            5.467e+00  1.173e-01  46.609  &amp;lt; 2e-16 ***
## log_income           -3.828e-01  8.307e-02  -4.609 4.12e-06 ***
## weight2              -4.652e-02  8.046e-03  -5.782 7.72e-09 ***
## I(education2^2)       5.535e-02  2.488e-02   2.224   0.0262 *  
## I(height2^2)         -3.018e-02  1.392e-02  -2.169   0.0302 *  
## I(weight2^2)          4.135e-04  8.359e-05   4.947 7.73e-07 ***
## I(log_income^2)       2.177e-01  2.018e-02  10.791  &amp;lt; 2e-16 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 22.33 on 6633 degrees of freedom
##   (361 observations deleted due to missingness)
## Multiple R-squared:  0.4102, Adjusted R-squared:  0.4092 
## F-statistic: 419.3 on 11 and 6633 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s see if this improved our model fit.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot(afqt_alt)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/misc-model_files/figure-html/assumpt-1.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/misc-model_files/figure-html/assumpt-2.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/misc-model_files/figure-html/assumpt-3.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/misc-model_files/figure-html/assumpt-4.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We could also attempt to convert the dependent variable (in a percentile metric) to a z-score.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;heights2 &amp;lt;- heights2 %&amp;gt;%
  mutate(
    afqt2 = ifelse(afqt == 0, .00001, ifelse(afqt == 100, 99.9999999, afqt)),
    afqt3 = ifelse(afqt %in% c(0, 100), NA, afqt),
    afqt_z = qnorm(afqt2/100),
    afqt_z3 = qnorm(afqt3/100)
  )
afqt_alt2 &amp;lt;- lm(afqt_z3 ~ marital_comb + height2 + education2 + 
                 log_income + weight2 + education2_quad +
                 height2_quad + weight2_quad + log_income_quad, 
               data = heights2)
summary(afqt_alt2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = afqt_z3 ~ marital_comb + height2 + education2 + 
##     log_income + weight2 + education2_quad + height2_quad + weight2_quad + 
##     log_income_quad, data = heights2)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2.8910 -0.5105 -0.0064  0.4966  3.2479 
## 
## Coefficients:
##                        Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)          -1.119e+00  5.576e-02 -20.069  &amp;lt; 2e-16 ***
## marital_combmarried   2.942e-01  2.782e-02  10.576  &amp;lt; 2e-16 ***
## marital_combOther    -9.070e-02  4.242e-02  -2.138 0.032536 *  
## marital_combdivorced  1.701e-01  3.152e-02   5.395 7.09e-08 ***
## height2               2.506e-02  2.769e-03   9.051  &amp;lt; 2e-16 ***
## education2            1.933e-01  4.133e-03  46.769  &amp;lt; 2e-16 ***
## log_income           -1.075e-02  2.897e-03  -3.710 0.000209 ***
## weight2              -1.640e-03  2.800e-04  -5.859 4.88e-09 ***
## education2_quad      -5.433e-04  8.880e-04  -0.612 0.540682    
## height2_quad         -1.316e-03  4.838e-04  -2.720 0.006545 ** 
## weight2_quad          1.508e-05  2.906e-06   5.192 2.15e-07 ***
## log_income_quad       7.100e-03  7.042e-04  10.083  &amp;lt; 2e-16 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 0.7745 on 6588 degrees of freedom
##   (406 observations deleted due to missingness)
## Multiple R-squared:  0.4088, Adjusted R-squared:  0.4078 
## F-statistic: 414.1 on 11 and 6588 DF,  p-value: &amp;lt; 2.2e-16&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot(afqt_alt2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/misc-model_files/figure-html/asumpt2-1.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/misc-model_files/figure-html/asumpt2-2.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/misc-model_files/figure-html/asumpt2-3.png&#34; width=&#34;672&#34; /&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/misc-model_files/figure-html/asumpt2-4.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;glm-function&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;glm&lt;/code&gt; function&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;glm&lt;/code&gt; function behaves much like the &lt;code&gt;lm&lt;/code&gt; function. The only major difference in model logistics is that we will now need to specify a family argument. This family argument will depend on the type of model being fitted. We are going to perform a logistic regression, therefore this family will be binomial.&lt;/p&gt;
&lt;p&gt;The data we will use is from Kaggle and is data from Titanic, more specifically the data has characteristics on the passengers and whether they survived the shipwreck or not. You can get a sense of the variables from this website: &lt;a href=&#34;https://www.kaggle.com/c/titanic/data&#34; class=&#34;uri&#34;&gt;https://www.kaggle.com/c/titanic/data&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(titanic)

titanic &amp;lt;- bind_rows(titanic_test,
                     titanic_train)
head(titanic)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   PassengerId Pclass                                         Name    Sex  Age
## 1         892      3                             Kelly, Mr. James   male 34.5
## 2         893      3             Wilkes, Mrs. James (Ellen Needs) female 47.0
## 3         894      2                    Myles, Mr. Thomas Francis   male 62.0
## 4         895      3                             Wirz, Mr. Albert   male 27.0
## 5         896      3 Hirvonen, Mrs. Alexander (Helga E Lindqvist) female 22.0
## 6         897      3                   Svensson, Mr. Johan Cervin   male 14.0
##   SibSp Parch  Ticket    Fare Cabin Embarked Survived
## 1     0     0  330911  7.8292              Q       NA
## 2     1     0  363272  7.0000              S       NA
## 3     0     0  240276  9.6875              Q       NA
## 4     0     0  315154  8.6625              S       NA
## 5     1     1 3101298 12.2875              S       NA
## 6     0     0    7538  9.2250              S       NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Suppose we were interested in fitting a model that predicted whether a passenger survived or not. Using &lt;code&gt;lm&lt;/code&gt; is not appropriate as the dependent variable is not continuous, rather it is dichotomous. Using logistic regression is more appropriate here.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;surv_mod &amp;lt;- glm(Survived ~ factor(Pclass) + Fare + Sex + Age, 
                data = titanic, 
                family = binomial)
summary(surv_mod)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## glm(formula = Survived ~ factor(Pclass) + Fare + Sex + Age, family = binomial, 
##     data = titanic)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.7393  -0.6788  -0.3956   0.6486   2.4639  
## 
## Coefficients:
##                   Estimate Std. Error z value Pr(&amp;gt;|z|)    
## (Intercept)      3.7225052  0.4645113   8.014 1.11e-15 ***
## factor(Pclass)2 -1.2765903  0.3126370  -4.083 4.44e-05 ***
## factor(Pclass)3 -2.5415762  0.3277677  -7.754 8.89e-15 ***
## Fare             0.0005226  0.0022579   0.231    0.817    
## Sexmale         -2.5185052  0.2082017 -12.096  &amp;lt; 2e-16 ***
## Age             -0.0367302  0.0077325  -4.750 2.03e-06 ***
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 964.52  on 713  degrees of freedom
## Residual deviance: 647.23  on 708  degrees of freedom
##   (595 observations deleted due to missingness)
## AIC: 659.23
## 
## Number of Fisher Scoring iterations: 5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It is common to interpret these in terms of probability, we can do this with the following bit of code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;prob_mod &amp;lt;- titanic %&amp;gt;%
  select(Survived, Pclass, Fare, Sex, Age) %&amp;gt;%
  na.omit() %&amp;gt;%
  mutate(
    probability = predict(surv_mod, type = &amp;#39;response&amp;#39;)
  )

head(prob_mod, n = 15)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##     Survived Pclass    Fare    Sex Age probability
## 419        0      3  7.2500   male  22  0.10509514
## 420        1      1 71.2833 female  38  0.91404126
## 421        1      3  7.9250 female  26  0.55726903
## 422        1      1 53.1000 female  35  0.92162960
## 423        0      3  8.0500   male  35  0.06793029
## 425        0      1 51.8625   male  54  0.32031425
## 426        0      3 21.0750   male   2  0.19781236
## 427        1      3 11.1333 female  27  0.54860408
## 428        1      2 30.0708 female  14  0.87516354
## 429        1      3 16.7000 female   4  0.73937738
## 430        1      1 26.5500 female  58  0.83285937
## 431        0      3  8.0500   male  20  0.11224887
## 432        0      3 31.2750   male  39  0.05987747
## 433        0      3  7.8542 female  14  0.66168470
## 434        1      2 16.0000 female  55  0.60685621&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could now plot these probabilities to explore the effects.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(prob_mod, aes(Age, probability, color = Sex, linetype = Sex)) + 
  geom_line(size = 1) + 
  facet_grid(. ~ Pclass) + 
  theme_bw() + 
  xlab(&amp;quot;Age&amp;quot;) + 
  ylab(&amp;quot;Probability of Survival&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/misc-model_files/figure-html/prob_plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Reproducible Tables</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/reproducible-tables/</link>
      <pubDate>Mon, 29 Mar 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/reproducible-tables/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;Tables can be difficult to create well and more difficult to do them completely reproducible, although this is should be the goal of any analysis. I often fall into a framework where I decide to create a table manually, that is, enter information into a table by hand only to have to recreate this table again, and again, and again. This repeated structure can be time consuming and unintended errors can also creep into the workflow cycle.&lt;/p&gt;
&lt;p&gt;This section will attempt to tackle this topic of creating reproducible tables. This area has been expanding over the past year with different frameworks to do these functions. For example, there is an initial package release of the &lt;a href=&#34;https://github.com/rstudio/gt&#34;&gt;gt&lt;/a&gt; package that is attempting to create a grammar of tables, similar to the grammar of graphics utilized by ggplot2. Unfortunately, this package is still under active development, therefore the heuristics and functions in the package may change, therefore it is not quite ready for inclusion in the course.&lt;/p&gt;
&lt;p&gt;Fortunately, there are at least two other packages that will help us build upon to create flexible, powerful reproducible tables. These packages are called: &lt;code&gt;kableExtra&lt;/code&gt; and &lt;code&gt;formattable&lt;/code&gt;. This document will primarily use &lt;code&gt;kableExtra&lt;/code&gt;, however there are some features in &lt;code&gt;formattable&lt;/code&gt; that are cool to include in a table to create a more visual table, particularly if HTML is the desired output.&lt;/p&gt;
&lt;p&gt;These two packages can be installed the usual way:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(c(&amp;quot;kableExtra&amp;quot;, &amp;quot;formattable&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The packages can also be loaded in the typical fashion using the &lt;code&gt;library()&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(kableExtra)
library(formattable)
library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.6     ✓ dplyr   1.0.7
## ✓ tidyr   1.2.0     ✓ stringr 1.4.0
## ✓ readr   2.1.2     ✓ forcats 0.5.1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter()     masks stats::filter()
## x dplyr::group_rows() masks kableExtra::group_rows()
## x dplyr::lag()        masks stats::lag()&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;load-in-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Load in Data&lt;/h2&gt;
&lt;p&gt;Let’s start with some data and a basic table, then we will build up this table to include more complex ways to structure the data. I’m going to use the titanic data that were used in the discussion of the &lt;code&gt;glm()&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(titanic)

titanic &amp;lt;- bind_rows(titanic_test,
                     titanic_train)
head(titanic)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   PassengerId Pclass                                         Name    Sex  Age
## 1         892      3                             Kelly, Mr. James   male 34.5
## 2         893      3             Wilkes, Mrs. James (Ellen Needs) female 47.0
## 3         894      2                    Myles, Mr. Thomas Francis   male 62.0
## 4         895      3                             Wirz, Mr. Albert   male 27.0
## 5         896      3 Hirvonen, Mrs. Alexander (Helga E Lindqvist) female 22.0
## 6         897      3                   Svensson, Mr. Johan Cervin   male 14.0
##   SibSp Parch  Ticket    Fare Cabin Embarked Survived
## 1     0     0  330911  7.8292              Q       NA
## 2     1     0  363272  7.0000              S       NA
## 3     0     0  240276  9.6875              Q       NA
## 4     0     0  315154  8.6625              S       NA
## 5     1     1 3101298 12.2875              S       NA
## 6     0     0    7538  9.2250              S       NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Suppose we were interested in exploring summary statistics by the different classes of passengers (Pclass variable). We could compute the summary statistics using dplyr as follows.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;titanic %&amp;gt;%
  group_by(Pclass) %&amp;gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            sd_age = sd(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            sd_fare = sd(Fare, na.rm = TRUE),
            min_fare = min(Fare, na.rm = TRUE),
            max_fare = max(Fare, na.rm = TRUE),
            perc_survived = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 × 9
##   Pclass avg_age sd_age avg_fare sd_fare min_fare max_fare perc_survived
##    &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt;
## 1      1    39.2   14.5     87.5    80.4        0    512.           63.0
## 2      2    29.5   13.6     21.2    13.6        0     73.5          47.3
## 3      3    24.8   12.0     13.3    11.5        0     69.6          24.2
## # … with 1 more variable: number_passengers &amp;lt;int&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is the format that we used in the past for summary statistics. One function that is handy for creating tables from this output is the &lt;code&gt;kable()&lt;/code&gt; function from the knitr package. This function essentially turns the output into a markdown table that will be parsed more easily when you compile the document into HTML, PDF, or even a Word document. Below is how the &lt;code&gt;kable()&lt;/code&gt; function can be used.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;titanic %&amp;gt;%
  group_by(Pclass) %&amp;gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            sd_age = sd(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            sd_fare = sd(Fare, na.rm = TRUE),
            min_fare = min(Fare, na.rm = TRUE),
            max_fare = max(Fare, na.rm = TRUE),
            perc_survived = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  ) %&amp;gt;%
  kable()&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Pclass
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
avg_age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sd_age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
avg_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sd_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
min_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
max_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
perc_survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
number_passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.15993
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.54803
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.50899
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.44718
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3292
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.96296
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.50671
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.63863
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.17920
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.60712
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.28261
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.81637
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.95820
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30289
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49436
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.5500
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.23625
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;No arguments are needed to pass to the &lt;code&gt;kable()&lt;/code&gt; function as it can automatically detect the format desired based on the yaml front matter in an Rmd document. There are useful arguments to kable that can make the table format a bit nicer to consume.&lt;/p&gt;
&lt;div id=&#34;optional-arguments-to-kable&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Optional Arguments to &lt;code&gt;kable()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The four arguments to &lt;code&gt;kable()&lt;/code&gt; that will be discussed in detail are, &lt;code&gt;digits&lt;/code&gt;, &lt;code&gt;col.names&lt;/code&gt;, &lt;code&gt;align&lt;/code&gt;, and &lt;code&gt;caption&lt;/code&gt;. You can likely guess what some of these arguments do, but we will go through each in turn.&lt;/p&gt;
&lt;div id=&#34;digits-argument&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;&lt;code&gt;digits&lt;/code&gt; argument&lt;/h4&gt;
&lt;p&gt;The digits argument is a way to format numeric output to round values to a specific number of significant digits. The simplest specification is a single numeric value which will round all the numeric data columns to that many decimal points. For example, maybe we want to ensure there are no more than 2 decimal places, this can be achieved by setting &lt;code&gt;digits = 2&lt;/code&gt; as an argument to &lt;code&gt;kable()&lt;/code&gt;. Note, I first save the titanic summary output to an object to avoid duplication of this code throughout to focus on the new code.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;titanic_summary &amp;lt;- titanic %&amp;gt;%
  group_by(Pclass) %&amp;gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            sd_age = sd(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            sd_fare = sd(Fare, na.rm = TRUE),
            min_fare = min(Fare, na.rm = TRUE),
            max_fare = max(Fare, na.rm = TRUE),
            perc_survived = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  )

kable(titanic_summary, digits = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Pclass
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
avg_age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sd_age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
avg_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sd_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
min_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
max_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
perc_survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
number_passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.33
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.50
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The digits argument can also be specified differently for every column in the table. When doing this, a vector of digits, one for each column, are passed directly to the digits argument. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0))&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Pclass
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
avg_age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sd_age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
avg_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
sd_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
min_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
max_fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
perc_survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
number_passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;col.names-argument&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;&lt;code&gt;col.names&lt;/code&gt; argument&lt;/h4&gt;
&lt;p&gt;The &lt;code&gt;col.names&lt;/code&gt; argument allows the user control over the names of the column labels. This would be useful here as the names of the columns are not descriptive enough. The &lt;code&gt;col.names&lt;/code&gt; argument would be the same length as the number of columns in the resulting table.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;SD Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;SD Fare&amp;#39;, 
                      &amp;#39;Min. Fare&amp;#39;, &amp;#39;Max. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;))&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Min. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Max. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;align-argument&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;&lt;code&gt;align&lt;/code&gt; argument&lt;/h4&gt;
&lt;p&gt;The align argument allows the user control over how the data are aligned in each column. The default values typically work well, but sometimes additional control is needed. Numeric columns are right-aligned by default and all other columns are left-aligned. When specifying the alignment operators, &lt;code&gt;l&lt;/code&gt; is left-aligned, &lt;code&gt;c&lt;/code&gt; is center-aligned, and &lt;code&gt;r&lt;/code&gt; is right-aligned. These can be specified compactly such that a single character string is passed to the &lt;code&gt;align&lt;/code&gt; argument where there is a character for each column in the resulting table. For example, perhaps we were interested in making the first column center-aligned, this could be done as follows.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;SD Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;SD Fare&amp;#39;, 
                      &amp;#39;Min. Fare&amp;#39;, &amp;#39;Max. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrrrrrr&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Min. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Max. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;caption-argument&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;&lt;code&gt;caption&lt;/code&gt; argument&lt;/h4&gt;
&lt;p&gt;The final argument that is useful to specify is the &lt;code&gt;caption&lt;/code&gt; argument. This argument is needed for any sort of cross-referencing of tables (more on this later). The caption argument takes a character string that represents the caption of the table.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;SD Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;SD Fare&amp;#39;, 
                      &amp;#39;Min. Fare&amp;#39;, &amp;#39;Max. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrrrrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:titanic-kable-caption&#34;&gt;Table 1: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Min. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Max. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;These are the basic argument for creating simple reproducible tables in R. We will explore more advanced features next that can create more complicated tables as well as add some unique features that can upgrade the tables created. Some of these features are unique to HTML output, but many cross-over to PDF documents as well. These features may not work well with Word documents. This is largely due to the proprietary Word code base that is not open source and is not programmatic.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;more-complicated-tables-with-kableextra&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;More complicated tables with &lt;code&gt;kableExtra&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;The tables created with &lt;code&gt;kable()&lt;/code&gt; are aimed to be simple tables that are relatively quick to create with less focus on the styling of the tables. For some tables, this approach is sufficient. For other tables, the additional formatting or styling is useful to control how the table appears in the final document. This is where the &lt;code&gt;kableExtra&lt;/code&gt; package is useful and builds off the of the &lt;code&gt;kable()&lt;/code&gt; function that we have already used to create reproducible tables.&lt;/p&gt;
&lt;div id=&#34;table-styling&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Table styling&lt;/h3&gt;
&lt;p&gt;Adding some basic styling is easy to do by adding a single function call &lt;code&gt;kable_styling()&lt;/code&gt; after using the &lt;code&gt;kable()&lt;/code&gt; function. Here is an example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;SD Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;SD Fare&amp;#39;, 
                      &amp;#39;Min. Fare&amp;#39;, &amp;#39;Max. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrrrrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling()&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:kable-styling&#34;&gt;Table 2: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Min. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Max. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;What the &lt;code&gt;kable_styling()&lt;/code&gt; function does is explicitly style the resulting table with the &lt;a href=&#34;https://getbootstrap.com/&#34;&gt;bootstrap&lt;/a&gt; which is the default style for Rmd documents compiled to HTML. The added bonus of using a theme like bootstrap is you can get a lot of additional features that are defined in the bootstrap theme directly by specifying these options within the &lt;code&gt;kable_styling()&lt;/code&gt; function.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;bootstrap-table-options&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Bootstrap table options&lt;/h3&gt;
&lt;p&gt;The predefined bootstrap table options include striped tables, adding mouse hover effects, add borders around the table, make the table more condensed, or responsive to screen re-sizing. These options can be passed to the argument, &lt;code&gt;bootstrap_options&lt;/code&gt; as a character vector. For example, adding stripes to the table, hover effects, a more condensed table, borders, and a responsive table would look like the following.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;SD Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;SD Fare&amp;#39;, 
                      &amp;#39;Min. Fare&amp;#39;, &amp;#39;Max. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrrrrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;, 
                                      &amp;#39;responsive&amp;#39;, &amp;#39;bordered&amp;#39;))&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed table-responsive table-bordered&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:boostrap-options&#34;&gt;Table 3: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Min. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Max. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;more-options-to-kable_styling&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;More options to &lt;code&gt;kable_styling&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;There are some additional options to &lt;code&gt;kable_styling()&lt;/code&gt; that can come in handy. By default, tables span the full width of the document. This can be adjusted by adding the argument, &lt;code&gt;full_width = FALSE&lt;/code&gt;. To show the benefits of this approach, I’ve made a smaller table with fewer columns.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;titanic_summary_small &amp;lt;- titanic %&amp;gt;%
  group_by(Pclass) %&amp;gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            perc_survied = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  )

kable(titanic_summary_small, digits = c(0, 2, 2, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;),
                full_width = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:full-width&#34;&gt;Table 4: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;When you specify a table to only span a portion of the document width, you now also have control over how the table is positioned on the page. The table could be on the left side, right side, or centered. These are passed to an argument called &lt;code&gt;position&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary_small, digits = c(0, 2, 2, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;),
                full_width = FALSE, position = &amp;#39;right&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed&#34; style=&#34;width: auto !important; margin-right: 0; margin-left: auto&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:full-width-position&#34;&gt;Table 5: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;There are also position arguments that allow the table to float. When a table floats, text can wrap around the table so that the table and text could be compared side by side. These arguments are passed to the &lt;code&gt;position&lt;/code&gt; argument as before, however, now these argument names are &lt;code&gt;float_right&lt;/code&gt; or &lt;code&gt;float_left&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary_small, digits = c(0, 2, 2, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;),
                full_width = FALSE, position = &amp;#39;float_right&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed&#34; style=&#34;width: auto !important; float: right; margin-left: 10px;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:unnamed-chunk-1&#34;&gt;Table 6: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;You could now describe the table in more detail to discuss the relevant findings. For example, we could now say that there are differences in the average age and fare prices across the classes. In addition, the class appears to be highly predictive of the survival rate.&lt;/p&gt;
&lt;p&gt;The text that wraps around the table appears directly after the code chunk containing the table definition. This is important to keep in mind when writing your document. The text will continue to wrap as well until the end of the table, therefore you need to be a bit careful about this option if you want to ensure that a new section or paragraph is not next to the paragraph.&lt;/p&gt;
&lt;p&gt;The final argument that I’ll mention briefly is &lt;code&gt;font_size&lt;/code&gt; which adjusts the font size of the table. Here I switch back to the larger table with more summary columns, but now specify a smaller font size. The default font size is 12 I believe, therefore if you are trying to get a table to fit on a single page, decreasing the font size like this may be helpful.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;SD Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;SD Fare&amp;#39;, 
                      &amp;#39;Min. Fare&amp;#39;, &amp;#39;Max. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrrrrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;),
                font_size = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed&#34; style=&#34;font-size: 10px; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption style=&#34;font-size: initial !important;&#34;&gt;
&lt;span id=&#34;tab:font-size&#34;&gt;Table 7: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Min. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Max. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;column-or-row-control&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Column or Row Control&lt;/h2&gt;
&lt;p&gt;It is possible to format entire columns or rows within a table. This can be useful if there is an entire row or column that should be bold, italic, a different background color, or font color. These can be controlled at the column and row levels with the &lt;code&gt;column_spec()&lt;/code&gt; or &lt;code&gt;row_spec()&lt;/code&gt; functions respectively.&lt;/p&gt;
&lt;p&gt;These two function behave very similarly, with each function taking a column or row number as the first argument. Ranges of columns or rows are also possible to specify when declaring a column or row number. Subsequent arguments are the formatting arguments for that specific column or row. Examples or arguments are: &lt;code&gt;bold&lt;/code&gt;, &lt;code&gt;italic&lt;/code&gt;, &lt;code&gt;color&lt;/code&gt;, &lt;code&gt;background&lt;/code&gt;, &lt;code&gt;width&lt;/code&gt;, or &lt;code&gt;angle&lt;/code&gt; which make the font bold, italic, change the font color, change the background color, alter the width of the columns, or change the angle of the text respectively.&lt;/p&gt;
&lt;p&gt;Suppose given the table above, we wanted to make the “% Survived” and “Number of Passengers” columns bold and we wished to make the class three row italic change the background color to a light red.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;SD Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;SD Fare&amp;#39;, 
                      &amp;#39;Min. Fare&amp;#39;, &amp;#39;Max. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrrrrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;)) %&amp;gt;%
  column_spec(8:9, bold = TRUE, width = &amp;#39;0.75in&amp;#39;) %&amp;gt;%
  row_spec(3, italic = TRUE, background = &amp;quot;#FF6347&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:row-columns&#34;&gt;Table 8: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Min. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Max. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;font-style: italic;background-color: #FF6347 !important;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;font-style: italic;background-color: #FF6347 !important;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;font-style: italic;background-color: #FF6347 !important;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;font-style: italic;background-color: #FF6347 !important;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;font-style: italic;background-color: #FF6347 !important;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;font-style: italic;background-color: #FF6347 !important;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;font-style: italic;background-color: #FF6347 !important;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;font-style: italic;background-color: #FF6347 !important;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;font-style: italic;background-color: #FF6347 !important;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;You’ll notice that the &lt;code&gt;bold&lt;/code&gt; and &lt;code&gt;italic&lt;/code&gt; arguments are logical, specifying TRUE turns the attribute on. Secondly, the identification of the column and rows that are to be formatted is done with column and row numbers respectively. When declaring the row number, the header row is skipped. The header can be formatted using the &lt;code&gt;row_spec()&lt;/code&gt;, however you would specify the row number as 0. Finally, names of colors that are valid within R can be used as a character string, (use &lt;code&gt;colors()&lt;/code&gt; to see all the colors defined within R), but hex codes can also be specified which can give further control. The &lt;code&gt;color&lt;/code&gt; argument works identically to the &lt;code&gt;background&lt;/code&gt; argument. Finally, the &lt;code&gt;width&lt;/code&gt; argument was used which forced the last two columns to be 0.75 inches wide respectively. This argument can be particularly useful for columns that have text strings that are long.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;cell-control&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Cell Control&lt;/h2&gt;
&lt;p&gt;Cell control is another way to format a table, but this time the formatting is done within the cells with the &lt;code&gt;cell_spec()&lt;/code&gt; function. Another way to think about this is conditional logic for specific cells in the table. This process is done before being passed to the &lt;code&gt;kable()&lt;/code&gt; function via a call to &lt;code&gt;mutate()&lt;/code&gt;. Suppose for example, we wanted to color the cells differently for the percentage survival greater than 50% compared to those less than 50%. Here is an example of doing this.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;titanic_summary %&amp;gt;% 
  mutate(
    perc_survived = cell_spec(round(perc_survived, 3), 
                              color = ifelse(perc_survived &amp;gt; 50, 
                                                  &amp;#39;#440154&amp;#39;, &amp;#39;#FDE725&amp;#39;))
  ) %&amp;gt;% 
  kable(escape = FALSE, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;SD Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;SD Fare&amp;#39;, 
                      &amp;#39;Min. Fare&amp;#39;, &amp;#39;Max. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrrrrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;)) %&amp;gt;%
  column_spec(8:9, bold = TRUE, width = &amp;#39;0.75in&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:cell-control&#34;&gt;Table 9: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Min. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Max. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
&lt;span style=&#34;     color: #440154 !important;&#34;&gt;62.963&lt;/span&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
&lt;span style=&#34;     color: #FDE725 !important;&#34;&gt;47.283&lt;/span&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
&lt;span style=&#34;     color: #FDE725 !important;&#34;&gt;24.236&lt;/span&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;A couple of things to note about the &lt;code&gt;cell_spec()&lt;/code&gt; function. When using &lt;code&gt;cell_spec()&lt;/code&gt;, the additional argument, &lt;code&gt;escape = FALSE&lt;/code&gt; to the &lt;code&gt;kable()&lt;/code&gt; function must be specified. In addition, notice the &lt;code&gt;round()&lt;/code&gt; function used within the &lt;code&gt;mutate()&lt;/code&gt; function. This is needed to ensure that the digits are rounded as this column will be ignored by the &lt;code&gt;digits&lt;/code&gt; argument from the &lt;code&gt;kable()&lt;/code&gt; function. Additional formatting can also still be passed using the &lt;code&gt;column_spec()&lt;/code&gt; function after the &lt;code&gt;cell_spec()&lt;/code&gt; function was used. This is done here to control the width and bold font specification.&lt;/p&gt;
&lt;div id=&#34;using-formattable-and-kableextra-together&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Using &lt;code&gt;formattable&lt;/code&gt; and &lt;code&gt;kableExtra&lt;/code&gt; together&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;formattable&lt;/code&gt; package has a couple cool elements that work with &lt;code&gt;kableExtra&lt;/code&gt;. One that I find useful to use is the &lt;code&gt;color_bar()&lt;/code&gt; function. The &lt;code&gt;color_bar()&lt;/code&gt; function adds a bar chart in addition to the numeric values already depicted in the table. This argument is also used prior to the table being passed to the &lt;code&gt;kable()&lt;/code&gt; function. Let’s try to turn the last column, Number of Passengers, to a bar chart that is light red colored. The &lt;code&gt;color_bar()&lt;/code&gt; function is a bit unique in that it takes two sets of parentheses specifying the main two arguments. The function takes the following form, &lt;code&gt;color_bar(&#34;#FF6347&#34;)(number_passengers)&lt;/code&gt; where the first argument is the color for the bars and the second argument is the variable to use. Finally, the &lt;code&gt;color_bar()&lt;/code&gt; function is specified within a &lt;code&gt;mutate()&lt;/code&gt; function call prior to being passed to the &lt;code&gt;kable()&lt;/code&gt; function. The argument &lt;code&gt;escape = FALSE&lt;/code&gt; also needs to be specified in the &lt;code&gt;kable()&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;titanic_summary %&amp;gt;% 
  mutate(
    perc_survived = cell_spec(round(perc_survived, 3), 
                              color = ifelse(perc_survived &amp;gt; 50, 
                                                  &amp;#39;#440154&amp;#39;, &amp;#39;#FDE725&amp;#39;)),
    number_passengers = color_bar(&amp;quot;#FF6347&amp;quot;)(number_passengers)
  ) %&amp;gt;% 
  kable(escape = FALSE, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;SD Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;SD Fare&amp;#39;, 
                      &amp;#39;Min. Fare&amp;#39;, &amp;#39;Max. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrrrrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;)) %&amp;gt;%
  column_spec(8, bold = TRUE, width = &amp;#39;0.75in&amp;#39;) %&amp;gt;% 
  column_spec(9, bold = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:formattable&#34;&gt;Table 10: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Min. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Max. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
&lt;span style=&#34;     color: #440154 !important;&#34;&gt;62.963&lt;/span&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:right;font-weight: bold;&#34;&gt;
&lt;span style=&#34;display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #FF6347; width: 45.56%&#34;&gt;323&lt;/span&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
&lt;span style=&#34;     color: #FDE725 !important;&#34;&gt;47.283&lt;/span&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:right;font-weight: bold;&#34;&gt;
&lt;span style=&#34;display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #FF6347; width: 39.07%&#34;&gt;277&lt;/span&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;width: 0.75in; font-weight: bold;&#34;&gt;
&lt;span style=&#34;     color: #FDE725 !important;&#34;&gt;24.236&lt;/span&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:right;font-weight: bold;&#34;&gt;
&lt;span style=&#34;display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: #FF6347; width: 100.00%&#34;&gt;709&lt;/span&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;grouped-columns-or-rows&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Grouped Columns or Rows&lt;/h2&gt;
&lt;p&gt;The last element of the table formatting that will be covered is the ability to add grouped columns or rows. The &lt;code&gt;add_header_above()&lt;/code&gt; function gives the user the ability to add additional header columns above the currently defined header(s). This is helpful to add a grouping label that spans multiple columns and remove redundancy in the header labels across columns. For example, if you look at the original &lt;code&gt;titanic_summary&lt;/code&gt; data object created previously, there are two columns representing descriptive statistics for the age variable and four columns for the fare variable. The age and fare variable labels can be removed and added as an additional header. The &lt;code&gt;add_header_above()&lt;/code&gt; function takes a character string representing the names of the new header labels and the number of columns that these labels should span.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary, digits = c(0, 2, 2, 2, 2, 1, 1, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg.&amp;#39;, &amp;#39;SD&amp;#39;, &amp;#39;Avg.&amp;#39;, &amp;#39;SD&amp;#39;, 
                      &amp;#39;Min.&amp;#39;, &amp;#39;Max.&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrrrrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;, &amp;#39;bordered&amp;#39;)) %&amp;gt;% 
  add_header_above(c(&amp;quot;&amp;quot;, &amp;quot;Age&amp;quot; = 2, &amp;quot;Fare&amp;quot; = 4, &amp;quot;&amp;quot;, &amp;quot;&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed table-bordered&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:add-header&#34;&gt;Table 11: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;empty-cells: hide;border-bottom:hidden;&#34; colspan=&#34;1&#34;&gt;
&lt;/th&gt;
&lt;th style=&#34;border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; &#34; colspan=&#34;2&#34;&gt;
&lt;div style=&#34;border-bottom: 1px solid #ddd; padding-bottom: 5px; &#34;&gt;
Age
&lt;/div&gt;
&lt;/th&gt;
&lt;th style=&#34;border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; &#34; colspan=&#34;4&#34;&gt;
&lt;div style=&#34;border-bottom: 1px solid #ddd; padding-bottom: 5px; &#34;&gt;
Fare
&lt;/div&gt;
&lt;/th&gt;
&lt;th style=&#34;empty-cells: hide;border-bottom:hidden;&#34; colspan=&#34;1&#34;&gt;
&lt;/th&gt;
&lt;th style=&#34;empty-cells: hide;border-bottom:hidden;&#34; colspan=&#34;1&#34;&gt;
&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg.
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg.
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
SD
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Min.
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Max.
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
14.55
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
80.45
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
512.3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.64
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
73.5
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11.49
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.6
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div id=&#34;group-row-labels&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Group Row Labels&lt;/h3&gt;
&lt;p&gt;Group row labels can also be added to break up a table into different sections with the &lt;code&gt;group_rows()&lt;/code&gt; function. This function takes three main arguments, the first being the row label as a character string followed by the starting row to include in the group and the ending row. For example, if the original titanic descriptive statistics was broken up for males and females, this grouping variable could be added to split up the table. The following code generates descriptive statistics for males and females, then combines these into a single data-frame to be included in the table.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;titanic_summary_male &amp;lt;- titanic %&amp;gt;%
  filter(Sex == &amp;#39;male&amp;#39;) %&amp;gt;%
  group_by(Pclass) %&amp;gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            perc_survied = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  )
titanic_summary_female &amp;lt;- titanic %&amp;gt;%
  filter(Sex == &amp;#39;female&amp;#39;) %&amp;gt;%
  group_by(Pclass) %&amp;gt;%
  summarise(avg_age = mean(Age, na.rm = TRUE),
            avg_fare = mean(Fare, na.rm = TRUE),
            perc_survied = mean(Survived, na.rm = TRUE) * 100,
            number_passengers = n()
  )
titanic_summary_sex &amp;lt;- dplyr::bind_rows(
  titanic_summary_male,
  titanic_summary_female,
  titanic_summary_small
)
titanic_summary_sex&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 9 × 5
##   Pclass avg_age avg_fare perc_survied number_passengers
##    &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;             &amp;lt;int&amp;gt;
## 1      1    41.0     69.9         36.9               179
## 2      2    30.8     19.9         15.7               171
## 3      3    26.0     12.4         13.5               493
## 4      1    37.0    109.          96.8               144
## 5      2    27.5     23.2         92.1               106
## 6      3    22.2     15.3         50                 216
## 7      1    39.2     87.5         63.0               323
## 8      2    29.5     21.2         47.3               277
## 9      3    24.8     13.3         24.2               709&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This table can then be passed to the &lt;code&gt;kable()&lt;/code&gt; function and the &lt;code&gt;group_rows&lt;/code&gt; function can be used to differentiate between the rows that are male, female, or total.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary_sex, digits = c(0, 2, 2, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrr&amp;#39;,
        caption = &amp;#39;Descriptive statistics of Titanic passengers by ticket class&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;),
                full_width = FALSE) %&amp;gt;%
  kableExtra::group_rows(&amp;#39;Male&amp;#39;, 1, 3) %&amp;gt;%
  kableExtra::group_rows(&amp;#39;Female&amp;#39;, 4, 6) %&amp;gt;%
  kableExtra::group_rows(&amp;#39;Total&amp;#39;, 7, 9)&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:group-rows&#34;&gt;Table 12: &lt;/span&gt;Descriptive statistics of Titanic passengers by ticket class
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr grouplength=&#34;3&#34;&gt;
&lt;td colspan=&#34;5&#34; style=&#34;border-bottom: 1px solid;&#34;&gt;
&lt;strong&gt;Male&lt;/strong&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
41.03
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.89
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
36.885
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
179
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
30.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
19.90
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
15.741
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
171
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
25.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
12.42
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.545
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
493
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr grouplength=&#34;3&#34;&gt;
&lt;td colspan=&#34;5&#34; style=&#34;border-bottom: 1px solid;&#34;&gt;
&lt;strong&gt;Female&lt;/strong&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
37.04
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
109.41
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
96.809
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
144
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
27.50
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
23.23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
92.105
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
106
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
22.19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
15.32
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
50.000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
216
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr grouplength=&#34;3&#34;&gt;
&lt;td colspan=&#34;5&#34; style=&#34;border-bottom: 1px solid;&#34;&gt;
&lt;strong&gt;Total&lt;/strong&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;One note, the addition of &lt;code&gt;kableExtra::group_rows()&lt;/code&gt; was used above due to there being two &lt;code&gt;group_rows()&lt;/code&gt; function since the dplyr v0.8 was released. The &lt;code&gt;kableExtra::group_rows()&lt;/code&gt; syntax tells R to look for the &lt;code&gt;group_rows()&lt;/code&gt; function directly within the &lt;code&gt;kableExtra&lt;/code&gt; package. This avoids duplicate function names across packages and ensures that the correct function is used in this case.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;cross-referencing-tables&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Cross-referencing tables&lt;/h2&gt;
&lt;p&gt;The final topic to discuss briefly is cross-referencing of tables in Rmd documents. Cross-referencing allows the user to allow for the labeling of table numbers to be done dynamically and automatically rather than looking at the table numbers and updating if these change. The chunk label name from the Rmd chunk is used for the identification of the label name for cross-referencing. Specifically, cross-referencing a table would take this general form: &lt;code&gt;@\ref(tab:chunkname)&lt;/code&gt; where the “chunkname” portion would be replaced with the name used for the table chunk. For example, when creating the chunk below to produce the table, the chunk name, “cross-reference” was used, therefore the cross-referencing code would look like the following: &lt;code&gt;@\ref(tab:cross-reference)&lt;/code&gt;. Therefore, one could write, explore Table “@(tab:cross-reference)” for descriptive statistics by ticket class for males, females, and total numbers. Note: I put the citation portion in quotes as these do not work in R notebook output, but should work if you compile the Rmd document to HTML or PDF.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;kable(titanic_summary_sex, digits = c(0, 2, 2, 3, 0),
        col.names = c(&amp;#39;Class&amp;#39;, &amp;#39;Avg. Age&amp;#39;, &amp;#39;Avg. Fare&amp;#39;, &amp;#39;% Survived&amp;#39;, &amp;#39;Number of Passengers&amp;#39;),
        align = &amp;#39;crrrr&amp;#39;) %&amp;gt;% 
  kable_styling(bootstrap_options = c(&amp;#39;striped&amp;#39;, &amp;#39;hover&amp;#39;, &amp;#39;condensed&amp;#39;),
                full_width = FALSE) %&amp;gt;%
  kableExtra::group_rows(&amp;#39;Male&amp;#39;, 1, 3) %&amp;gt;%
  kableExtra::group_rows(&amp;#39;Female&amp;#39;, 4, 6) %&amp;gt;%
  kableExtra::group_rows(&amp;#39;Total&amp;#39;, 7, 9)&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
Class
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Age
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Avg. Fare
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
% Survived
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Number of Passengers
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr grouplength=&#34;3&#34;&gt;
&lt;td colspan=&#34;5&#34; style=&#34;border-bottom: 1px solid;&#34;&gt;
&lt;strong&gt;Male&lt;/strong&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
41.03
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
69.89
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
36.885
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
179
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
30.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
19.90
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
15.741
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
171
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
25.96
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
12.42
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.545
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
493
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr grouplength=&#34;3&#34;&gt;
&lt;td colspan=&#34;5&#34; style=&#34;border-bottom: 1px solid;&#34;&gt;
&lt;strong&gt;Female&lt;/strong&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
37.04
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
109.41
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
96.809
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
144
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
27.50
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
23.23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
92.105
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
106
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
22.19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
15.32
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
50.000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
216
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr grouplength=&#34;3&#34;&gt;
&lt;td colspan=&#34;5&#34; style=&#34;border-bottom: 1px solid;&#34;&gt;
&lt;strong&gt;Total&lt;/strong&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
39.16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
87.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
62.963
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
323
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
29.51
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
21.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
47.283
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;padding-left: 2em;&#34; indentlevel=&#34;1&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
13.30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
24.236
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
709
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The final note about cross-references, is that the table caption needs to be specified as a Rmd chunk option, not within the &lt;code&gt;kable()&lt;/code&gt; function. The caption argument is specified the same as when specified with the &lt;code&gt;kable()&lt;/code&gt; function, therefore this could be copied and pasted from the previous examples.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;additional-resources&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Additional Resources&lt;/h2&gt;
&lt;p&gt;Below are some additional resources for working with reproducible tables in R.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html&#34;&gt;kableExtra HTML Vignette&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_pdf.pdf&#34;&gt;kableExtra PDF Vignette&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://cran.r-project.org/web/packages/kableExtra/vignettes/use_kableExtra_with_formattable.html&#34;&gt;kableExtra with formattable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/rstudio/gt&#34;&gt;gt package (in active development)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Quiz 1</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz1/</link>
      <pubDate>Tue, 25 Jan 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz1/</guid>
      <description>&lt;p&gt;Quiz 1 can be taken on ICON, due January 30th, 2022. The quiz covers content from &lt;a href=&#34;https://psqf6250.brandonlebeau.org/content/01-week1/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Week 1&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://uiowa.instructure.com/courses/183068/quizzes/307658&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quiz 1 Link&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Interactive Graphics</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/interactive-graphics/</link>
      <pubDate>Mon, 29 Mar 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/interactive-graphics/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/plotly-binding/plotly.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/typedarray/typedarray.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/jquery/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/crosstalk/css/crosstalk.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/crosstalk/js/crosstalk.min.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/plotly-main/plotly-latest.min.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/leaflet/leaflet.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/leaflet/leaflet.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/leafletfix/leafletfix.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/proj4/proj4.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/leaflet-binding/leaflet.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;p&gt;Interactive graphics can be a great way to enhance the presentation of study results, particularly if the output format is HTML. These can be great for presentations, HTML reports, or online applications like dashboards or shiny apps.&lt;/p&gt;
&lt;p&gt;In general, interactive graphics make use of Javascript libraries to perform the interactive visualization. One of the more well known Javascript libraries for interactive web based graphics is d3, &lt;a href=&#34;https://d3js.org/&#34; class=&#34;uri&#34;&gt;https://d3js.org/&lt;/a&gt;. If you take a look at the example page from the previous url, you can see that there are a lot of options for a large variety of graphics. d3 visualizations are highly flexible and powerful, however they also require fairly strong Javascript skills to fully implement the graphics.&lt;/p&gt;
&lt;p&gt;In this course, we will create interactive graphics using plotly, &lt;a href=&#34;https://plot.ly/&#34; class=&#34;uri&#34;&gt;https://plot.ly/&lt;/a&gt;, was built using Python, but uses Javascript and d3 libraries for their graphics. What is nice about plotly, is that you can create interactive graphics from statis ggplot2 graphics. This is where we will start, but the materials will also walk through the creation of plotly graphics in R by scratch. The primary benefit of creating the plotly graphics by scratch is likely performance based when hosting on the web. If you are creating a single interactive version, first creating a ggplot2 figure and turning it interactive would likely be the most straightforward.&lt;/p&gt;
&lt;div id=&#34;interactive-graphics-with-plotly&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Interactive graphics with plotly&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(&amp;quot;plotly&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;static-to-interactive&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Static to Interactive&lt;/h2&gt;
&lt;p&gt;The first example we will show is how to turn a static figure created with ggplot2 into an interactive version with plotly. The &lt;code&gt;ggplotly()&lt;/code&gt; function from the plotly package is the ticket to doing this. Below is an example of creating a static scatterplot with ggplot2. Notice that I save this figure into the object named, &lt;code&gt;p&lt;/code&gt;. This is then passed to the &lt;code&gt;ggplotly()&lt;/code&gt; function to generate the equivalent plotly interactive figure. I did not explicitly print the static image, but I encourage you to print out the static image, named &lt;code&gt;p&lt;/code&gt; here, to verify that it is indeed the same figure.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(plotly)
p &amp;lt;- ggplot(data = midwest) +
  geom_point(mapping = aes(x = popdensity, y = percollege))
ggplotly(p)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:864px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;data&#34;:[{&#34;x&#34;:[1270.96154,759,681.409091,1812.11765,324.222222,713.76,313.058824,622.407407,559.875,2983.18966,819.47619,530.7,516.428571,1170.48276,1721.46667,88018.3966,748.615385,533.5,2050.84211,718.086957,778.56,39083.3,544.305556,531.428571,1132.28571,474.840909,475.833333,1612.76,732.307692,363.631579,464.151515,1243.73077,339.96,454.744681,576.555556,352,1003.11765,459.507463,1696.30556,365.827586,1121.81818,893,623.457143,567.35,10947.2759,2468.07692,2189.61111,1342.69048,18443.5,1572.25,726,799.813953,633.887097,855.5,1036.58824,5090.02778,1899.70588,3348.74286,953.58,5538.62222,1187.45714,558.521739,493,1053.71429,620.222222,523.939394,974.869565,749.463415,1102.93939,663.333333,1021.26667,4811.23684,823.538462,621.92,358.714286,198.772727,683.909091,573,960.638889,752.045455,5311.53571,6571.3,1206.86364,3497.76471,288.384615,376.266667,505.931818,384.352941,1456.12121,3171.58974,734.125,1697.25,1092.58333,581.242424,453.484848,410.5,569.724138,1467.95122,7146.26,2309.32,8430.43333,1020.40625,1480.71429,7337.46341,2893.5,393.375,1406.7,1589.45833,741.052632,854.954545,1600.54167,3989.86364,1176.42857,1346.69565,550.777778,1058.96154,2043.94737,1074.77273,1605.63636,5202.56522,1408.30769,5785.11111,2167.91667,7156,712.32,851.304348,897.142857,1100.44828,3090.375,921.515152,4539,2678.05882,1067.5,3154.875,2005.79167,5051.6875,1540.30435,1257.66667,734.117647,977.818182,1418.90476,1126.71429,4894.94444,1286.58065,2040.4375,1339.86364,15853.1333,2974.05556,1586.51852,5025.73077,34659.087,1622.38462,493.761905,1537.375,4540.75,1147.86667,2330,564.625,1515.08,1063,800.391304,751.347826,570.740741,868.5,625.45,4958.92308,1038.72,486.269231,1045.34483,1044.15385,984.64,788.217391,8823.28571,1908.27273,1679.45833,812.083333,1197.21053,1306.95238,703.444444,595.230769,4353.26667,1007.4375,697.6,12696.7692,1048.3125,4421.125,1524.73913,389.333333,1953.04348,790.566667,2997.95833,1235.61905,775.5,1382.55,247.439024,175.921569,1847.12245,900.147059,586.612903,711,147.296296,1472.26471,4297.03846,610,4890.24242,1431.10345,3237.66667,1649.23333,975.818182,445.791667,443.641026,733.882353,1702.44118,360.588235,547.536232,583.282609,2731.73529,927.407407,11634.027,706.322581,265.470588,2142.43333,1181.27273,1277.38235,590.766667,699.02,8291.52941,1677.17647,915.424242,188.214286,1606.58824,3482.69767,6770.0303,409,10012.62,85.05,245.228571,1967.57895,787,2127.34884,3401.32353,104.781818,180.915254,25621.4286,664.53125,644.427273,880.586207,1097.29412,389.375,2440.35484,368.090909,4048.48485,1263.30952,270.787879,5677.96429,749.058824,19701.6727,748.466667,583.78125,113.512821,592.529412,237.636364,579.258065,5689.93939,327.214286,581.647059,4415.54167,3640.175,2031.48276,713,110.693333,2250.64516,1156.20833,1893.51351,6900.90244,60333.9143,775.294118,724.885714,4573.125,1900.28,2434.65854,1984.96667,1857.70833,2292.70968,1248.78571,10409.9643,1105.04167,1385.34615,6147.83333,5776.42308,1475.625,3492.77419,1041.97059,2081.30435,54313.0769,1489.41667,1710.86957,2478.85185,5484.21429,3567.62069,1144.41667,28277.5588,1539.92,1190.53846,3380.375,5469.24,1219.5,34649.12,2114.06452,1111.10714,643.4,1164.32,1050.82353,1063.875,1313.96,1874.66667,1259.58333,3649.90909,1582.43333,16576.8462,2378.23077,3207.5,1567.03704,9349.17241,22017.1905,1323.85714,11033.5833,2678.08333,4894.16,919.48,1408.67857,3882.58333,596.038462,21252.1852,567.76,1156.20833,2001.65854,472.333333,2501.8125,819.52,1372.04348,1608.5,932.653846,4752.83333,1604.52,1166.17241,4349.55172,1690.97561,2581.79167,2295.05714,1810.09091,1796.6,10811.3235,21457.9167,6157.10811,2473.23529,1229.57692,1269.33333,462.416667,4952.56522,1638.26316,3074.57576,1478.24,3061.32432,927.25,382.487805,301.981481,768.867925,157.393258,6081.0625,339.6,246.867925,1490.91304,831.111111,439.541667,980.173913,455.428571,5028.56164,1417.75926,917.5,535.358974,690.557692,2241.65789,153,2047.34091,146.266667,713.971014,892.323529,847.772727,438.043478,130.914894,276.466667,1936.65714,460.638298,8011.3125,943.9,3496.57143,434.486486,375.096154,509.301887,2233.91667,1227.65957,494.487805,456.333333,185.238095,63951.6667,678.388889,503.766667,446.183099,3797.56757,4855.4,507.642857,963.676471,632.236364,1279.27083,208,8751.7,515.323529,3321.66667,274.163636,1142.06818,939.5,179.506329,688.092593,3246.15625,331.596491,587.511628,533.6875,295.116667,2343.75,275.44,3813.12,8962.20588,1024.53333,523.918919,4009.14286,1533.4375],&#34;y&#34;:[19.6313918,11.2433076,17.0338194,17.2789539,14.475999,18.9046238,11.9173877,16.1971209,14.1076487,41.2958081,13.567226,15.1108627,13.6830103,15.3874693,25.1750412,28.0181167,16.9858076,14.5978891,32.835928,16.1959601,16.8685259,42.7688669,16.8399327,16.9356446,20.2751964,13.6029941,17.8273561,14.7056662,15.5321976,11.3675214,13.0495464,18.3778784,14.0467657,20.6605223,14.3184422,13.7735504,18.7236334,15.1666829,36.6436653,15.0256035,18.3698955,14.7583093,16.4133528,14.3524363,27.5938834,17.6409622,24.8893485,19.3436365,37.8340529,16.8995267,14.5388128,18.476678,14.5031437,17.9492226,27.9280239,28.0541488,33.8185507,19.8618556,14.0083929,19.6994744,16.4493851,17.5348837,13.5054525,14.034565,18.511502,16.4744211,19.9206186,11.723732,20.7244228,15.7185951,18.7793745,25.838414,13.5622441,22.011857,12.1742809,14.2502659,14.3687708,16.5212794,12.7412789,21.5077402,21.3007289,21.184251,15.4883463,28.9881549,14.6365422,13.0760986,15.9511699,16.8789809,19.8795753,20.0448263,17.8795898,17.0571729,24.7300469,20.4582651,15.9600242,15.6807027,15.9287398,16.5530497,24.7568609,21.0595616,22.652364,22.8052176,16.1156797,27.3597862,22.8468145,13.4643978,12.9819635,27.8306241,19.8002103,15.4562536,13.2149823,16.8123574,14.1137248,16.045283,8.54375099,13.2391267,15.5742757,13.9213675,15.581854,21.1970145,17.1676628,18.3723425,11.4249881,20.5498928,11.1452991,12.9935988,13.929867,15.50432,15.5381671,14.9522958,42.1311499,20.4899394,13.1074407,24.2200345,13.2576823,20.2298144,16.9731386,13.1423129,14.8558462,12.771798,17.5460903,10.1458975,22.308069,19.9757478,19.2629151,11.1118012,17.6686138,17.1792531,13.1476522,16.401998,26.7446886,17.7775263,13.5396226,14.4075703,37.7422954,16.9252277,14.6798142,12.1746236,12.6387629,10.7029216,9.78827088,11.1649179,14.6129001,11.0422948,13.842852,24.455887,17.2106825,14.1710559,15.734664,12.6200972,13.5281456,12.8463697,24.611669,10.5895865,14.7000195,14.1338236,10.0140252,18.6080204,15.4816696,9.47158524,36.2454446,15.4219389,12.6449852,21.7585174,12.2726866,22.7230118,16.0805162,13.399963,23.8155668,10.8145974,15.5891252,18.5655038,16.5838347,15.809776,14.1150923,16.2755866,18.0660208,18.9337962,19.039803,11.8278471,14.5760743,17.2519754,18.2258245,21.4208568,23.742011,16.066702,21.4885192,15.8443516,22.6527251,14.6477089,16.9397657,12.0419487,22.8647363,18.7787018,18.912404,20.4206544,26.9787819,26.8725681,20.1454244,11.4331387,21.1730815,30.9753249,16.4441292,16.4684698,24.7650877,14.3082727,36.7600619,15.116835,16.2342399,15.4575777,27.2497358,21.2057826,34.5571857,11.4555097,28.6383762,14.4522145,11.3134379,16.1542355,32.5963872,18.7880617,27.5866359,14.4056678,15.2878703,20.6866911,16.2528217,26.763554,18.5401286,25.0460405,15.084171,35.6088365,13.280021,17.4296096,14.160017,13.4575569,19.0433213,15.6946934,36.9635114,16.9024096,11.6568382,15.9567602,13.6658394,12.9210381,20.0211305,26.9656935,13.8933764,13.363353,19.7081294,17.641192,17.0117257,13.7970398,14.5667198,17.2912268,14.1243101,17.8047443,48.0785102,19.4104036,18.2322106,8.74173036,17.3660604,17.2669455,13.2435395,29.1494085,16.1764706,14.1576729,11.4336901,24.2252343,11.323289,13.9121748,17.784992,19.6893454,15.7631208,13.0905778,11.6793426,14.258027,25.0853882,13.475094,18.1881619,31.5940573,18.7380268,21.0773874,11.8740898,32.204593,16.4765579,14.9341366,31.6279977,31.956732,13.5143719,29.7883109,24.4504965,16.0309861,10.5537945,15.2589751,12.3112711,12.85435,9.33070866,13.4497842,10.9845318,13.8431503,16.771139,23.6828055,12.2083684,18.1793685,13.3233757,18.8616572,23.5504285,13.3788082,18.1757973,15.0270375,23.7026065,11.677498,14.1000841,19.2777119,10.513927,26.5504804,11.3808463,12.1051405,15.3234543,8.84588804,19.338309,11.4884393,10.1076709,13.0943276,12.4445328,21.8818751,11.233264,15.7080088,16.7975615,14.1156575,16.2824097,13.7772608,15.6221022,17.3762105,18.9896041,24.7331393,15.5998451,13.0834179,16.9825108,15.1100169,7.91325578,24.4193518,19.0096756,18.4454309,14.4987147,29.0951102,13.7107444,12.4274917,18.3200156,19.425147,25.8228923,26.2931785,17.9412424,13.6760641,19.7803247,18.1533363,13.84631,20.852313,16.599469,43.6264509,15.9254638,22.4883413,20.9940872,26.2870159,29.8544673,15.6035329,20.8318653,13.5699001,21.6803841,19.8751776,17.3050671,20.483251,18.7317293,15.3240741,22.1656323,14.3912738,20.3282422,14.3909586,30.4885126,16.4620371,13.6317946,17.4417943,19.0711481,21.877375,15.4275441,14.0016473,7.33610822,25.3558337,17.3724213,13.4311741,21.9338239,24.8578251,37.4197798,15.7492355,24.464372,18.5920497,24.6343275,15.527175,22.9065131,17.4993368,19.9064402,16.7559769,28.5880867,19.833921,17.9479167,14.8077953,20.8371926,15.0650908,17.5516579,18.9421311,19.2118611,23.1569039,19.0168872,23.3909001,35.3967841,16.5498688,15.064584,24.9955036,21.6663817],&#34;text&#34;:[&#34;popdensity:  1270.9615&lt;br /&gt;percollege: 19.631392&#34;,&#34;popdensity:   759.0000&lt;br /&gt;percollege: 11.243308&#34;,&#34;popdensity:   681.4091&lt;br /&gt;percollege: 17.033819&#34;,&#34;popdensity:  1812.1176&lt;br /&gt;percollege: 17.278954&#34;,&#34;popdensity:   324.2222&lt;br /&gt;percollege: 14.475999&#34;,&#34;popdensity:   713.7600&lt;br /&gt;percollege: 18.904624&#34;,&#34;popdensity:   313.0588&lt;br /&gt;percollege: 11.917388&#34;,&#34;popdensity:   622.4074&lt;br /&gt;percollege: 16.197121&#34;,&#34;popdensity:   559.8750&lt;br /&gt;percollege: 14.107649&#34;,&#34;popdensity:  2983.1897&lt;br /&gt;percollege: 41.295808&#34;,&#34;popdensity:   819.4762&lt;br /&gt;percollege: 13.567226&#34;,&#34;popdensity:   530.7000&lt;br /&gt;percollege: 15.110863&#34;,&#34;popdensity:   516.4286&lt;br /&gt;percollege: 13.683010&#34;,&#34;popdensity:  1170.4828&lt;br /&gt;percollege: 15.387469&#34;,&#34;popdensity:  1721.4667&lt;br /&gt;percollege: 25.175041&#34;,&#34;popdensity: 88018.3966&lt;br /&gt;percollege: 28.018117&#34;,&#34;popdensity:   748.6154&lt;br /&gt;percollege: 16.985808&#34;,&#34;popdensity:   533.5000&lt;br /&gt;percollege: 14.597889&#34;,&#34;popdensity:  2050.8421&lt;br /&gt;percollege: 32.835928&#34;,&#34;popdensity:   718.0870&lt;br /&gt;percollege: 16.195960&#34;,&#34;popdensity:   778.5600&lt;br /&gt;percollege: 16.868526&#34;,&#34;popdensity: 39083.3000&lt;br /&gt;percollege: 42.768867&#34;,&#34;popdensity:   544.3056&lt;br /&gt;percollege: 16.839933&#34;,&#34;popdensity:   531.4286&lt;br /&gt;percollege: 16.935645&#34;,&#34;popdensity:  1132.2857&lt;br /&gt;percollege: 20.275196&#34;,&#34;popdensity:   474.8409&lt;br /&gt;percollege: 13.602994&#34;,&#34;popdensity:   475.8333&lt;br /&gt;percollege: 17.827356&#34;,&#34;popdensity:  1612.7600&lt;br /&gt;percollege: 14.705666&#34;,&#34;popdensity:   732.3077&lt;br /&gt;percollege: 15.532198&#34;,&#34;popdensity:   363.6316&lt;br /&gt;percollege: 11.367521&#34;,&#34;popdensity:   464.1515&lt;br /&gt;percollege: 13.049546&#34;,&#34;popdensity:  1243.7308&lt;br /&gt;percollege: 18.377878&#34;,&#34;popdensity:   339.9600&lt;br /&gt;percollege: 14.046766&#34;,&#34;popdensity:   454.7447&lt;br /&gt;percollege: 20.660522&#34;,&#34;popdensity:   576.5556&lt;br /&gt;percollege: 14.318442&#34;,&#34;popdensity:   352.0000&lt;br /&gt;percollege: 13.773550&#34;,&#34;popdensity:  1003.1177&lt;br /&gt;percollege: 18.723633&#34;,&#34;popdensity:   459.5075&lt;br /&gt;percollege: 15.166683&#34;,&#34;popdensity:  1696.3056&lt;br /&gt;percollege: 36.643665&#34;,&#34;popdensity:   365.8276&lt;br /&gt;percollege: 15.025604&#34;,&#34;popdensity:  1121.8182&lt;br /&gt;percollege: 18.369895&#34;,&#34;popdensity:   893.0000&lt;br /&gt;percollege: 14.758309&#34;,&#34;popdensity:   623.4571&lt;br /&gt;percollege: 16.413353&#34;,&#34;popdensity:   567.3500&lt;br /&gt;percollege: 14.352436&#34;,&#34;popdensity: 10947.2759&lt;br /&gt;percollege: 27.593883&#34;,&#34;popdensity:  2468.0769&lt;br /&gt;percollege: 17.640962&#34;,&#34;popdensity:  2189.6111&lt;br /&gt;percollege: 24.889349&#34;,&#34;popdensity:  1342.6905&lt;br /&gt;percollege: 19.343636&#34;,&#34;popdensity: 18443.5000&lt;br /&gt;percollege: 37.834053&#34;,&#34;popdensity:  1572.2500&lt;br /&gt;percollege: 16.899527&#34;,&#34;popdensity:   726.0000&lt;br /&gt;percollege: 14.538813&#34;,&#34;popdensity:   799.8140&lt;br /&gt;percollege: 18.476678&#34;,&#34;popdensity:   633.8871&lt;br /&gt;percollege: 14.503144&#34;,&#34;popdensity:   855.5000&lt;br /&gt;percollege: 17.949223&#34;,&#34;popdensity:  1036.5882&lt;br /&gt;percollege: 27.928024&#34;,&#34;popdensity:  5090.0278&lt;br /&gt;percollege: 28.054149&#34;,&#34;popdensity:  1899.7059&lt;br /&gt;percollege: 33.818551&#34;,&#34;popdensity:  3348.7429&lt;br /&gt;percollege: 19.861856&#34;,&#34;popdensity:   953.5800&lt;br /&gt;percollege: 14.008393&#34;,&#34;popdensity:  5538.6222&lt;br /&gt;percollege: 19.699474&#34;,&#34;popdensity:  1187.4571&lt;br /&gt;percollege: 16.449385&#34;,&#34;popdensity:   558.5217&lt;br /&gt;percollege: 17.534884&#34;,&#34;popdensity:   493.0000&lt;br /&gt;percollege: 13.505453&#34;,&#34;popdensity:  1053.7143&lt;br /&gt;percollege: 14.034565&#34;,&#34;popdensity:   620.2222&lt;br /&gt;percollege: 18.511502&#34;,&#34;popdensity:   523.9394&lt;br /&gt;percollege: 16.474421&#34;,&#34;popdensity:   974.8696&lt;br /&gt;percollege: 19.920619&#34;,&#34;popdensity:   749.4634&lt;br /&gt;percollege: 11.723732&#34;,&#34;popdensity:  1102.9394&lt;br /&gt;percollege: 20.724423&#34;,&#34;popdensity:   663.3333&lt;br /&gt;percollege: 15.718595&#34;,&#34;popdensity:  1021.2667&lt;br /&gt;percollege: 18.779374&#34;,&#34;popdensity:  4811.2368&lt;br /&gt;percollege: 25.838414&#34;,&#34;popdensity:   823.5385&lt;br /&gt;percollege: 13.562244&#34;,&#34;popdensity:   621.9200&lt;br /&gt;percollege: 22.011857&#34;,&#34;popdensity:   358.7143&lt;br /&gt;percollege: 12.174281&#34;,&#34;popdensity:   198.7727&lt;br /&gt;percollege: 14.250266&#34;,&#34;popdensity:   683.9091&lt;br /&gt;percollege: 14.368771&#34;,&#34;popdensity:   573.0000&lt;br /&gt;percollege: 16.521279&#34;,&#34;popdensity:   960.6389&lt;br /&gt;percollege: 12.741279&#34;,&#34;popdensity:   752.0455&lt;br /&gt;percollege: 21.507740&#34;,&#34;popdensity:  5311.5357&lt;br /&gt;percollege: 21.300729&#34;,&#34;popdensity:  6571.3000&lt;br /&gt;percollege: 21.184251&#34;,&#34;popdensity:  1206.8636&lt;br /&gt;percollege: 15.488346&#34;,&#34;popdensity:  3497.7647&lt;br /&gt;percollege: 28.988155&#34;,&#34;popdensity:   288.3846&lt;br /&gt;percollege: 14.636542&#34;,&#34;popdensity:   376.2667&lt;br /&gt;percollege: 13.076099&#34;,&#34;popdensity:   505.9318&lt;br /&gt;percollege: 15.951170&#34;,&#34;popdensity:   384.3529&lt;br /&gt;percollege: 16.878981&#34;,&#34;popdensity:  1456.1212&lt;br /&gt;percollege: 19.879575&#34;,&#34;popdensity:  3171.5897&lt;br /&gt;percollege: 20.044826&#34;,&#34;popdensity:   734.1250&lt;br /&gt;percollege: 17.879590&#34;,&#34;popdensity:  1697.2500&lt;br /&gt;percollege: 17.057173&#34;,&#34;popdensity:  1092.5833&lt;br /&gt;percollege: 24.730047&#34;,&#34;popdensity:   581.2424&lt;br /&gt;percollege: 20.458265&#34;,&#34;popdensity:   453.4848&lt;br /&gt;percollege: 15.960024&#34;,&#34;popdensity:   410.5000&lt;br /&gt;percollege: 15.680703&#34;,&#34;popdensity:   569.7241&lt;br /&gt;percollege: 15.928740&#34;,&#34;popdensity:  1467.9512&lt;br /&gt;percollege: 16.553050&#34;,&#34;popdensity:  7146.2600&lt;br /&gt;percollege: 24.756861&#34;,&#34;popdensity:  2309.3200&lt;br /&gt;percollege: 21.059562&#34;,&#34;popdensity:  8430.4333&lt;br /&gt;percollege: 22.652364&#34;,&#34;popdensity:  1020.4062&lt;br /&gt;percollege: 22.805218&#34;,&#34;popdensity:  1480.7143&lt;br /&gt;percollege: 16.115680&#34;,&#34;popdensity:  7337.4634&lt;br /&gt;percollege: 27.359786&#34;,&#34;popdensity:  2893.5000&lt;br /&gt;percollege: 22.846815&#34;,&#34;popdensity:   393.3750&lt;br /&gt;percollege: 13.464398&#34;,&#34;popdensity:  1406.7000&lt;br /&gt;percollege: 12.981964&#34;,&#34;popdensity:  1589.4583&lt;br /&gt;percollege: 27.830624&#34;,&#34;popdensity:   741.0526&lt;br /&gt;percollege: 19.800210&#34;,&#34;popdensity:   854.9545&lt;br /&gt;percollege: 15.456254&#34;,&#34;popdensity:  1600.5417&lt;br /&gt;percollege: 13.214982&#34;,&#34;popdensity:  3989.8636&lt;br /&gt;percollege: 16.812357&#34;,&#34;popdensity:  1176.4286&lt;br /&gt;percollege: 14.113725&#34;,&#34;popdensity:  1346.6956&lt;br /&gt;percollege: 16.045283&#34;,&#34;popdensity:   550.7778&lt;br /&gt;percollege:  8.543751&#34;,&#34;popdensity:  1058.9615&lt;br /&gt;percollege: 13.239127&#34;,&#34;popdensity:  2043.9474&lt;br /&gt;percollege: 15.574276&#34;,&#34;popdensity:  1074.7727&lt;br /&gt;percollege: 13.921368&#34;,&#34;popdensity:  1605.6364&lt;br /&gt;percollege: 15.581854&#34;,&#34;popdensity:  5202.5652&lt;br /&gt;percollege: 21.197015&#34;,&#34;popdensity:  1408.3077&lt;br /&gt;percollege: 17.167663&#34;,&#34;popdensity:  5785.1111&lt;br /&gt;percollege: 18.372342&#34;,&#34;popdensity:  2167.9167&lt;br /&gt;percollege: 11.424988&#34;,&#34;popdensity:  7156.0000&lt;br /&gt;percollege: 20.549893&#34;,&#34;popdensity:   712.3200&lt;br /&gt;percollege: 11.145299&#34;,&#34;popdensity:   851.3043&lt;br /&gt;percollege: 12.993599&#34;,&#34;popdensity:   897.1429&lt;br /&gt;percollege: 13.929867&#34;,&#34;popdensity:  1100.4483&lt;br /&gt;percollege: 15.504320&#34;,&#34;popdensity:  3090.3750&lt;br /&gt;percollege: 15.538167&#34;,&#34;popdensity:   921.5152&lt;br /&gt;percollege: 14.952296&#34;,&#34;popdensity:  4539.0000&lt;br /&gt;percollege: 42.131150&#34;,&#34;popdensity:  2678.0588&lt;br /&gt;percollege: 20.489939&#34;,&#34;popdensity:  1067.5000&lt;br /&gt;percollege: 13.107441&#34;,&#34;popdensity:  3154.8750&lt;br /&gt;percollege: 24.220035&#34;,&#34;popdensity:  2005.7917&lt;br /&gt;percollege: 13.257682&#34;,&#34;popdensity:  5051.6875&lt;br /&gt;percollege: 20.229814&#34;,&#34;popdensity:  1540.3044&lt;br /&gt;percollege: 16.973139&#34;,&#34;popdensity:  1257.6667&lt;br /&gt;percollege: 13.142313&#34;,&#34;popdensity:   734.1176&lt;br /&gt;percollege: 14.855846&#34;,&#34;popdensity:   977.8182&lt;br /&gt;percollege: 12.771798&#34;,&#34;popdensity:  1418.9048&lt;br /&gt;percollege: 17.546090&#34;,&#34;popdensity:  1126.7143&lt;br /&gt;percollege: 10.145898&#34;,&#34;popdensity:  4894.9444&lt;br /&gt;percollege: 22.308069&#34;,&#34;popdensity:  1286.5807&lt;br /&gt;percollege: 19.975748&#34;,&#34;popdensity:  2040.4375&lt;br /&gt;percollege: 19.262915&#34;,&#34;popdensity:  1339.8636&lt;br /&gt;percollege: 11.111801&#34;,&#34;popdensity: 15853.1333&lt;br /&gt;percollege: 17.668614&#34;,&#34;popdensity:  2974.0556&lt;br /&gt;percollege: 17.179253&#34;,&#34;popdensity:  1586.5185&lt;br /&gt;percollege: 13.147652&#34;,&#34;popdensity:  5025.7308&lt;br /&gt;percollege: 16.401998&#34;,&#34;popdensity: 34659.0870&lt;br /&gt;percollege: 26.744689&#34;,&#34;popdensity:  1622.3846&lt;br /&gt;percollege: 17.777526&#34;,&#34;popdensity:   493.7619&lt;br /&gt;percollege: 13.539623&#34;,&#34;popdensity:  1537.3750&lt;br /&gt;percollege: 14.407570&#34;,&#34;popdensity:  4540.7500&lt;br /&gt;percollege: 37.742295&#34;,&#34;popdensity:  1147.8667&lt;br /&gt;percollege: 16.925228&#34;,&#34;popdensity:  2330.0000&lt;br /&gt;percollege: 14.679814&#34;,&#34;popdensity:   564.6250&lt;br /&gt;percollege: 12.174624&#34;,&#34;popdensity:  1515.0800&lt;br /&gt;percollege: 12.638763&#34;,&#34;popdensity:  1063.0000&lt;br /&gt;percollege: 10.702922&#34;,&#34;popdensity:   800.3913&lt;br /&gt;percollege:  9.788271&#34;,&#34;popdensity:   751.3478&lt;br /&gt;percollege: 11.164918&#34;,&#34;popdensity:   570.7407&lt;br /&gt;percollege: 14.612900&#34;,&#34;popdensity:   868.5000&lt;br /&gt;percollege: 11.042295&#34;,&#34;popdensity:   625.4500&lt;br /&gt;percollege: 13.842852&#34;,&#34;popdensity:  4958.9231&lt;br /&gt;percollege: 24.455887&#34;,&#34;popdensity:  1038.7200&lt;br /&gt;percollege: 17.210683&#34;,&#34;popdensity:   486.2692&lt;br /&gt;percollege: 14.171056&#34;,&#34;popdensity:  1045.3448&lt;br /&gt;percollege: 15.734664&#34;,&#34;popdensity:  1044.1538&lt;br /&gt;percollege: 12.620097&#34;,&#34;popdensity:   984.6400&lt;br /&gt;percollege: 13.528146&#34;,&#34;popdensity:   788.2174&lt;br /&gt;percollege: 12.846370&#34;,&#34;popdensity:  8823.2857&lt;br /&gt;percollege: 24.611669&#34;,&#34;popdensity:  1908.2727&lt;br /&gt;percollege: 10.589586&#34;,&#34;popdensity:  1679.4583&lt;br /&gt;percollege: 14.700019&#34;,&#34;popdensity:   812.0833&lt;br /&gt;percollege: 14.133824&#34;,&#34;popdensity:  1197.2105&lt;br /&gt;percollege: 10.014025&#34;,&#34;popdensity:  1306.9524&lt;br /&gt;percollege: 18.608020&#34;,&#34;popdensity:   703.4444&lt;br /&gt;percollege: 15.481670&#34;,&#34;popdensity:   595.2308&lt;br /&gt;percollege:  9.471585&#34;,&#34;popdensity:  4353.2667&lt;br /&gt;percollege: 36.245445&#34;,&#34;popdensity:  1007.4375&lt;br /&gt;percollege: 15.421939&#34;,&#34;popdensity:   697.6000&lt;br /&gt;percollege: 12.644985&#34;,&#34;popdensity: 12696.7692&lt;br /&gt;percollege: 21.758517&#34;,&#34;popdensity:  1048.3125&lt;br /&gt;percollege: 12.272687&#34;,&#34;popdensity:  4421.1250&lt;br /&gt;percollege: 22.723012&#34;,&#34;popdensity:  1524.7391&lt;br /&gt;percollege: 16.080516&#34;,&#34;popdensity:   389.3333&lt;br /&gt;percollege: 13.399963&#34;,&#34;popdensity:  1953.0435&lt;br /&gt;percollege: 23.815567&#34;,&#34;popdensity:   790.5667&lt;br /&gt;percollege: 10.814597&#34;,&#34;popdensity:  2997.9583&lt;br /&gt;percollege: 15.589125&#34;,&#34;popdensity:  1235.6191&lt;br /&gt;percollege: 18.565504&#34;,&#34;popdensity:   775.5000&lt;br /&gt;percollege: 16.583835&#34;,&#34;popdensity:  1382.5500&lt;br /&gt;percollege: 15.809776&#34;,&#34;popdensity:   247.4390&lt;br /&gt;percollege: 14.115092&#34;,&#34;popdensity:   175.9216&lt;br /&gt;percollege: 16.275587&#34;,&#34;popdensity:  1847.1225&lt;br /&gt;percollege: 18.066021&#34;,&#34;popdensity:   900.1471&lt;br /&gt;percollege: 18.933796&#34;,&#34;popdensity:   586.6129&lt;br /&gt;percollege: 19.039803&#34;,&#34;popdensity:   711.0000&lt;br /&gt;percollege: 11.827847&#34;,&#34;popdensity:   147.2963&lt;br /&gt;percollege: 14.576074&#34;,&#34;popdensity:  1472.2647&lt;br /&gt;percollege: 17.251975&#34;,&#34;popdensity:  4297.0385&lt;br /&gt;percollege: 18.225825&#34;,&#34;popdensity:   610.0000&lt;br /&gt;percollege: 21.420857&#34;,&#34;popdensity:  4890.2424&lt;br /&gt;percollege: 23.742011&#34;,&#34;popdensity:  1431.1035&lt;br /&gt;percollege: 16.066702&#34;,&#34;popdensity:  3237.6667&lt;br /&gt;percollege: 21.488519&#34;,&#34;popdensity:  1649.2333&lt;br /&gt;percollege: 15.844352&#34;,&#34;popdensity:   975.8182&lt;br /&gt;percollege: 22.652725&#34;,&#34;popdensity:   445.7917&lt;br /&gt;percollege: 14.647709&#34;,&#34;popdensity:   443.6410&lt;br /&gt;percollege: 16.939766&#34;,&#34;popdensity:   733.8824&lt;br /&gt;percollege: 12.041949&#34;,&#34;popdensity:  1702.4412&lt;br /&gt;percollege: 22.864736&#34;,&#34;popdensity:   360.5882&lt;br /&gt;percollege: 18.778702&#34;,&#34;popdensity:   547.5362&lt;br /&gt;percollege: 18.912404&#34;,&#34;popdensity:   583.2826&lt;br /&gt;percollege: 20.420654&#34;,&#34;popdensity:  2731.7353&lt;br /&gt;percollege: 26.978782&#34;,&#34;popdensity:   927.4074&lt;br /&gt;percollege: 26.872568&#34;,&#34;popdensity: 11634.0270&lt;br /&gt;percollege: 20.145424&#34;,&#34;popdensity:   706.3226&lt;br /&gt;percollege: 11.433139&#34;,&#34;popdensity:   265.4706&lt;br /&gt;percollege: 21.173081&#34;,&#34;popdensity:  2142.4333&lt;br /&gt;percollege: 30.975325&#34;,&#34;popdensity:  1181.2727&lt;br /&gt;percollege: 16.444129&#34;,&#34;popdensity:  1277.3824&lt;br /&gt;percollege: 16.468470&#34;,&#34;popdensity:   590.7667&lt;br /&gt;percollege: 24.765088&#34;,&#34;popdensity:   699.0200&lt;br /&gt;percollege: 14.308273&#34;,&#34;popdensity:  8291.5294&lt;br /&gt;percollege: 36.760062&#34;,&#34;popdensity:  1677.1765&lt;br /&gt;percollege: 15.116835&#34;,&#34;popdensity:   915.4242&lt;br /&gt;percollege: 16.234240&#34;,&#34;popdensity:   188.2143&lt;br /&gt;percollege: 15.457578&#34;,&#34;popdensity:  1606.5882&lt;br /&gt;percollege: 27.249736&#34;,&#34;popdensity:  3482.6977&lt;br /&gt;percollege: 21.205783&#34;,&#34;popdensity:  6770.0303&lt;br /&gt;percollege: 34.557186&#34;,&#34;popdensity:   409.0000&lt;br /&gt;percollege: 11.455510&#34;,&#34;popdensity: 10012.6200&lt;br /&gt;percollege: 28.638376&#34;,&#34;popdensity:    85.0500&lt;br /&gt;percollege: 14.452215&#34;,&#34;popdensity:   245.2286&lt;br /&gt;percollege: 11.313438&#34;,&#34;popdensity:  1967.5790&lt;br /&gt;percollege: 16.154235&#34;,&#34;popdensity:   787.0000&lt;br /&gt;percollege: 32.596387&#34;,&#34;popdensity:  2127.3488&lt;br /&gt;percollege: 18.788062&#34;,&#34;popdensity:  3401.3235&lt;br /&gt;percollege: 27.586636&#34;,&#34;popdensity:   104.7818&lt;br /&gt;percollege: 14.405668&#34;,&#34;popdensity:   180.9153&lt;br /&gt;percollege: 15.287870&#34;,&#34;popdensity: 25621.4286&lt;br /&gt;percollege: 20.686691&#34;,&#34;popdensity:   664.5312&lt;br /&gt;percollege: 16.252822&#34;,&#34;popdensity:   644.4273&lt;br /&gt;percollege: 26.763554&#34;,&#34;popdensity:   880.5862&lt;br /&gt;percollege: 18.540129&#34;,&#34;popdensity:  1097.2941&lt;br /&gt;percollege: 25.046041&#34;,&#34;popdensity:   389.3750&lt;br /&gt;percollege: 15.084171&#34;,&#34;popdensity:  2440.3548&lt;br /&gt;percollege: 35.608837&#34;,&#34;popdensity:   368.0909&lt;br /&gt;percollege: 13.280021&#34;,&#34;popdensity:  4048.4848&lt;br /&gt;percollege: 17.429610&#34;,&#34;popdensity:  1263.3095&lt;br /&gt;percollege: 14.160017&#34;,&#34;popdensity:   270.7879&lt;br /&gt;percollege: 13.457557&#34;,&#34;popdensity:  5677.9643&lt;br /&gt;percollege: 19.043321&#34;,&#34;popdensity:   749.0588&lt;br /&gt;percollege: 15.694693&#34;,&#34;popdensity: 19701.6727&lt;br /&gt;percollege: 36.963511&#34;,&#34;popdensity:   748.4667&lt;br /&gt;percollege: 16.902410&#34;,&#34;popdensity:   583.7812&lt;br /&gt;percollege: 11.656838&#34;,&#34;popdensity:   113.5128&lt;br /&gt;percollege: 15.956760&#34;,&#34;popdensity:   592.5294&lt;br /&gt;percollege: 13.665839&#34;,&#34;popdensity:   237.6364&lt;br /&gt;percollege: 12.921038&#34;,&#34;popdensity:   579.2581&lt;br /&gt;percollege: 20.021131&#34;,&#34;popdensity:  5689.9394&lt;br /&gt;percollege: 26.965694&#34;,&#34;popdensity:   327.2143&lt;br /&gt;percollege: 13.893376&#34;,&#34;popdensity:   581.6471&lt;br /&gt;percollege: 13.363353&#34;,&#34;popdensity:  4415.5417&lt;br /&gt;percollege: 19.708129&#34;,&#34;popdensity:  3640.1750&lt;br /&gt;percollege: 17.641192&#34;,&#34;popdensity:  2031.4828&lt;br /&gt;percollege: 17.011726&#34;,&#34;popdensity:   713.0000&lt;br /&gt;percollege: 13.797040&#34;,&#34;popdensity:   110.6933&lt;br /&gt;percollege: 14.566720&#34;,&#34;popdensity:  2250.6452&lt;br /&gt;percollege: 17.291227&#34;,&#34;popdensity:  1156.2083&lt;br /&gt;percollege: 14.124310&#34;,&#34;popdensity:  1893.5135&lt;br /&gt;percollege: 17.804744&#34;,&#34;popdensity:  6900.9024&lt;br /&gt;percollege: 48.078510&#34;,&#34;popdensity: 60333.9143&lt;br /&gt;percollege: 19.410404&#34;,&#34;popdensity:   775.2941&lt;br /&gt;percollege: 18.232211&#34;,&#34;popdensity:   724.8857&lt;br /&gt;percollege:  8.741730&#34;,&#34;popdensity:  4573.1250&lt;br /&gt;percollege: 17.366060&#34;,&#34;popdensity:  1900.2800&lt;br /&gt;percollege: 17.266945&#34;,&#34;popdensity:  2434.6585&lt;br /&gt;percollege: 13.243540&#34;,&#34;popdensity:  1984.9667&lt;br /&gt;percollege: 29.149408&#34;,&#34;popdensity:  1857.7083&lt;br /&gt;percollege: 16.176471&#34;,&#34;popdensity:  2292.7097&lt;br /&gt;percollege: 14.157673&#34;,&#34;popdensity:  1248.7857&lt;br /&gt;percollege: 11.433690&#34;,&#34;popdensity: 10409.9643&lt;br /&gt;percollege: 24.225234&#34;,&#34;popdensity:  1105.0417&lt;br /&gt;percollege: 11.323289&#34;,&#34;popdensity:  1385.3462&lt;br /&gt;percollege: 13.912175&#34;,&#34;popdensity:  6147.8333&lt;br /&gt;percollege: 17.784992&#34;,&#34;popdensity:  5776.4231&lt;br /&gt;percollege: 19.689345&#34;,&#34;popdensity:  1475.6250&lt;br /&gt;percollege: 15.763121&#34;,&#34;popdensity:  3492.7742&lt;br /&gt;percollege: 13.090578&#34;,&#34;popdensity:  1041.9706&lt;br /&gt;percollege: 11.679343&#34;,&#34;popdensity:  2081.3043&lt;br /&gt;percollege: 14.258027&#34;,&#34;popdensity: 54313.0769&lt;br /&gt;percollege: 25.085388&#34;,&#34;popdensity:  1489.4167&lt;br /&gt;percollege: 13.475094&#34;,&#34;popdensity:  1710.8696&lt;br /&gt;percollege: 18.188162&#34;,&#34;popdensity:  2478.8519&lt;br /&gt;percollege: 31.594057&#34;,&#34;popdensity:  5484.2143&lt;br /&gt;percollege: 18.738027&#34;,&#34;popdensity:  3567.6207&lt;br /&gt;percollege: 21.077387&#34;,&#34;popdensity:  1144.4167&lt;br /&gt;percollege: 11.874090&#34;,&#34;popdensity: 28277.5588&lt;br /&gt;percollege: 32.204593&#34;,&#34;popdensity:  1539.9200&lt;br /&gt;percollege: 16.476558&#34;,&#34;popdensity:  1190.5385&lt;br /&gt;percollege: 14.934137&#34;,&#34;popdensity:  3380.3750&lt;br /&gt;percollege: 31.627998&#34;,&#34;popdensity:  5469.2400&lt;br /&gt;percollege: 31.956732&#34;,&#34;popdensity:  1219.5000&lt;br /&gt;percollege: 13.514372&#34;,&#34;popdensity: 34649.1200&lt;br /&gt;percollege: 29.788311&#34;,&#34;popdensity:  2114.0645&lt;br /&gt;percollege: 24.450496&#34;,&#34;popdensity:  1111.1071&lt;br /&gt;percollege: 16.030986&#34;,&#34;popdensity:   643.4000&lt;br /&gt;percollege: 10.553795&#34;,&#34;popdensity:  1164.3200&lt;br /&gt;percollege: 15.258975&#34;,&#34;popdensity:  1050.8235&lt;br /&gt;percollege: 12.311271&#34;,&#34;popdensity:  1063.8750&lt;br /&gt;percollege: 12.854350&#34;,&#34;popdensity:  1313.9600&lt;br /&gt;percollege:  9.330709&#34;,&#34;popdensity:  1874.6667&lt;br /&gt;percollege: 13.449784&#34;,&#34;popdensity:  1259.5833&lt;br /&gt;percollege: 10.984532&#34;,&#34;popdensity:  3649.9091&lt;br /&gt;percollege: 13.843150&#34;,&#34;popdensity:  1582.4333&lt;br /&gt;percollege: 16.771139&#34;,&#34;popdensity: 16576.8462&lt;br /&gt;percollege: 23.682806&#34;,&#34;popdensity:  2378.2308&lt;br /&gt;percollege: 12.208368&#34;,&#34;popdensity:  3207.5000&lt;br /&gt;percollege: 18.179368&#34;,&#34;popdensity:  1567.0370&lt;br /&gt;percollege: 13.323376&#34;,&#34;popdensity:  9349.1724&lt;br /&gt;percollege: 18.861657&#34;,&#34;popdensity: 22017.1905&lt;br /&gt;percollege: 23.550428&#34;,&#34;popdensity:  1323.8571&lt;br /&gt;percollege: 13.378808&#34;,&#34;popdensity: 11033.5833&lt;br /&gt;percollege: 18.175797&#34;,&#34;popdensity:  2678.0833&lt;br /&gt;percollege: 15.027038&#34;,&#34;popdensity:  4894.1600&lt;br /&gt;percollege: 23.702607&#34;,&#34;popdensity:   919.4800&lt;br /&gt;percollege: 11.677498&#34;,&#34;popdensity:  1408.6786&lt;br /&gt;percollege: 14.100084&#34;,&#34;popdensity:  3882.5833&lt;br /&gt;percollege: 19.277712&#34;,&#34;popdensity:   596.0385&lt;br /&gt;percollege: 10.513927&#34;,&#34;popdensity: 21252.1852&lt;br /&gt;percollege: 26.550480&#34;,&#34;popdensity:   567.7600&lt;br /&gt;percollege: 11.380846&#34;,&#34;popdensity:  1156.2083&lt;br /&gt;percollege: 12.105140&#34;,&#34;popdensity:  2001.6585&lt;br /&gt;percollege: 15.323454&#34;,&#34;popdensity:   472.3333&lt;br /&gt;percollege:  8.845888&#34;,&#34;popdensity:  2501.8125&lt;br /&gt;percollege: 19.338309&#34;,&#34;popdensity:   819.5200&lt;br /&gt;percollege: 11.488439&#34;,&#34;popdensity:  1372.0435&lt;br /&gt;percollege: 10.107671&#34;,&#34;popdensity:  1608.5000&lt;br /&gt;percollege: 13.094328&#34;,&#34;popdensity:   932.6538&lt;br /&gt;percollege: 12.444533&#34;,&#34;popdensity:  4752.8333&lt;br /&gt;percollege: 21.881875&#34;,&#34;popdensity:  1604.5200&lt;br /&gt;percollege: 11.233264&#34;,&#34;popdensity:  1166.1724&lt;br /&gt;percollege: 15.708009&#34;,&#34;popdensity:  4349.5517&lt;br /&gt;percollege: 16.797562&#34;,&#34;popdensity:  1690.9756&lt;br /&gt;percollege: 14.115657&#34;,&#34;popdensity:  2581.7917&lt;br /&gt;percollege: 16.282410&#34;,&#34;popdensity:  2295.0571&lt;br /&gt;percollege: 13.777261&#34;,&#34;popdensity:  1810.0909&lt;br /&gt;percollege: 15.622102&#34;,&#34;popdensity:  1796.6000&lt;br /&gt;percollege: 17.376210&#34;,&#34;popdensity: 10811.3235&lt;br /&gt;percollege: 18.989604&#34;,&#34;popdensity: 21457.9167&lt;br /&gt;percollege: 24.733139&#34;,&#34;popdensity:  6157.1081&lt;br /&gt;percollege: 15.599845&#34;,&#34;popdensity:  2473.2353&lt;br /&gt;percollege: 13.083418&#34;,&#34;popdensity:  1229.5769&lt;br /&gt;percollege: 16.982511&#34;,&#34;popdensity:  1269.3333&lt;br /&gt;percollege: 15.110017&#34;,&#34;popdensity:   462.4167&lt;br /&gt;percollege:  7.913256&#34;,&#34;popdensity:  4952.5652&lt;br /&gt;percollege: 24.419352&#34;,&#34;popdensity:  1638.2632&lt;br /&gt;percollege: 19.009676&#34;,&#34;popdensity:  3074.5758&lt;br /&gt;percollege: 18.445431&#34;,&#34;popdensity:  1478.2400&lt;br /&gt;percollege: 14.498715&#34;,&#34;popdensity:  3061.3243&lt;br /&gt;percollege: 29.095110&#34;,&#34;popdensity:   927.2500&lt;br /&gt;percollege: 13.710744&#34;,&#34;popdensity:   382.4878&lt;br /&gt;percollege: 12.427492&#34;,&#34;popdensity:   301.9815&lt;br /&gt;percollege: 18.320016&#34;,&#34;popdensity:   768.8679&lt;br /&gt;percollege: 19.425147&#34;,&#34;popdensity:   157.3933&lt;br /&gt;percollege: 25.822892&#34;,&#34;popdensity:  6081.0625&lt;br /&gt;percollege: 26.293178&#34;,&#34;popdensity:   339.6000&lt;br /&gt;percollege: 17.941242&#34;,&#34;popdensity:   246.8679&lt;br /&gt;percollege: 13.676064&#34;,&#34;popdensity:  1490.9130&lt;br /&gt;percollege: 19.780325&#34;,&#34;popdensity:   831.1111&lt;br /&gt;percollege: 18.153336&#34;,&#34;popdensity:   439.5417&lt;br /&gt;percollege: 13.846310&#34;,&#34;popdensity:   980.1739&lt;br /&gt;percollege: 20.852313&#34;,&#34;popdensity:   455.4286&lt;br /&gt;percollege: 16.599469&#34;,&#34;popdensity:  5028.5616&lt;br /&gt;percollege: 43.626451&#34;,&#34;popdensity:  1417.7593&lt;br /&gt;percollege: 15.925464&#34;,&#34;popdensity:   917.5000&lt;br /&gt;percollege: 22.488341&#34;,&#34;popdensity:   535.3590&lt;br /&gt;percollege: 20.994087&#34;,&#34;popdensity:   690.5577&lt;br /&gt;percollege: 26.287016&#34;,&#34;popdensity:  2241.6579&lt;br /&gt;percollege: 29.854467&#34;,&#34;popdensity:   153.0000&lt;br /&gt;percollege: 15.603533&#34;,&#34;popdensity:  2047.3409&lt;br /&gt;percollege: 20.831865&#34;,&#34;popdensity:   146.2667&lt;br /&gt;percollege: 13.569900&#34;,&#34;popdensity:   713.9710&lt;br /&gt;percollege: 21.680384&#34;,&#34;popdensity:   892.3235&lt;br /&gt;percollege: 19.875178&#34;,&#34;popdensity:   847.7727&lt;br /&gt;percollege: 17.305067&#34;,&#34;popdensity:   438.0435&lt;br /&gt;percollege: 20.483251&#34;,&#34;popdensity:   130.9149&lt;br /&gt;percollege: 18.731729&#34;,&#34;popdensity:   276.4667&lt;br /&gt;percollege: 15.324074&#34;,&#34;popdensity:  1936.6571&lt;br /&gt;percollege: 22.165632&#34;,&#34;popdensity:   460.6383&lt;br /&gt;percollege: 14.391274&#34;,&#34;popdensity:  8011.3125&lt;br /&gt;percollege: 20.328242&#34;,&#34;popdensity:   943.9000&lt;br /&gt;percollege: 14.390959&#34;,&#34;popdensity:  3496.5714&lt;br /&gt;percollege: 30.488513&#34;,&#34;popdensity:   434.4865&lt;br /&gt;percollege: 16.462037&#34;,&#34;popdensity:   375.0962&lt;br /&gt;percollege: 13.631795&#34;,&#34;popdensity:   509.3019&lt;br /&gt;percollege: 17.441794&#34;,&#34;popdensity:  2233.9167&lt;br /&gt;percollege: 19.071148&#34;,&#34;popdensity:  1227.6596&lt;br /&gt;percollege: 21.877375&#34;,&#34;popdensity:   494.4878&lt;br /&gt;percollege: 15.427544&#34;,&#34;popdensity:   456.3333&lt;br /&gt;percollege: 14.001647&#34;,&#34;popdensity:   185.2381&lt;br /&gt;percollege:  7.336108&#34;,&#34;popdensity: 63951.6667&lt;br /&gt;percollege: 25.355834&#34;,&#34;popdensity:   678.3889&lt;br /&gt;percollege: 17.372421&#34;,&#34;popdensity:   503.7667&lt;br /&gt;percollege: 13.431174&#34;,&#34;popdensity:   446.1831&lt;br /&gt;percollege: 21.933824&#34;,&#34;popdensity:  3797.5676&lt;br /&gt;percollege: 24.857825&#34;,&#34;popdensity:  4855.4000&lt;br /&gt;percollege: 37.419780&#34;,&#34;popdensity:   507.6429&lt;br /&gt;percollege: 15.749235&#34;,&#34;popdensity:   963.6765&lt;br /&gt;percollege: 24.464372&#34;,&#34;popdensity:   632.2364&lt;br /&gt;percollege: 18.592050&#34;,&#34;popdensity:  1279.2708&lt;br /&gt;percollege: 24.634328&#34;,&#34;popdensity:   208.0000&lt;br /&gt;percollege: 15.527175&#34;,&#34;popdensity:  8751.7000&lt;br /&gt;percollege: 22.906513&#34;,&#34;popdensity:   515.3235&lt;br /&gt;percollege: 17.499337&#34;,&#34;popdensity:  3321.6667&lt;br /&gt;percollege: 19.906440&#34;,&#34;popdensity:   274.1636&lt;br /&gt;percollege: 16.755977&#34;,&#34;popdensity:  1142.0682&lt;br /&gt;percollege: 28.588087&#34;,&#34;popdensity:   939.5000&lt;br /&gt;percollege: 19.833921&#34;,&#34;popdensity:   179.5063&lt;br /&gt;percollege: 17.947917&#34;,&#34;popdensity:   688.0926&lt;br /&gt;percollege: 14.807795&#34;,&#34;popdensity:  3246.1562&lt;br /&gt;percollege: 20.837193&#34;,&#34;popdensity:   331.5965&lt;br /&gt;percollege: 15.065091&#34;,&#34;popdensity:   587.5116&lt;br /&gt;percollege: 17.551658&#34;,&#34;popdensity:   533.6875&lt;br /&gt;percollege: 18.942131&#34;,&#34;popdensity:   295.1167&lt;br /&gt;percollege: 19.211861&#34;,&#34;popdensity:  2343.7500&lt;br /&gt;percollege: 23.156904&#34;,&#34;popdensity:   275.4400&lt;br /&gt;percollege: 19.016887&#34;,&#34;popdensity:  3813.1200&lt;br /&gt;percollege: 23.390900&#34;,&#34;popdensity:  8962.2059&lt;br /&gt;percollege: 35.396784&#34;,&#34;popdensity:  1024.5333&lt;br /&gt;percollege: 16.549869&#34;,&#34;popdensity:   523.9189&lt;br /&gt;percollege: 15.064584&#34;,&#34;popdensity:  4009.1429&lt;br /&gt;percollege: 24.995504&#34;,&#34;popdensity:  1533.4375&lt;br /&gt;percollege: 21.666382&#34;],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;marker&#34;:{&#34;autocolorscale&#34;:false,&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;opacity&#34;:1,&#34;size&#34;:5.66929133858268,&#34;symbol&#34;:&#34;circle&#34;,&#34;line&#34;:{&#34;width&#34;:1.88976377952756,&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;}},&#34;hoveron&#34;:&#34;points&#34;,&#34;showlegend&#34;:false,&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;hoverinfo&#34;:&#34;text&#34;,&#34;frame&#34;:null}],&#34;layout&#34;:{&#34;margin&#34;:{&#34;t&#34;:26.958904109589,&#34;r&#34;:7.30593607305936,&#34;b&#34;:40.9132420091324,&#34;l&#34;:37.2602739726027},&#34;plot_bgcolor&#34;:&#34;rgba(235,235,235,1)&#34;,&#34;paper_bgcolor&#34;:&#34;rgba(255,255,255,1)&#34;,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:14.6118721461187},&#34;xaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;type&#34;:&#34;linear&#34;,&#34;autorange&#34;:false,&#34;range&#34;:[-4311.61733,92415.06393],&#34;tickmode&#34;:&#34;array&#34;,&#34;ticktext&#34;:[&#34;0&#34;,&#34;25000&#34;,&#34;50000&#34;,&#34;75000&#34;],&#34;tickvals&#34;:[0,25000,50000,75000],&#34;categoryorder&#34;:&#34;array&#34;,&#34;categoryarray&#34;:[&#34;0&#34;,&#34;25000&#34;,&#34;50000&#34;,&#34;75000&#34;],&#34;nticks&#34;:null,&#34;ticks&#34;:&#34;outside&#34;,&#34;tickcolor&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;ticklen&#34;:3.65296803652968,&#34;tickwidth&#34;:0.66417600664176,&#34;showticklabels&#34;:true,&#34;tickfont&#34;:{&#34;color&#34;:&#34;rgba(77,77,77,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;tickangle&#34;:-0,&#34;showline&#34;:false,&#34;linecolor&#34;:null,&#34;linewidth&#34;:0,&#34;showgrid&#34;:true,&#34;gridcolor&#34;:&#34;rgba(255,255,255,1)&#34;,&#34;gridwidth&#34;:0.66417600664176,&#34;zeroline&#34;:false,&#34;anchor&#34;:&#34;y&#34;,&#34;title&#34;:{&#34;text&#34;:&#34;popdensity&#34;,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:14.6118721461187}},&#34;hoverformat&#34;:&#34;.2f&#34;},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;type&#34;:&#34;linear&#34;,&#34;autorange&#34;:false,&#34;range&#34;:[5.298988121,50.115630299],&#34;tickmode&#34;:&#34;array&#34;,&#34;ticktext&#34;:[&#34;10&#34;,&#34;20&#34;,&#34;30&#34;,&#34;40&#34;,&#34;50&#34;],&#34;tickvals&#34;:[10,20,30,40,50],&#34;categoryorder&#34;:&#34;array&#34;,&#34;categoryarray&#34;:[&#34;10&#34;,&#34;20&#34;,&#34;30&#34;,&#34;40&#34;,&#34;50&#34;],&#34;nticks&#34;:null,&#34;ticks&#34;:&#34;outside&#34;,&#34;tickcolor&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;ticklen&#34;:3.65296803652968,&#34;tickwidth&#34;:0.66417600664176,&#34;showticklabels&#34;:true,&#34;tickfont&#34;:{&#34;color&#34;:&#34;rgba(77,77,77,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;tickangle&#34;:-0,&#34;showline&#34;:false,&#34;linecolor&#34;:null,&#34;linewidth&#34;:0,&#34;showgrid&#34;:true,&#34;gridcolor&#34;:&#34;rgba(255,255,255,1)&#34;,&#34;gridwidth&#34;:0.66417600664176,&#34;zeroline&#34;:false,&#34;anchor&#34;:&#34;x&#34;,&#34;title&#34;:{&#34;text&#34;:&#34;percollege&#34;,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:14.6118721461187}},&#34;hoverformat&#34;:&#34;.2f&#34;},&#34;shapes&#34;:[{&#34;type&#34;:&#34;rect&#34;,&#34;fillcolor&#34;:null,&#34;line&#34;:{&#34;color&#34;:null,&#34;width&#34;:0,&#34;linetype&#34;:[]},&#34;yref&#34;:&#34;paper&#34;,&#34;xref&#34;:&#34;paper&#34;,&#34;x0&#34;:0,&#34;x1&#34;:1,&#34;y0&#34;:0,&#34;y1&#34;:1}],&#34;showlegend&#34;:false,&#34;legend&#34;:{&#34;bgcolor&#34;:&#34;rgba(255,255,255,1)&#34;,&#34;bordercolor&#34;:&#34;transparent&#34;,&#34;borderwidth&#34;:1.88976377952756,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895}},&#34;hovermode&#34;:&#34;closest&#34;,&#34;barmode&#34;:&#34;relative&#34;},&#34;config&#34;:{&#34;doubleClick&#34;:&#34;reset&#34;,&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;source&#34;:&#34;A&#34;,&#34;attrs&#34;:{&#34;1c7a6d6f28bc&#34;:{&#34;x&#34;:{},&#34;y&#34;:{},&#34;type&#34;:&#34;scatter&#34;}},&#34;cur_data&#34;:&#34;1c7a6d6f28bc&#34;,&#34;visdat&#34;:{&#34;1c7a6d6f28bc&#34;:[&#34;function (y) &#34;,&#34;x&#34;]},&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;The interactive version allows you to hover over the points to see the specific values. In addition, there are specific ways to interact with the figure that show up just above the figure itself. These options include, zoom, pan around the image, toggle spike lines, save a png static image, compare points on hover, etc. There are also options to select data points, these are most useful when you link plots together in web-based applications so that a single image can be used to select the points that will show up in subsequent figures. This will be explored in more detail later.&lt;/p&gt;
&lt;div id=&#34;customized-interactive-plot&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Customized Interactive Plot&lt;/h3&gt;
&lt;p&gt;This is an example of a customized interactive plot to show that the &lt;code&gt;ggplotly()&lt;/code&gt; function does a great job of translating a figure that has been customized by adding a color aesthetic, custom axis labels and breaks, and applying a new theme. &lt;code&gt;ggplotly()&lt;/code&gt; can handle all of these manipulations which makes it highly flexible.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p &amp;lt;- ggplot(midwest, 
       aes(x = popdensity, y = percollege, color = state)) +
  geom_point() + 
  scale_x_continuous(&amp;quot;Population Density&amp;quot;, 
                     breaks = seq(0, 80000, 20000)) + 
  scale_y_continuous(&amp;quot;Percent College Graduates&amp;quot;) + 
  scale_color_discrete(&amp;quot;State&amp;quot;) + 
  theme_bw()
ggplotly(p)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-2&#34; style=&#34;width:864px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-2&#34;&gt;{&#34;x&#34;:{&#34;data&#34;:[{&#34;x&#34;:[1270.96154,759,681.409091,1812.11765,324.222222,713.76,313.058824,622.407407,559.875,2983.18966,819.47619,530.7,516.428571,1170.48276,1721.46667,88018.3966,748.615385,533.5,2050.84211,718.086957,778.56,39083.3,544.305556,531.428571,1132.28571,474.840909,475.833333,1612.76,732.307692,363.631579,464.151515,1243.73077,339.96,454.744681,576.555556,352,1003.11765,459.507463,1696.30556,365.827586,1121.81818,893,623.457143,567.35,10947.2759,2468.07692,2189.61111,1342.69048,18443.5,1572.25,726,799.813953,633.887097,855.5,1036.58824,5090.02778,1899.70588,3348.74286,953.58,5538.62222,1187.45714,558.521739,493,1053.71429,620.222222,523.939394,974.869565,749.463415,1102.93939,663.333333,1021.26667,4811.23684,823.538462,621.92,358.714286,198.772727,683.909091,573,960.638889,752.045455,5311.53571,6571.3,1206.86364,3497.76471,288.384615,376.266667,505.931818,384.352941,1456.12121,3171.58974,734.125,1697.25,1092.58333,581.242424,453.484848,410.5,569.724138,1467.95122,7146.26,2309.32,8430.43333,1020.40625],&#34;y&#34;:[19.6313918,11.2433076,17.0338194,17.2789539,14.475999,18.9046238,11.9173877,16.1971209,14.1076487,41.2958081,13.567226,15.1108627,13.6830103,15.3874693,25.1750412,28.0181167,16.9858076,14.5978891,32.835928,16.1959601,16.8685259,42.7688669,16.8399327,16.9356446,20.2751964,13.6029941,17.8273561,14.7056662,15.5321976,11.3675214,13.0495464,18.3778784,14.0467657,20.6605223,14.3184422,13.7735504,18.7236334,15.1666829,36.6436653,15.0256035,18.3698955,14.7583093,16.4133528,14.3524363,27.5938834,17.6409622,24.8893485,19.3436365,37.8340529,16.8995267,14.5388128,18.476678,14.5031437,17.9492226,27.9280239,28.0541488,33.8185507,19.8618556,14.0083929,19.6994744,16.4493851,17.5348837,13.5054525,14.034565,18.511502,16.4744211,19.9206186,11.723732,20.7244228,15.7185951,18.7793745,25.838414,13.5622441,22.011857,12.1742809,14.2502659,14.3687708,16.5212794,12.7412789,21.5077402,21.3007289,21.184251,15.4883463,28.9881549,14.6365422,13.0760986,15.9511699,16.8789809,19.8795753,20.0448263,17.8795898,17.0571729,24.7300469,20.4582651,15.9600242,15.6807027,15.9287398,16.5530497,24.7568609,21.0595616,22.652364,22.8052176],&#34;text&#34;:[&#34;popdensity:  1270.9615&lt;br /&gt;percollege: 19.631392&lt;br /&gt;state: IL&#34;,&#34;popdensity:   759.0000&lt;br /&gt;percollege: 11.243308&lt;br /&gt;state: IL&#34;,&#34;popdensity:   681.4091&lt;br /&gt;percollege: 17.033819&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1812.1176&lt;br /&gt;percollege: 17.278954&lt;br /&gt;state: IL&#34;,&#34;popdensity:   324.2222&lt;br /&gt;percollege: 14.475999&lt;br /&gt;state: IL&#34;,&#34;popdensity:   713.7600&lt;br /&gt;percollege: 18.904624&lt;br /&gt;state: IL&#34;,&#34;popdensity:   313.0588&lt;br /&gt;percollege: 11.917388&lt;br /&gt;state: IL&#34;,&#34;popdensity:   622.4074&lt;br /&gt;percollege: 16.197121&lt;br /&gt;state: IL&#34;,&#34;popdensity:   559.8750&lt;br /&gt;percollege: 14.107649&lt;br /&gt;state: IL&#34;,&#34;popdensity:  2983.1897&lt;br /&gt;percollege: 41.295808&lt;br /&gt;state: IL&#34;,&#34;popdensity:   819.4762&lt;br /&gt;percollege: 13.567226&lt;br /&gt;state: IL&#34;,&#34;popdensity:   530.7000&lt;br /&gt;percollege: 15.110863&lt;br /&gt;state: IL&#34;,&#34;popdensity:   516.4286&lt;br /&gt;percollege: 13.683010&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1170.4828&lt;br /&gt;percollege: 15.387469&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1721.4667&lt;br /&gt;percollege: 25.175041&lt;br /&gt;state: IL&#34;,&#34;popdensity: 88018.3966&lt;br /&gt;percollege: 28.018117&lt;br /&gt;state: IL&#34;,&#34;popdensity:   748.6154&lt;br /&gt;percollege: 16.985808&lt;br /&gt;state: IL&#34;,&#34;popdensity:   533.5000&lt;br /&gt;percollege: 14.597889&lt;br /&gt;state: IL&#34;,&#34;popdensity:  2050.8421&lt;br /&gt;percollege: 32.835928&lt;br /&gt;state: IL&#34;,&#34;popdensity:   718.0870&lt;br /&gt;percollege: 16.195960&lt;br /&gt;state: IL&#34;,&#34;popdensity:   778.5600&lt;br /&gt;percollege: 16.868526&lt;br /&gt;state: IL&#34;,&#34;popdensity: 39083.3000&lt;br /&gt;percollege: 42.768867&lt;br /&gt;state: IL&#34;,&#34;popdensity:   544.3056&lt;br /&gt;percollege: 16.839933&lt;br /&gt;state: IL&#34;,&#34;popdensity:   531.4286&lt;br /&gt;percollege: 16.935645&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1132.2857&lt;br /&gt;percollege: 20.275196&lt;br /&gt;state: IL&#34;,&#34;popdensity:   474.8409&lt;br /&gt;percollege: 13.602994&lt;br /&gt;state: IL&#34;,&#34;popdensity:   475.8333&lt;br /&gt;percollege: 17.827356&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1612.7600&lt;br /&gt;percollege: 14.705666&lt;br /&gt;state: IL&#34;,&#34;popdensity:   732.3077&lt;br /&gt;percollege: 15.532198&lt;br /&gt;state: IL&#34;,&#34;popdensity:   363.6316&lt;br /&gt;percollege: 11.367521&lt;br /&gt;state: IL&#34;,&#34;popdensity:   464.1515&lt;br /&gt;percollege: 13.049546&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1243.7308&lt;br /&gt;percollege: 18.377878&lt;br /&gt;state: IL&#34;,&#34;popdensity:   339.9600&lt;br /&gt;percollege: 14.046766&lt;br /&gt;state: IL&#34;,&#34;popdensity:   454.7447&lt;br /&gt;percollege: 20.660522&lt;br /&gt;state: IL&#34;,&#34;popdensity:   576.5556&lt;br /&gt;percollege: 14.318442&lt;br /&gt;state: IL&#34;,&#34;popdensity:   352.0000&lt;br /&gt;percollege: 13.773550&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1003.1177&lt;br /&gt;percollege: 18.723633&lt;br /&gt;state: IL&#34;,&#34;popdensity:   459.5075&lt;br /&gt;percollege: 15.166683&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1696.3056&lt;br /&gt;percollege: 36.643665&lt;br /&gt;state: IL&#34;,&#34;popdensity:   365.8276&lt;br /&gt;percollege: 15.025604&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1121.8182&lt;br /&gt;percollege: 18.369895&lt;br /&gt;state: IL&#34;,&#34;popdensity:   893.0000&lt;br /&gt;percollege: 14.758309&lt;br /&gt;state: IL&#34;,&#34;popdensity:   623.4571&lt;br /&gt;percollege: 16.413353&lt;br /&gt;state: IL&#34;,&#34;popdensity:   567.3500&lt;br /&gt;percollege: 14.352436&lt;br /&gt;state: IL&#34;,&#34;popdensity: 10947.2759&lt;br /&gt;percollege: 27.593883&lt;br /&gt;state: IL&#34;,&#34;popdensity:  2468.0769&lt;br /&gt;percollege: 17.640962&lt;br /&gt;state: IL&#34;,&#34;popdensity:  2189.6111&lt;br /&gt;percollege: 24.889349&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1342.6905&lt;br /&gt;percollege: 19.343636&lt;br /&gt;state: IL&#34;,&#34;popdensity: 18443.5000&lt;br /&gt;percollege: 37.834053&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1572.2500&lt;br /&gt;percollege: 16.899527&lt;br /&gt;state: IL&#34;,&#34;popdensity:   726.0000&lt;br /&gt;percollege: 14.538813&lt;br /&gt;state: IL&#34;,&#34;popdensity:   799.8140&lt;br /&gt;percollege: 18.476678&lt;br /&gt;state: IL&#34;,&#34;popdensity:   633.8871&lt;br /&gt;percollege: 14.503144&lt;br /&gt;state: IL&#34;,&#34;popdensity:   855.5000&lt;br /&gt;percollege: 17.949223&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1036.5882&lt;br /&gt;percollege: 27.928024&lt;br /&gt;state: IL&#34;,&#34;popdensity:  5090.0278&lt;br /&gt;percollege: 28.054149&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1899.7059&lt;br /&gt;percollege: 33.818551&lt;br /&gt;state: IL&#34;,&#34;popdensity:  3348.7429&lt;br /&gt;percollege: 19.861856&lt;br /&gt;state: IL&#34;,&#34;popdensity:   953.5800&lt;br /&gt;percollege: 14.008393&lt;br /&gt;state: IL&#34;,&#34;popdensity:  5538.6222&lt;br /&gt;percollege: 19.699474&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1187.4571&lt;br /&gt;percollege: 16.449385&lt;br /&gt;state: IL&#34;,&#34;popdensity:   558.5217&lt;br /&gt;percollege: 17.534884&lt;br /&gt;state: IL&#34;,&#34;popdensity:   493.0000&lt;br /&gt;percollege: 13.505453&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1053.7143&lt;br /&gt;percollege: 14.034565&lt;br /&gt;state: IL&#34;,&#34;popdensity:   620.2222&lt;br /&gt;percollege: 18.511502&lt;br /&gt;state: IL&#34;,&#34;popdensity:   523.9394&lt;br /&gt;percollege: 16.474421&lt;br /&gt;state: IL&#34;,&#34;popdensity:   974.8696&lt;br /&gt;percollege: 19.920619&lt;br /&gt;state: IL&#34;,&#34;popdensity:   749.4634&lt;br /&gt;percollege: 11.723732&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1102.9394&lt;br /&gt;percollege: 20.724423&lt;br /&gt;state: IL&#34;,&#34;popdensity:   663.3333&lt;br /&gt;percollege: 15.718595&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1021.2667&lt;br /&gt;percollege: 18.779374&lt;br /&gt;state: IL&#34;,&#34;popdensity:  4811.2368&lt;br /&gt;percollege: 25.838414&lt;br /&gt;state: IL&#34;,&#34;popdensity:   823.5385&lt;br /&gt;percollege: 13.562244&lt;br /&gt;state: IL&#34;,&#34;popdensity:   621.9200&lt;br /&gt;percollege: 22.011857&lt;br /&gt;state: IL&#34;,&#34;popdensity:   358.7143&lt;br /&gt;percollege: 12.174281&lt;br /&gt;state: IL&#34;,&#34;popdensity:   198.7727&lt;br /&gt;percollege: 14.250266&lt;br /&gt;state: IL&#34;,&#34;popdensity:   683.9091&lt;br /&gt;percollege: 14.368771&lt;br /&gt;state: IL&#34;,&#34;popdensity:   573.0000&lt;br /&gt;percollege: 16.521279&lt;br /&gt;state: IL&#34;,&#34;popdensity:   960.6389&lt;br /&gt;percollege: 12.741279&lt;br /&gt;state: IL&#34;,&#34;popdensity:   752.0455&lt;br /&gt;percollege: 21.507740&lt;br /&gt;state: IL&#34;,&#34;popdensity:  5311.5357&lt;br /&gt;percollege: 21.300729&lt;br /&gt;state: IL&#34;,&#34;popdensity:  6571.3000&lt;br /&gt;percollege: 21.184251&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1206.8636&lt;br /&gt;percollege: 15.488346&lt;br /&gt;state: IL&#34;,&#34;popdensity:  3497.7647&lt;br /&gt;percollege: 28.988155&lt;br /&gt;state: IL&#34;,&#34;popdensity:   288.3846&lt;br /&gt;percollege: 14.636542&lt;br /&gt;state: IL&#34;,&#34;popdensity:   376.2667&lt;br /&gt;percollege: 13.076099&lt;br /&gt;state: IL&#34;,&#34;popdensity:   505.9318&lt;br /&gt;percollege: 15.951170&lt;br /&gt;state: IL&#34;,&#34;popdensity:   384.3529&lt;br /&gt;percollege: 16.878981&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1456.1212&lt;br /&gt;percollege: 19.879575&lt;br /&gt;state: IL&#34;,&#34;popdensity:  3171.5897&lt;br /&gt;percollege: 20.044826&lt;br /&gt;state: IL&#34;,&#34;popdensity:   734.1250&lt;br /&gt;percollege: 17.879590&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1697.2500&lt;br /&gt;percollege: 17.057173&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1092.5833&lt;br /&gt;percollege: 24.730047&lt;br /&gt;state: IL&#34;,&#34;popdensity:   581.2424&lt;br /&gt;percollege: 20.458265&lt;br /&gt;state: IL&#34;,&#34;popdensity:   453.4848&lt;br /&gt;percollege: 15.960024&lt;br /&gt;state: IL&#34;,&#34;popdensity:   410.5000&lt;br /&gt;percollege: 15.680703&lt;br /&gt;state: IL&#34;,&#34;popdensity:   569.7241&lt;br /&gt;percollege: 15.928740&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1467.9512&lt;br /&gt;percollege: 16.553050&lt;br /&gt;state: IL&#34;,&#34;popdensity:  7146.2600&lt;br /&gt;percollege: 24.756861&lt;br /&gt;state: IL&#34;,&#34;popdensity:  2309.3200&lt;br /&gt;percollege: 21.059562&lt;br /&gt;state: IL&#34;,&#34;popdensity:  8430.4333&lt;br /&gt;percollege: 22.652364&lt;br /&gt;state: IL&#34;,&#34;popdensity:  1020.4062&lt;br /&gt;percollege: 22.805218&lt;br /&gt;state: IL&#34;],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;marker&#34;:{&#34;autocolorscale&#34;:false,&#34;color&#34;:&#34;rgba(248,118,109,1)&#34;,&#34;opacity&#34;:1,&#34;size&#34;:5.66929133858268,&#34;symbol&#34;:&#34;circle&#34;,&#34;line&#34;:{&#34;width&#34;:1.88976377952756,&#34;color&#34;:&#34;rgba(248,118,109,1)&#34;}},&#34;hoveron&#34;:&#34;points&#34;,&#34;name&#34;:&#34;IL&#34;,&#34;legendgroup&#34;:&#34;IL&#34;,&#34;showlegend&#34;:true,&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;hoverinfo&#34;:&#34;text&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[1480.71429,7337.46341,2893.5,393.375,1406.7,1589.45833,741.052632,854.954545,1600.54167,3989.86364,1176.42857,1346.69565,550.777778,1058.96154,2043.94737,1074.77273,1605.63636,5202.56522,1408.30769,5785.11111,2167.91667,7156,712.32,851.304348,897.142857,1100.44828,3090.375,921.515152,4539,2678.05882,1067.5,3154.875,2005.79167,5051.6875,1540.30435,1257.66667,734.117647,977.818182,1418.90476,1126.71429,4894.94444,1286.58065,2040.4375,1339.86364,15853.1333,2974.05556,1586.51852,5025.73077,34659.087,1622.38462,493.761905,1537.375,4540.75,1147.86667,2330,564.625,1515.08,1063,800.391304,751.347826,570.740741,868.5,625.45,4958.92308,1038.72,486.269231,1045.34483,1044.15385,984.64,788.217391,8823.28571,1908.27273,1679.45833,812.083333,1197.21053,1306.95238,703.444444,595.230769,4353.26667,1007.4375,697.6,12696.7692,1048.3125,4421.125,1524.73913,389.333333,1953.04348,790.566667,2997.95833,1235.61905,775.5,1382.55],&#34;y&#34;:[16.1156797,27.3597862,22.8468145,13.4643978,12.9819635,27.8306241,19.8002103,15.4562536,13.2149823,16.8123574,14.1137248,16.045283,8.54375099,13.2391267,15.5742757,13.9213675,15.581854,21.1970145,17.1676628,18.3723425,11.4249881,20.5498928,11.1452991,12.9935988,13.929867,15.50432,15.5381671,14.9522958,42.1311499,20.4899394,13.1074407,24.2200345,13.2576823,20.2298144,16.9731386,13.1423129,14.8558462,12.771798,17.5460903,10.1458975,22.308069,19.9757478,19.2629151,11.1118012,17.6686138,17.1792531,13.1476522,16.401998,26.7446886,17.7775263,13.5396226,14.4075703,37.7422954,16.9252277,14.6798142,12.1746236,12.6387629,10.7029216,9.78827088,11.1649179,14.6129001,11.0422948,13.842852,24.455887,17.2106825,14.1710559,15.734664,12.6200972,13.5281456,12.8463697,24.611669,10.5895865,14.7000195,14.1338236,10.0140252,18.6080204,15.4816696,9.47158524,36.2454446,15.4219389,12.6449852,21.7585174,12.2726866,22.7230118,16.0805162,13.399963,23.8155668,10.8145974,15.5891252,18.5655038,16.5838347,15.809776],&#34;text&#34;:[&#34;popdensity:  1480.7143&lt;br /&gt;percollege: 16.115680&lt;br /&gt;state: IN&#34;,&#34;popdensity:  7337.4634&lt;br /&gt;percollege: 27.359786&lt;br /&gt;state: IN&#34;,&#34;popdensity:  2893.5000&lt;br /&gt;percollege: 22.846815&lt;br /&gt;state: IN&#34;,&#34;popdensity:   393.3750&lt;br /&gt;percollege: 13.464398&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1406.7000&lt;br /&gt;percollege: 12.981964&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1589.4583&lt;br /&gt;percollege: 27.830624&lt;br /&gt;state: IN&#34;,&#34;popdensity:   741.0526&lt;br /&gt;percollege: 19.800210&lt;br /&gt;state: IN&#34;,&#34;popdensity:   854.9545&lt;br /&gt;percollege: 15.456254&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1600.5417&lt;br /&gt;percollege: 13.214982&lt;br /&gt;state: IN&#34;,&#34;popdensity:  3989.8636&lt;br /&gt;percollege: 16.812357&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1176.4286&lt;br /&gt;percollege: 14.113725&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1346.6956&lt;br /&gt;percollege: 16.045283&lt;br /&gt;state: IN&#34;,&#34;popdensity:   550.7778&lt;br /&gt;percollege:  8.543751&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1058.9615&lt;br /&gt;percollege: 13.239127&lt;br /&gt;state: IN&#34;,&#34;popdensity:  2043.9474&lt;br /&gt;percollege: 15.574276&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1074.7727&lt;br /&gt;percollege: 13.921368&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1605.6364&lt;br /&gt;percollege: 15.581854&lt;br /&gt;state: IN&#34;,&#34;popdensity:  5202.5652&lt;br /&gt;percollege: 21.197015&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1408.3077&lt;br /&gt;percollege: 17.167663&lt;br /&gt;state: IN&#34;,&#34;popdensity:  5785.1111&lt;br /&gt;percollege: 18.372342&lt;br /&gt;state: IN&#34;,&#34;popdensity:  2167.9167&lt;br /&gt;percollege: 11.424988&lt;br /&gt;state: IN&#34;,&#34;popdensity:  7156.0000&lt;br /&gt;percollege: 20.549893&lt;br /&gt;state: IN&#34;,&#34;popdensity:   712.3200&lt;br /&gt;percollege: 11.145299&lt;br /&gt;state: IN&#34;,&#34;popdensity:   851.3043&lt;br /&gt;percollege: 12.993599&lt;br /&gt;state: IN&#34;,&#34;popdensity:   897.1429&lt;br /&gt;percollege: 13.929867&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1100.4483&lt;br /&gt;percollege: 15.504320&lt;br /&gt;state: IN&#34;,&#34;popdensity:  3090.3750&lt;br /&gt;percollege: 15.538167&lt;br /&gt;state: IN&#34;,&#34;popdensity:   921.5152&lt;br /&gt;percollege: 14.952296&lt;br /&gt;state: IN&#34;,&#34;popdensity:  4539.0000&lt;br /&gt;percollege: 42.131150&lt;br /&gt;state: IN&#34;,&#34;popdensity:  2678.0588&lt;br /&gt;percollege: 20.489939&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1067.5000&lt;br /&gt;percollege: 13.107441&lt;br /&gt;state: IN&#34;,&#34;popdensity:  3154.8750&lt;br /&gt;percollege: 24.220035&lt;br /&gt;state: IN&#34;,&#34;popdensity:  2005.7917&lt;br /&gt;percollege: 13.257682&lt;br /&gt;state: IN&#34;,&#34;popdensity:  5051.6875&lt;br /&gt;percollege: 20.229814&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1540.3044&lt;br /&gt;percollege: 16.973139&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1257.6667&lt;br /&gt;percollege: 13.142313&lt;br /&gt;state: IN&#34;,&#34;popdensity:   734.1176&lt;br /&gt;percollege: 14.855846&lt;br /&gt;state: IN&#34;,&#34;popdensity:   977.8182&lt;br /&gt;percollege: 12.771798&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1418.9048&lt;br /&gt;percollege: 17.546090&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1126.7143&lt;br /&gt;percollege: 10.145898&lt;br /&gt;state: IN&#34;,&#34;popdensity:  4894.9444&lt;br /&gt;percollege: 22.308069&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1286.5807&lt;br /&gt;percollege: 19.975748&lt;br /&gt;state: IN&#34;,&#34;popdensity:  2040.4375&lt;br /&gt;percollege: 19.262915&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1339.8636&lt;br /&gt;percollege: 11.111801&lt;br /&gt;state: IN&#34;,&#34;popdensity: 15853.1333&lt;br /&gt;percollege: 17.668614&lt;br /&gt;state: IN&#34;,&#34;popdensity:  2974.0556&lt;br /&gt;percollege: 17.179253&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1586.5185&lt;br /&gt;percollege: 13.147652&lt;br /&gt;state: IN&#34;,&#34;popdensity:  5025.7308&lt;br /&gt;percollege: 16.401998&lt;br /&gt;state: IN&#34;,&#34;popdensity: 34659.0870&lt;br /&gt;percollege: 26.744689&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1622.3846&lt;br /&gt;percollege: 17.777526&lt;br /&gt;state: IN&#34;,&#34;popdensity:   493.7619&lt;br /&gt;percollege: 13.539623&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1537.3750&lt;br /&gt;percollege: 14.407570&lt;br /&gt;state: IN&#34;,&#34;popdensity:  4540.7500&lt;br /&gt;percollege: 37.742295&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1147.8667&lt;br /&gt;percollege: 16.925228&lt;br /&gt;state: IN&#34;,&#34;popdensity:  2330.0000&lt;br /&gt;percollege: 14.679814&lt;br /&gt;state: IN&#34;,&#34;popdensity:   564.6250&lt;br /&gt;percollege: 12.174624&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1515.0800&lt;br /&gt;percollege: 12.638763&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1063.0000&lt;br /&gt;percollege: 10.702922&lt;br /&gt;state: IN&#34;,&#34;popdensity:   800.3913&lt;br /&gt;percollege:  9.788271&lt;br /&gt;state: IN&#34;,&#34;popdensity:   751.3478&lt;br /&gt;percollege: 11.164918&lt;br /&gt;state: IN&#34;,&#34;popdensity:   570.7407&lt;br /&gt;percollege: 14.612900&lt;br /&gt;state: IN&#34;,&#34;popdensity:   868.5000&lt;br /&gt;percollege: 11.042295&lt;br /&gt;state: IN&#34;,&#34;popdensity:   625.4500&lt;br /&gt;percollege: 13.842852&lt;br /&gt;state: IN&#34;,&#34;popdensity:  4958.9231&lt;br /&gt;percollege: 24.455887&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1038.7200&lt;br /&gt;percollege: 17.210683&lt;br /&gt;state: IN&#34;,&#34;popdensity:   486.2692&lt;br /&gt;percollege: 14.171056&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1045.3448&lt;br /&gt;percollege: 15.734664&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1044.1538&lt;br /&gt;percollege: 12.620097&lt;br /&gt;state: IN&#34;,&#34;popdensity:   984.6400&lt;br /&gt;percollege: 13.528146&lt;br /&gt;state: IN&#34;,&#34;popdensity:   788.2174&lt;br /&gt;percollege: 12.846370&lt;br /&gt;state: IN&#34;,&#34;popdensity:  8823.2857&lt;br /&gt;percollege: 24.611669&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1908.2727&lt;br /&gt;percollege: 10.589586&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1679.4583&lt;br /&gt;percollege: 14.700019&lt;br /&gt;state: IN&#34;,&#34;popdensity:   812.0833&lt;br /&gt;percollege: 14.133824&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1197.2105&lt;br /&gt;percollege: 10.014025&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1306.9524&lt;br /&gt;percollege: 18.608020&lt;br /&gt;state: IN&#34;,&#34;popdensity:   703.4444&lt;br /&gt;percollege: 15.481670&lt;br /&gt;state: IN&#34;,&#34;popdensity:   595.2308&lt;br /&gt;percollege:  9.471585&lt;br /&gt;state: IN&#34;,&#34;popdensity:  4353.2667&lt;br /&gt;percollege: 36.245445&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1007.4375&lt;br /&gt;percollege: 15.421939&lt;br /&gt;state: IN&#34;,&#34;popdensity:   697.6000&lt;br /&gt;percollege: 12.644985&lt;br /&gt;state: IN&#34;,&#34;popdensity: 12696.7692&lt;br /&gt;percollege: 21.758517&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1048.3125&lt;br /&gt;percollege: 12.272687&lt;br /&gt;state: IN&#34;,&#34;popdensity:  4421.1250&lt;br /&gt;percollege: 22.723012&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1524.7391&lt;br /&gt;percollege: 16.080516&lt;br /&gt;state: IN&#34;,&#34;popdensity:   389.3333&lt;br /&gt;percollege: 13.399963&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1953.0435&lt;br /&gt;percollege: 23.815567&lt;br /&gt;state: IN&#34;,&#34;popdensity:   790.5667&lt;br /&gt;percollege: 10.814597&lt;br /&gt;state: IN&#34;,&#34;popdensity:  2997.9583&lt;br /&gt;percollege: 15.589125&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1235.6191&lt;br /&gt;percollege: 18.565504&lt;br /&gt;state: IN&#34;,&#34;popdensity:   775.5000&lt;br /&gt;percollege: 16.583835&lt;br /&gt;state: IN&#34;,&#34;popdensity:  1382.5500&lt;br /&gt;percollege: 15.809776&lt;br /&gt;state: IN&#34;],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;marker&#34;:{&#34;autocolorscale&#34;:false,&#34;color&#34;:&#34;rgba(163,165,0,1)&#34;,&#34;opacity&#34;:1,&#34;size&#34;:5.66929133858268,&#34;symbol&#34;:&#34;circle&#34;,&#34;line&#34;:{&#34;width&#34;:1.88976377952756,&#34;color&#34;:&#34;rgba(163,165,0,1)&#34;}},&#34;hoveron&#34;:&#34;points&#34;,&#34;name&#34;:&#34;IN&#34;,&#34;legendgroup&#34;:&#34;IN&#34;,&#34;showlegend&#34;:true,&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;hoverinfo&#34;:&#34;text&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[247.439024,175.921569,1847.12245,900.147059,586.612903,711,147.296296,1472.26471,4297.03846,610,4890.24242,1431.10345,3237.66667,1649.23333,975.818182,445.791667,443.641026,733.882353,1702.44118,360.588235,547.536232,583.282609,2731.73529,927.407407,11634.027,706.322581,265.470588,2142.43333,1181.27273,1277.38235,590.766667,699.02,8291.52941,1677.17647,915.424242,188.214286,1606.58824,3482.69767,6770.0303,409,10012.62,85.05,245.228571,1967.57895,787,2127.34884,3401.32353,104.781818,180.915254,25621.4286,664.53125,644.427273,880.586207,1097.29412,389.375,2440.35484,368.090909,4048.48485,1263.30952,270.787879,5677.96429,749.058824,19701.6727,748.466667,583.78125,113.512821,592.529412,237.636364,579.258065,5689.93939,327.214286,581.647059,4415.54167,3640.175,2031.48276,713,110.693333,2250.64516,1156.20833,1893.51351,6900.90244,60333.9143,775.294118],&#34;y&#34;:[14.1150923,16.2755866,18.0660208,18.9337962,19.039803,11.8278471,14.5760743,17.2519754,18.2258245,21.4208568,23.742011,16.066702,21.4885192,15.8443516,22.6527251,14.6477089,16.9397657,12.0419487,22.8647363,18.7787018,18.912404,20.4206544,26.9787819,26.8725681,20.1454244,11.4331387,21.1730815,30.9753249,16.4441292,16.4684698,24.7650877,14.3082727,36.7600619,15.116835,16.2342399,15.4575777,27.2497358,21.2057826,34.5571857,11.4555097,28.6383762,14.4522145,11.3134379,16.1542355,32.5963872,18.7880617,27.5866359,14.4056678,15.2878703,20.6866911,16.2528217,26.763554,18.5401286,25.0460405,15.084171,35.6088365,13.280021,17.4296096,14.160017,13.4575569,19.0433213,15.6946934,36.9635114,16.9024096,11.6568382,15.9567602,13.6658394,12.9210381,20.0211305,26.9656935,13.8933764,13.363353,19.7081294,17.641192,17.0117257,13.7970398,14.5667198,17.2912268,14.1243101,17.8047443,48.0785102,19.4104036,18.2322106],&#34;text&#34;:[&#34;popdensity:   247.4390&lt;br /&gt;percollege: 14.115092&lt;br /&gt;state: MI&#34;,&#34;popdensity:   175.9216&lt;br /&gt;percollege: 16.275587&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1847.1225&lt;br /&gt;percollege: 18.066021&lt;br /&gt;state: MI&#34;,&#34;popdensity:   900.1471&lt;br /&gt;percollege: 18.933796&lt;br /&gt;state: MI&#34;,&#34;popdensity:   586.6129&lt;br /&gt;percollege: 19.039803&lt;br /&gt;state: MI&#34;,&#34;popdensity:   711.0000&lt;br /&gt;percollege: 11.827847&lt;br /&gt;state: MI&#34;,&#34;popdensity:   147.2963&lt;br /&gt;percollege: 14.576074&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1472.2647&lt;br /&gt;percollege: 17.251975&lt;br /&gt;state: MI&#34;,&#34;popdensity:  4297.0385&lt;br /&gt;percollege: 18.225825&lt;br /&gt;state: MI&#34;,&#34;popdensity:   610.0000&lt;br /&gt;percollege: 21.420857&lt;br /&gt;state: MI&#34;,&#34;popdensity:  4890.2424&lt;br /&gt;percollege: 23.742011&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1431.1035&lt;br /&gt;percollege: 16.066702&lt;br /&gt;state: MI&#34;,&#34;popdensity:  3237.6667&lt;br /&gt;percollege: 21.488519&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1649.2333&lt;br /&gt;percollege: 15.844352&lt;br /&gt;state: MI&#34;,&#34;popdensity:   975.8182&lt;br /&gt;percollege: 22.652725&lt;br /&gt;state: MI&#34;,&#34;popdensity:   445.7917&lt;br /&gt;percollege: 14.647709&lt;br /&gt;state: MI&#34;,&#34;popdensity:   443.6410&lt;br /&gt;percollege: 16.939766&lt;br /&gt;state: MI&#34;,&#34;popdensity:   733.8824&lt;br /&gt;percollege: 12.041949&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1702.4412&lt;br /&gt;percollege: 22.864736&lt;br /&gt;state: MI&#34;,&#34;popdensity:   360.5882&lt;br /&gt;percollege: 18.778702&lt;br /&gt;state: MI&#34;,&#34;popdensity:   547.5362&lt;br /&gt;percollege: 18.912404&lt;br /&gt;state: MI&#34;,&#34;popdensity:   583.2826&lt;br /&gt;percollege: 20.420654&lt;br /&gt;state: MI&#34;,&#34;popdensity:  2731.7353&lt;br /&gt;percollege: 26.978782&lt;br /&gt;state: MI&#34;,&#34;popdensity:   927.4074&lt;br /&gt;percollege: 26.872568&lt;br /&gt;state: MI&#34;,&#34;popdensity: 11634.0270&lt;br /&gt;percollege: 20.145424&lt;br /&gt;state: MI&#34;,&#34;popdensity:   706.3226&lt;br /&gt;percollege: 11.433139&lt;br /&gt;state: MI&#34;,&#34;popdensity:   265.4706&lt;br /&gt;percollege: 21.173081&lt;br /&gt;state: MI&#34;,&#34;popdensity:  2142.4333&lt;br /&gt;percollege: 30.975325&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1181.2727&lt;br /&gt;percollege: 16.444129&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1277.3824&lt;br /&gt;percollege: 16.468470&lt;br /&gt;state: MI&#34;,&#34;popdensity:   590.7667&lt;br /&gt;percollege: 24.765088&lt;br /&gt;state: MI&#34;,&#34;popdensity:   699.0200&lt;br /&gt;percollege: 14.308273&lt;br /&gt;state: MI&#34;,&#34;popdensity:  8291.5294&lt;br /&gt;percollege: 36.760062&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1677.1765&lt;br /&gt;percollege: 15.116835&lt;br /&gt;state: MI&#34;,&#34;popdensity:   915.4242&lt;br /&gt;percollege: 16.234240&lt;br /&gt;state: MI&#34;,&#34;popdensity:   188.2143&lt;br /&gt;percollege: 15.457578&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1606.5882&lt;br /&gt;percollege: 27.249736&lt;br /&gt;state: MI&#34;,&#34;popdensity:  3482.6977&lt;br /&gt;percollege: 21.205783&lt;br /&gt;state: MI&#34;,&#34;popdensity:  6770.0303&lt;br /&gt;percollege: 34.557186&lt;br /&gt;state: MI&#34;,&#34;popdensity:   409.0000&lt;br /&gt;percollege: 11.455510&lt;br /&gt;state: MI&#34;,&#34;popdensity: 10012.6200&lt;br /&gt;percollege: 28.638376&lt;br /&gt;state: MI&#34;,&#34;popdensity:    85.0500&lt;br /&gt;percollege: 14.452215&lt;br /&gt;state: MI&#34;,&#34;popdensity:   245.2286&lt;br /&gt;percollege: 11.313438&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1967.5790&lt;br /&gt;percollege: 16.154235&lt;br /&gt;state: MI&#34;,&#34;popdensity:   787.0000&lt;br /&gt;percollege: 32.596387&lt;br /&gt;state: MI&#34;,&#34;popdensity:  2127.3488&lt;br /&gt;percollege: 18.788062&lt;br /&gt;state: MI&#34;,&#34;popdensity:  3401.3235&lt;br /&gt;percollege: 27.586636&lt;br /&gt;state: MI&#34;,&#34;popdensity:   104.7818&lt;br /&gt;percollege: 14.405668&lt;br /&gt;state: MI&#34;,&#34;popdensity:   180.9153&lt;br /&gt;percollege: 15.287870&lt;br /&gt;state: MI&#34;,&#34;popdensity: 25621.4286&lt;br /&gt;percollege: 20.686691&lt;br /&gt;state: MI&#34;,&#34;popdensity:   664.5312&lt;br /&gt;percollege: 16.252822&lt;br /&gt;state: MI&#34;,&#34;popdensity:   644.4273&lt;br /&gt;percollege: 26.763554&lt;br /&gt;state: MI&#34;,&#34;popdensity:   880.5862&lt;br /&gt;percollege: 18.540129&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1097.2941&lt;br /&gt;percollege: 25.046041&lt;br /&gt;state: MI&#34;,&#34;popdensity:   389.3750&lt;br /&gt;percollege: 15.084171&lt;br /&gt;state: MI&#34;,&#34;popdensity:  2440.3548&lt;br /&gt;percollege: 35.608837&lt;br /&gt;state: MI&#34;,&#34;popdensity:   368.0909&lt;br /&gt;percollege: 13.280021&lt;br /&gt;state: MI&#34;,&#34;popdensity:  4048.4848&lt;br /&gt;percollege: 17.429610&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1263.3095&lt;br /&gt;percollege: 14.160017&lt;br /&gt;state: MI&#34;,&#34;popdensity:   270.7879&lt;br /&gt;percollege: 13.457557&lt;br /&gt;state: MI&#34;,&#34;popdensity:  5677.9643&lt;br /&gt;percollege: 19.043321&lt;br /&gt;state: MI&#34;,&#34;popdensity:   749.0588&lt;br /&gt;percollege: 15.694693&lt;br /&gt;state: MI&#34;,&#34;popdensity: 19701.6727&lt;br /&gt;percollege: 36.963511&lt;br /&gt;state: MI&#34;,&#34;popdensity:   748.4667&lt;br /&gt;percollege: 16.902410&lt;br /&gt;state: MI&#34;,&#34;popdensity:   583.7812&lt;br /&gt;percollege: 11.656838&lt;br /&gt;state: MI&#34;,&#34;popdensity:   113.5128&lt;br /&gt;percollege: 15.956760&lt;br /&gt;state: MI&#34;,&#34;popdensity:   592.5294&lt;br /&gt;percollege: 13.665839&lt;br /&gt;state: MI&#34;,&#34;popdensity:   237.6364&lt;br /&gt;percollege: 12.921038&lt;br /&gt;state: MI&#34;,&#34;popdensity:   579.2581&lt;br /&gt;percollege: 20.021131&lt;br /&gt;state: MI&#34;,&#34;popdensity:  5689.9394&lt;br /&gt;percollege: 26.965694&lt;br /&gt;state: MI&#34;,&#34;popdensity:   327.2143&lt;br /&gt;percollege: 13.893376&lt;br /&gt;state: MI&#34;,&#34;popdensity:   581.6471&lt;br /&gt;percollege: 13.363353&lt;br /&gt;state: MI&#34;,&#34;popdensity:  4415.5417&lt;br /&gt;percollege: 19.708129&lt;br /&gt;state: MI&#34;,&#34;popdensity:  3640.1750&lt;br /&gt;percollege: 17.641192&lt;br /&gt;state: MI&#34;,&#34;popdensity:  2031.4828&lt;br /&gt;percollege: 17.011726&lt;br /&gt;state: MI&#34;,&#34;popdensity:   713.0000&lt;br /&gt;percollege: 13.797040&lt;br /&gt;state: MI&#34;,&#34;popdensity:   110.6933&lt;br /&gt;percollege: 14.566720&lt;br /&gt;state: MI&#34;,&#34;popdensity:  2250.6452&lt;br /&gt;percollege: 17.291227&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1156.2083&lt;br /&gt;percollege: 14.124310&lt;br /&gt;state: MI&#34;,&#34;popdensity:  1893.5135&lt;br /&gt;percollege: 17.804744&lt;br /&gt;state: MI&#34;,&#34;popdensity:  6900.9024&lt;br /&gt;percollege: 48.078510&lt;br /&gt;state: MI&#34;,&#34;popdensity: 60333.9143&lt;br /&gt;percollege: 19.410404&lt;br /&gt;state: MI&#34;,&#34;popdensity:   775.2941&lt;br /&gt;percollege: 18.232211&lt;br /&gt;state: MI&#34;],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;marker&#34;:{&#34;autocolorscale&#34;:false,&#34;color&#34;:&#34;rgba(0,191,125,1)&#34;,&#34;opacity&#34;:1,&#34;size&#34;:5.66929133858268,&#34;symbol&#34;:&#34;circle&#34;,&#34;line&#34;:{&#34;width&#34;:1.88976377952756,&#34;color&#34;:&#34;rgba(0,191,125,1)&#34;}},&#34;hoveron&#34;:&#34;points&#34;,&#34;name&#34;:&#34;MI&#34;,&#34;legendgroup&#34;:&#34;MI&#34;,&#34;showlegend&#34;:true,&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;hoverinfo&#34;:&#34;text&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[724.885714,4573.125,1900.28,2434.65854,1984.96667,1857.70833,2292.70968,1248.78571,10409.9643,1105.04167,1385.34615,6147.83333,5776.42308,1475.625,3492.77419,1041.97059,2081.30435,54313.0769,1489.41667,1710.86957,2478.85185,5484.21429,3567.62069,1144.41667,28277.5588,1539.92,1190.53846,3380.375,5469.24,1219.5,34649.12,2114.06452,1111.10714,643.4,1164.32,1050.82353,1063.875,1313.96,1874.66667,1259.58333,3649.90909,1582.43333,16576.8462,2378.23077,3207.5,1567.03704,9349.17241,22017.1905,1323.85714,11033.5833,2678.08333,4894.16,919.48,1408.67857,3882.58333,596.038462,21252.1852,567.76,1156.20833,2001.65854,472.333333,2501.8125,819.52,1372.04348,1608.5,932.653846,4752.83333,1604.52,1166.17241,4349.55172,1690.97561,2581.79167,2295.05714,1810.09091,1796.6,10811.3235,21457.9167,6157.10811,2473.23529,1229.57692,1269.33333,462.416667,4952.56522,1638.26316,3074.57576,1478.24,3061.32432,927.25],&#34;y&#34;:[8.74173036,17.3660604,17.2669455,13.2435395,29.1494085,16.1764706,14.1576729,11.4336901,24.2252343,11.323289,13.9121748,17.784992,19.6893454,15.7631208,13.0905778,11.6793426,14.258027,25.0853882,13.475094,18.1881619,31.5940573,18.7380268,21.0773874,11.8740898,32.204593,16.4765579,14.9341366,31.6279977,31.956732,13.5143719,29.7883109,24.4504965,16.0309861,10.5537945,15.2589751,12.3112711,12.85435,9.33070866,13.4497842,10.9845318,13.8431503,16.771139,23.6828055,12.2083684,18.1793685,13.3233757,18.8616572,23.5504285,13.3788082,18.1757973,15.0270375,23.7026065,11.677498,14.1000841,19.2777119,10.513927,26.5504804,11.3808463,12.1051405,15.3234543,8.84588804,19.338309,11.4884393,10.1076709,13.0943276,12.4445328,21.8818751,11.233264,15.7080088,16.7975615,14.1156575,16.2824097,13.7772608,15.6221022,17.3762105,18.9896041,24.7331393,15.5998451,13.0834179,16.9825108,15.1100169,7.91325578,24.4193518,19.0096756,18.4454309,14.4987147,29.0951102,13.7107444],&#34;text&#34;:[&#34;popdensity:   724.8857&lt;br /&gt;percollege:  8.741730&lt;br /&gt;state: OH&#34;,&#34;popdensity:  4573.1250&lt;br /&gt;percollege: 17.366060&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1900.2800&lt;br /&gt;percollege: 17.266945&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2434.6585&lt;br /&gt;percollege: 13.243540&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1984.9667&lt;br /&gt;percollege: 29.149408&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1857.7083&lt;br /&gt;percollege: 16.176471&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2292.7097&lt;br /&gt;percollege: 14.157673&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1248.7857&lt;br /&gt;percollege: 11.433690&lt;br /&gt;state: OH&#34;,&#34;popdensity: 10409.9643&lt;br /&gt;percollege: 24.225234&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1105.0417&lt;br /&gt;percollege: 11.323289&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1385.3462&lt;br /&gt;percollege: 13.912175&lt;br /&gt;state: OH&#34;,&#34;popdensity:  6147.8333&lt;br /&gt;percollege: 17.784992&lt;br /&gt;state: OH&#34;,&#34;popdensity:  5776.4231&lt;br /&gt;percollege: 19.689345&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1475.6250&lt;br /&gt;percollege: 15.763121&lt;br /&gt;state: OH&#34;,&#34;popdensity:  3492.7742&lt;br /&gt;percollege: 13.090578&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1041.9706&lt;br /&gt;percollege: 11.679343&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2081.3043&lt;br /&gt;percollege: 14.258027&lt;br /&gt;state: OH&#34;,&#34;popdensity: 54313.0769&lt;br /&gt;percollege: 25.085388&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1489.4167&lt;br /&gt;percollege: 13.475094&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1710.8696&lt;br /&gt;percollege: 18.188162&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2478.8519&lt;br /&gt;percollege: 31.594057&lt;br /&gt;state: OH&#34;,&#34;popdensity:  5484.2143&lt;br /&gt;percollege: 18.738027&lt;br /&gt;state: OH&#34;,&#34;popdensity:  3567.6207&lt;br /&gt;percollege: 21.077387&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1144.4167&lt;br /&gt;percollege: 11.874090&lt;br /&gt;state: OH&#34;,&#34;popdensity: 28277.5588&lt;br /&gt;percollege: 32.204593&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1539.9200&lt;br /&gt;percollege: 16.476558&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1190.5385&lt;br /&gt;percollege: 14.934137&lt;br /&gt;state: OH&#34;,&#34;popdensity:  3380.3750&lt;br /&gt;percollege: 31.627998&lt;br /&gt;state: OH&#34;,&#34;popdensity:  5469.2400&lt;br /&gt;percollege: 31.956732&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1219.5000&lt;br /&gt;percollege: 13.514372&lt;br /&gt;state: OH&#34;,&#34;popdensity: 34649.1200&lt;br /&gt;percollege: 29.788311&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2114.0645&lt;br /&gt;percollege: 24.450496&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1111.1071&lt;br /&gt;percollege: 16.030986&lt;br /&gt;state: OH&#34;,&#34;popdensity:   643.4000&lt;br /&gt;percollege: 10.553795&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1164.3200&lt;br /&gt;percollege: 15.258975&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1050.8235&lt;br /&gt;percollege: 12.311271&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1063.8750&lt;br /&gt;percollege: 12.854350&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1313.9600&lt;br /&gt;percollege:  9.330709&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1874.6667&lt;br /&gt;percollege: 13.449784&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1259.5833&lt;br /&gt;percollege: 10.984532&lt;br /&gt;state: OH&#34;,&#34;popdensity:  3649.9091&lt;br /&gt;percollege: 13.843150&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1582.4333&lt;br /&gt;percollege: 16.771139&lt;br /&gt;state: OH&#34;,&#34;popdensity: 16576.8462&lt;br /&gt;percollege: 23.682806&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2378.2308&lt;br /&gt;percollege: 12.208368&lt;br /&gt;state: OH&#34;,&#34;popdensity:  3207.5000&lt;br /&gt;percollege: 18.179368&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1567.0370&lt;br /&gt;percollege: 13.323376&lt;br /&gt;state: OH&#34;,&#34;popdensity:  9349.1724&lt;br /&gt;percollege: 18.861657&lt;br /&gt;state: OH&#34;,&#34;popdensity: 22017.1905&lt;br /&gt;percollege: 23.550428&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1323.8571&lt;br /&gt;percollege: 13.378808&lt;br /&gt;state: OH&#34;,&#34;popdensity: 11033.5833&lt;br /&gt;percollege: 18.175797&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2678.0833&lt;br /&gt;percollege: 15.027038&lt;br /&gt;state: OH&#34;,&#34;popdensity:  4894.1600&lt;br /&gt;percollege: 23.702607&lt;br /&gt;state: OH&#34;,&#34;popdensity:   919.4800&lt;br /&gt;percollege: 11.677498&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1408.6786&lt;br /&gt;percollege: 14.100084&lt;br /&gt;state: OH&#34;,&#34;popdensity:  3882.5833&lt;br /&gt;percollege: 19.277712&lt;br /&gt;state: OH&#34;,&#34;popdensity:   596.0385&lt;br /&gt;percollege: 10.513927&lt;br /&gt;state: OH&#34;,&#34;popdensity: 21252.1852&lt;br /&gt;percollege: 26.550480&lt;br /&gt;state: OH&#34;,&#34;popdensity:   567.7600&lt;br /&gt;percollege: 11.380846&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1156.2083&lt;br /&gt;percollege: 12.105140&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2001.6585&lt;br /&gt;percollege: 15.323454&lt;br /&gt;state: OH&#34;,&#34;popdensity:   472.3333&lt;br /&gt;percollege:  8.845888&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2501.8125&lt;br /&gt;percollege: 19.338309&lt;br /&gt;state: OH&#34;,&#34;popdensity:   819.5200&lt;br /&gt;percollege: 11.488439&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1372.0435&lt;br /&gt;percollege: 10.107671&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1608.5000&lt;br /&gt;percollege: 13.094328&lt;br /&gt;state: OH&#34;,&#34;popdensity:   932.6538&lt;br /&gt;percollege: 12.444533&lt;br /&gt;state: OH&#34;,&#34;popdensity:  4752.8333&lt;br /&gt;percollege: 21.881875&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1604.5200&lt;br /&gt;percollege: 11.233264&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1166.1724&lt;br /&gt;percollege: 15.708009&lt;br /&gt;state: OH&#34;,&#34;popdensity:  4349.5517&lt;br /&gt;percollege: 16.797562&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1690.9756&lt;br /&gt;percollege: 14.115657&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2581.7917&lt;br /&gt;percollege: 16.282410&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2295.0571&lt;br /&gt;percollege: 13.777261&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1810.0909&lt;br /&gt;percollege: 15.622102&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1796.6000&lt;br /&gt;percollege: 17.376210&lt;br /&gt;state: OH&#34;,&#34;popdensity: 10811.3235&lt;br /&gt;percollege: 18.989604&lt;br /&gt;state: OH&#34;,&#34;popdensity: 21457.9167&lt;br /&gt;percollege: 24.733139&lt;br /&gt;state: OH&#34;,&#34;popdensity:  6157.1081&lt;br /&gt;percollege: 15.599845&lt;br /&gt;state: OH&#34;,&#34;popdensity:  2473.2353&lt;br /&gt;percollege: 13.083418&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1229.5769&lt;br /&gt;percollege: 16.982511&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1269.3333&lt;br /&gt;percollege: 15.110017&lt;br /&gt;state: OH&#34;,&#34;popdensity:   462.4167&lt;br /&gt;percollege:  7.913256&lt;br /&gt;state: OH&#34;,&#34;popdensity:  4952.5652&lt;br /&gt;percollege: 24.419352&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1638.2632&lt;br /&gt;percollege: 19.009676&lt;br /&gt;state: OH&#34;,&#34;popdensity:  3074.5758&lt;br /&gt;percollege: 18.445431&lt;br /&gt;state: OH&#34;,&#34;popdensity:  1478.2400&lt;br /&gt;percollege: 14.498715&lt;br /&gt;state: OH&#34;,&#34;popdensity:  3061.3243&lt;br /&gt;percollege: 29.095110&lt;br /&gt;state: OH&#34;,&#34;popdensity:   927.2500&lt;br /&gt;percollege: 13.710744&lt;br /&gt;state: OH&#34;],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;marker&#34;:{&#34;autocolorscale&#34;:false,&#34;color&#34;:&#34;rgba(0,176,246,1)&#34;,&#34;opacity&#34;:1,&#34;size&#34;:5.66929133858268,&#34;symbol&#34;:&#34;circle&#34;,&#34;line&#34;:{&#34;width&#34;:1.88976377952756,&#34;color&#34;:&#34;rgba(0,176,246,1)&#34;}},&#34;hoveron&#34;:&#34;points&#34;,&#34;name&#34;:&#34;OH&#34;,&#34;legendgroup&#34;:&#34;OH&#34;,&#34;showlegend&#34;:true,&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;hoverinfo&#34;:&#34;text&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[382.487805,301.981481,768.867925,157.393258,6081.0625,339.6,246.867925,1490.91304,831.111111,439.541667,980.173913,455.428571,5028.56164,1417.75926,917.5,535.358974,690.557692,2241.65789,153,2047.34091,146.266667,713.971014,892.323529,847.772727,438.043478,130.914894,276.466667,1936.65714,460.638298,8011.3125,943.9,3496.57143,434.486486,375.096154,509.301887,2233.91667,1227.65957,494.487805,456.333333,185.238095,63951.6667,678.388889,503.766667,446.183099,3797.56757,4855.4,507.642857,963.676471,632.236364,1279.27083,208,8751.7,515.323529,3321.66667,274.163636,1142.06818,939.5,179.506329,688.092593,3246.15625,331.596491,587.511628,533.6875,295.116667,2343.75,275.44,3813.12,8962.20588,1024.53333,523.918919,4009.14286,1533.4375],&#34;y&#34;:[12.4274917,18.3200156,19.425147,25.8228923,26.2931785,17.9412424,13.6760641,19.7803247,18.1533363,13.84631,20.852313,16.599469,43.6264509,15.9254638,22.4883413,20.9940872,26.2870159,29.8544673,15.6035329,20.8318653,13.5699001,21.6803841,19.8751776,17.3050671,20.483251,18.7317293,15.3240741,22.1656323,14.3912738,20.3282422,14.3909586,30.4885126,16.4620371,13.6317946,17.4417943,19.0711481,21.877375,15.4275441,14.0016473,7.33610822,25.3558337,17.3724213,13.4311741,21.9338239,24.8578251,37.4197798,15.7492355,24.464372,18.5920497,24.6343275,15.527175,22.9065131,17.4993368,19.9064402,16.7559769,28.5880867,19.833921,17.9479167,14.8077953,20.8371926,15.0650908,17.5516579,18.9421311,19.2118611,23.1569039,19.0168872,23.3909001,35.3967841,16.5498688,15.064584,24.9955036,21.6663817],&#34;text&#34;:[&#34;popdensity:   382.4878&lt;br /&gt;percollege: 12.427492&lt;br /&gt;state: WI&#34;,&#34;popdensity:   301.9815&lt;br /&gt;percollege: 18.320016&lt;br /&gt;state: WI&#34;,&#34;popdensity:   768.8679&lt;br /&gt;percollege: 19.425147&lt;br /&gt;state: WI&#34;,&#34;popdensity:   157.3933&lt;br /&gt;percollege: 25.822892&lt;br /&gt;state: WI&#34;,&#34;popdensity:  6081.0625&lt;br /&gt;percollege: 26.293178&lt;br /&gt;state: WI&#34;,&#34;popdensity:   339.6000&lt;br /&gt;percollege: 17.941242&lt;br /&gt;state: WI&#34;,&#34;popdensity:   246.8679&lt;br /&gt;percollege: 13.676064&lt;br /&gt;state: WI&#34;,&#34;popdensity:  1490.9130&lt;br /&gt;percollege: 19.780325&lt;br /&gt;state: WI&#34;,&#34;popdensity:   831.1111&lt;br /&gt;percollege: 18.153336&lt;br /&gt;state: WI&#34;,&#34;popdensity:   439.5417&lt;br /&gt;percollege: 13.846310&lt;br /&gt;state: WI&#34;,&#34;popdensity:   980.1739&lt;br /&gt;percollege: 20.852313&lt;br /&gt;state: WI&#34;,&#34;popdensity:   455.4286&lt;br /&gt;percollege: 16.599469&lt;br /&gt;state: WI&#34;,&#34;popdensity:  5028.5616&lt;br /&gt;percollege: 43.626451&lt;br /&gt;state: WI&#34;,&#34;popdensity:  1417.7593&lt;br /&gt;percollege: 15.925464&lt;br /&gt;state: WI&#34;,&#34;popdensity:   917.5000&lt;br /&gt;percollege: 22.488341&lt;br /&gt;state: WI&#34;,&#34;popdensity:   535.3590&lt;br /&gt;percollege: 20.994087&lt;br /&gt;state: WI&#34;,&#34;popdensity:   690.5577&lt;br /&gt;percollege: 26.287016&lt;br /&gt;state: WI&#34;,&#34;popdensity:  2241.6579&lt;br /&gt;percollege: 29.854467&lt;br /&gt;state: WI&#34;,&#34;popdensity:   153.0000&lt;br /&gt;percollege: 15.603533&lt;br /&gt;state: WI&#34;,&#34;popdensity:  2047.3409&lt;br /&gt;percollege: 20.831865&lt;br /&gt;state: WI&#34;,&#34;popdensity:   146.2667&lt;br /&gt;percollege: 13.569900&lt;br /&gt;state: WI&#34;,&#34;popdensity:   713.9710&lt;br /&gt;percollege: 21.680384&lt;br /&gt;state: WI&#34;,&#34;popdensity:   892.3235&lt;br /&gt;percollege: 19.875178&lt;br /&gt;state: WI&#34;,&#34;popdensity:   847.7727&lt;br /&gt;percollege: 17.305067&lt;br /&gt;state: WI&#34;,&#34;popdensity:   438.0435&lt;br /&gt;percollege: 20.483251&lt;br /&gt;state: WI&#34;,&#34;popdensity:   130.9149&lt;br /&gt;percollege: 18.731729&lt;br /&gt;state: WI&#34;,&#34;popdensity:   276.4667&lt;br /&gt;percollege: 15.324074&lt;br /&gt;state: WI&#34;,&#34;popdensity:  1936.6571&lt;br /&gt;percollege: 22.165632&lt;br /&gt;state: WI&#34;,&#34;popdensity:   460.6383&lt;br /&gt;percollege: 14.391274&lt;br /&gt;state: WI&#34;,&#34;popdensity:  8011.3125&lt;br /&gt;percollege: 20.328242&lt;br /&gt;state: WI&#34;,&#34;popdensity:   943.9000&lt;br /&gt;percollege: 14.390959&lt;br /&gt;state: WI&#34;,&#34;popdensity:  3496.5714&lt;br /&gt;percollege: 30.488513&lt;br /&gt;state: WI&#34;,&#34;popdensity:   434.4865&lt;br /&gt;percollege: 16.462037&lt;br /&gt;state: WI&#34;,&#34;popdensity:   375.0962&lt;br /&gt;percollege: 13.631795&lt;br /&gt;state: WI&#34;,&#34;popdensity:   509.3019&lt;br /&gt;percollege: 17.441794&lt;br /&gt;state: WI&#34;,&#34;popdensity:  2233.9167&lt;br /&gt;percollege: 19.071148&lt;br /&gt;state: WI&#34;,&#34;popdensity:  1227.6596&lt;br /&gt;percollege: 21.877375&lt;br /&gt;state: WI&#34;,&#34;popdensity:   494.4878&lt;br /&gt;percollege: 15.427544&lt;br /&gt;state: WI&#34;,&#34;popdensity:   456.3333&lt;br /&gt;percollege: 14.001647&lt;br /&gt;state: WI&#34;,&#34;popdensity:   185.2381&lt;br /&gt;percollege:  7.336108&lt;br /&gt;state: WI&#34;,&#34;popdensity: 63951.6667&lt;br /&gt;percollege: 25.355834&lt;br /&gt;state: WI&#34;,&#34;popdensity:   678.3889&lt;br /&gt;percollege: 17.372421&lt;br /&gt;state: WI&#34;,&#34;popdensity:   503.7667&lt;br /&gt;percollege: 13.431174&lt;br /&gt;state: WI&#34;,&#34;popdensity:   446.1831&lt;br /&gt;percollege: 21.933824&lt;br /&gt;state: WI&#34;,&#34;popdensity:  3797.5676&lt;br /&gt;percollege: 24.857825&lt;br /&gt;state: WI&#34;,&#34;popdensity:  4855.4000&lt;br /&gt;percollege: 37.419780&lt;br /&gt;state: WI&#34;,&#34;popdensity:   507.6429&lt;br /&gt;percollege: 15.749235&lt;br /&gt;state: WI&#34;,&#34;popdensity:   963.6765&lt;br /&gt;percollege: 24.464372&lt;br /&gt;state: WI&#34;,&#34;popdensity:   632.2364&lt;br /&gt;percollege: 18.592050&lt;br /&gt;state: WI&#34;,&#34;popdensity:  1279.2708&lt;br /&gt;percollege: 24.634328&lt;br /&gt;state: WI&#34;,&#34;popdensity:   208.0000&lt;br /&gt;percollege: 15.527175&lt;br /&gt;state: WI&#34;,&#34;popdensity:  8751.7000&lt;br /&gt;percollege: 22.906513&lt;br /&gt;state: WI&#34;,&#34;popdensity:   515.3235&lt;br /&gt;percollege: 17.499337&lt;br /&gt;state: WI&#34;,&#34;popdensity:  3321.6667&lt;br /&gt;percollege: 19.906440&lt;br /&gt;state: WI&#34;,&#34;popdensity:   274.1636&lt;br /&gt;percollege: 16.755977&lt;br /&gt;state: WI&#34;,&#34;popdensity:  1142.0682&lt;br /&gt;percollege: 28.588087&lt;br /&gt;state: WI&#34;,&#34;popdensity:   939.5000&lt;br /&gt;percollege: 19.833921&lt;br /&gt;state: WI&#34;,&#34;popdensity:   179.5063&lt;br /&gt;percollege: 17.947917&lt;br /&gt;state: WI&#34;,&#34;popdensity:   688.0926&lt;br /&gt;percollege: 14.807795&lt;br /&gt;state: WI&#34;,&#34;popdensity:  3246.1562&lt;br /&gt;percollege: 20.837193&lt;br /&gt;state: WI&#34;,&#34;popdensity:   331.5965&lt;br /&gt;percollege: 15.065091&lt;br /&gt;state: WI&#34;,&#34;popdensity:   587.5116&lt;br /&gt;percollege: 17.551658&lt;br /&gt;state: WI&#34;,&#34;popdensity:   533.6875&lt;br /&gt;percollege: 18.942131&lt;br /&gt;state: WI&#34;,&#34;popdensity:   295.1167&lt;br /&gt;percollege: 19.211861&lt;br /&gt;state: WI&#34;,&#34;popdensity:  2343.7500&lt;br /&gt;percollege: 23.156904&lt;br /&gt;state: WI&#34;,&#34;popdensity:   275.4400&lt;br /&gt;percollege: 19.016887&lt;br /&gt;state: WI&#34;,&#34;popdensity:  3813.1200&lt;br /&gt;percollege: 23.390900&lt;br /&gt;state: WI&#34;,&#34;popdensity:  8962.2059&lt;br /&gt;percollege: 35.396784&lt;br /&gt;state: WI&#34;,&#34;popdensity:  1024.5333&lt;br /&gt;percollege: 16.549869&lt;br /&gt;state: WI&#34;,&#34;popdensity:   523.9189&lt;br /&gt;percollege: 15.064584&lt;br /&gt;state: WI&#34;,&#34;popdensity:  4009.1429&lt;br /&gt;percollege: 24.995504&lt;br /&gt;state: WI&#34;,&#34;popdensity:  1533.4375&lt;br /&gt;percollege: 21.666382&lt;br /&gt;state: WI&#34;],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;marker&#34;:{&#34;autocolorscale&#34;:false,&#34;color&#34;:&#34;rgba(231,107,243,1)&#34;,&#34;opacity&#34;:1,&#34;size&#34;:5.66929133858268,&#34;symbol&#34;:&#34;circle&#34;,&#34;line&#34;:{&#34;width&#34;:1.88976377952756,&#34;color&#34;:&#34;rgba(231,107,243,1)&#34;}},&#34;hoveron&#34;:&#34;points&#34;,&#34;name&#34;:&#34;WI&#34;,&#34;legendgroup&#34;:&#34;WI&#34;,&#34;showlegend&#34;:true,&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;hoverinfo&#34;:&#34;text&#34;,&#34;frame&#34;:null}],&#34;layout&#34;:{&#34;margin&#34;:{&#34;t&#34;:26.958904109589,&#34;r&#34;:7.30593607305936,&#34;b&#34;:40.9132420091324,&#34;l&#34;:37.2602739726027},&#34;plot_bgcolor&#34;:&#34;rgba(255,255,255,1)&#34;,&#34;paper_bgcolor&#34;:&#34;rgba(255,255,255,1)&#34;,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:14.6118721461187},&#34;xaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;type&#34;:&#34;linear&#34;,&#34;autorange&#34;:false,&#34;range&#34;:[-4311.61733,92415.06393],&#34;tickmode&#34;:&#34;array&#34;,&#34;ticktext&#34;:[&#34;0&#34;,&#34;20000&#34;,&#34;40000&#34;,&#34;60000&#34;,&#34;80000&#34;],&#34;tickvals&#34;:[0,20000,40000,60000,80000],&#34;categoryorder&#34;:&#34;array&#34;,&#34;categoryarray&#34;:[&#34;0&#34;,&#34;20000&#34;,&#34;40000&#34;,&#34;60000&#34;,&#34;80000&#34;],&#34;nticks&#34;:null,&#34;ticks&#34;:&#34;outside&#34;,&#34;tickcolor&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;ticklen&#34;:3.65296803652968,&#34;tickwidth&#34;:0.66417600664176,&#34;showticklabels&#34;:true,&#34;tickfont&#34;:{&#34;color&#34;:&#34;rgba(77,77,77,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;tickangle&#34;:-0,&#34;showline&#34;:false,&#34;linecolor&#34;:null,&#34;linewidth&#34;:0,&#34;showgrid&#34;:true,&#34;gridcolor&#34;:&#34;rgba(235,235,235,1)&#34;,&#34;gridwidth&#34;:0.66417600664176,&#34;zeroline&#34;:false,&#34;anchor&#34;:&#34;y&#34;,&#34;title&#34;:{&#34;text&#34;:&#34;Population Density&#34;,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:14.6118721461187}},&#34;hoverformat&#34;:&#34;.2f&#34;},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;type&#34;:&#34;linear&#34;,&#34;autorange&#34;:false,&#34;range&#34;:[5.298988121,50.115630299],&#34;tickmode&#34;:&#34;array&#34;,&#34;ticktext&#34;:[&#34;10&#34;,&#34;20&#34;,&#34;30&#34;,&#34;40&#34;,&#34;50&#34;],&#34;tickvals&#34;:[10,20,30,40,50],&#34;categoryorder&#34;:&#34;array&#34;,&#34;categoryarray&#34;:[&#34;10&#34;,&#34;20&#34;,&#34;30&#34;,&#34;40&#34;,&#34;50&#34;],&#34;nticks&#34;:null,&#34;ticks&#34;:&#34;outside&#34;,&#34;tickcolor&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;ticklen&#34;:3.65296803652968,&#34;tickwidth&#34;:0.66417600664176,&#34;showticklabels&#34;:true,&#34;tickfont&#34;:{&#34;color&#34;:&#34;rgba(77,77,77,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;tickangle&#34;:-0,&#34;showline&#34;:false,&#34;linecolor&#34;:null,&#34;linewidth&#34;:0,&#34;showgrid&#34;:true,&#34;gridcolor&#34;:&#34;rgba(235,235,235,1)&#34;,&#34;gridwidth&#34;:0.66417600664176,&#34;zeroline&#34;:false,&#34;anchor&#34;:&#34;x&#34;,&#34;title&#34;:{&#34;text&#34;:&#34;Percent College Graduates&#34;,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:14.6118721461187}},&#34;hoverformat&#34;:&#34;.2f&#34;},&#34;shapes&#34;:[{&#34;type&#34;:&#34;rect&#34;,&#34;fillcolor&#34;:&#34;transparent&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;width&#34;:0.66417600664176,&#34;linetype&#34;:&#34;solid&#34;},&#34;yref&#34;:&#34;paper&#34;,&#34;xref&#34;:&#34;paper&#34;,&#34;x0&#34;:0,&#34;x1&#34;:1,&#34;y0&#34;:0,&#34;y1&#34;:1}],&#34;showlegend&#34;:true,&#34;legend&#34;:{&#34;bgcolor&#34;:&#34;rgba(255,255,255,1)&#34;,&#34;bordercolor&#34;:&#34;transparent&#34;,&#34;borderwidth&#34;:1.88976377952756,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;title&#34;:{&#34;text&#34;:&#34;State&#34;,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:14.6118721461187}}},&#34;hovermode&#34;:&#34;closest&#34;,&#34;barmode&#34;:&#34;relative&#34;},&#34;config&#34;:{&#34;doubleClick&#34;:&#34;reset&#34;,&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;source&#34;:&#34;A&#34;,&#34;attrs&#34;:{&#34;1c7a4142a6e3&#34;:{&#34;x&#34;:{},&#34;y&#34;:{},&#34;colour&#34;:{},&#34;type&#34;:&#34;scatter&#34;}},&#34;cur_data&#34;:&#34;1c7a4142a6e3&#34;,&#34;visdat&#34;:{&#34;1c7a4142a6e3&#34;:[&#34;function (y) &#34;,&#34;x&#34;]},&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;your-turn&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Your Turn&lt;/h2&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the &lt;code&gt;starwars&lt;/code&gt; data, create a static ggplot and use the &lt;code&gt;ggplotly&lt;/code&gt; function to turn it interactive.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;creating-plotly-figures-manually&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Creating plotly figures manually&lt;/h1&gt;
&lt;p&gt;Using the &lt;code&gt;ggplotly()&lt;/code&gt; function is a great way to create interactive graphics using what you already know about creating static figures with ggplot2. However, there may be instances where the &lt;code&gt;ggplotly()&lt;/code&gt; function does not work or that there are additional features that you want to take advantage of. In these cases, knowing a bit about creating interactive graphics from the ground up using plotly is helpful.&lt;/p&gt;
&lt;p&gt;We will read in some data about the lord of the rings that comes from Jenny Bryan: &lt;a href=&#34;https://github.com/jennybc/lotr&#34; class=&#34;uri&#34;&gt;https://github.com/jennybc/lotr&lt;/a&gt;. These data can be read directly from GitHub with the following command. As you can see from the data, the data contains a row for each film, chapter, and character from the lord of the rings about the number of words that character spoke in each chapter of each of the three films.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lotr &amp;lt;- read_tsv(&amp;#39;https://raw.githubusercontent.com/jennybc/lotr/master/lotr_clean.tsv&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 682 Columns: 5
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &amp;quot;\t&amp;quot;
## chr (4): Film, Chapter, Character, Race
## dbl (1): Words
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lotr&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 682 × 5
##    Film                       Chapter                Character   Race   Words
##    &amp;lt;chr&amp;gt;                      &amp;lt;chr&amp;gt;                  &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;  &amp;lt;dbl&amp;gt;
##  1 The Fellowship Of The Ring 01: Prologue           Bilbo       Hobbit     4
##  2 The Fellowship Of The Ring 01: Prologue           Elrond      Elf        5
##  3 The Fellowship Of The Ring 01: Prologue           Galadriel   Elf      460
##  4 The Fellowship Of The Ring 02: Concerning Hobbits Bilbo       Hobbit   214
##  5 The Fellowship Of The Ring 03: The Shire          Bilbo       Hobbit    70
##  6 The Fellowship Of The Ring 03: The Shire          Frodo       Hobbit   128
##  7 The Fellowship Of The Ring 03: The Shire          Gandalf     Wizard   197
##  8 The Fellowship Of The Ring 03: The Shire          Hobbit Kids Hobbit    10
##  9 The Fellowship Of The Ring 03: The Shire          Hobbits     Hobbit    12
## 10 The Fellowship Of The Ring 04: Very Old Friends   Bilbo       Hobbit   339
## # … with 672 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s now build a histogram from the ground up using plotly. The primary function to define the figure attributes is &lt;code&gt;plot_ly()&lt;/code&gt;. This function behaves similarly to the &lt;code&gt;ggplot()&lt;/code&gt; function from the ggplot2 package. The primary arguments are the data to be used for plotting and the aesthetic attributes. As we are creating a histrogram, only the x aesthetic needs to be defined. One difference between plotly and ggplot2 is that the aesthetics passed to the &lt;code&gt;plot_ly()&lt;/code&gt; function need to have a &lt;code&gt;~&lt;/code&gt; before the variable name. Notice here that the x aesthetic is defined as &lt;code&gt;~Words&lt;/code&gt; meaning that we want the Words variable to be placed on the x-axis. After specifying the data and aesthetics, we need to tell plotly what type of figure we’d like. In this example, the &lt;code&gt;add_histogram()&lt;/code&gt; function is used with no arguments to create a histrogram.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot_ly(lotr, x = ~Words) %&amp;gt;% 
  add_histogram()&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-3&#34; style=&#34;width:864px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-3&#34;&gt;{&#34;x&#34;:{&#34;visdat&#34;:{&#34;1c7a5f2f8750&#34;:[&#34;function () &#34;,&#34;plotlyVisDat&#34;]},&#34;cur_data&#34;:&#34;1c7a5f2f8750&#34;,&#34;attrs&#34;:{&#34;1c7a5f2f8750&#34;:{&#34;x&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;histogram&#34;,&#34;inherit&#34;:true}},&#34;layout&#34;:{&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;xaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;Words&#34;},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true},&#34;hovermode&#34;:&#34;closest&#34;,&#34;showlegend&#34;:false},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;data&#34;:[{&#34;x&#34;:[4,5,460,214,70,128,197,10,12,339,64,8,326,32,12,8,1,19,2,15,1,7,182,148,6,33,60,107,12,17,21,53,53,61,3,10,17,55,28,139,541,3,84,43,40,85,274,21,37,58,32,48,20,43,14,9,76,68,38,76,13,6,39,30,19,96,29,28,25,17,33,12,9,20,22,7,53,16,13,12,24,5,48,131,5,9,34,7,36,5,107,104,63,33,260,102,1,25,47,39,24,57,40,220,167,24,85,38,34,4,24,18,8,12,11,65,105,3,48,7,7,12,15,68,47,3,17,10,3,30,61,6,18,19,8,68,31,31,30,202,52,7,9,11,7,39,349,6,8,10,7,22,5,8,89,37,8,13,45,17,4,83,7,4,26,27,19,84,51,7,2,16,149,61,135,19,41,6,49,36,214,1,83,13,99,166,81,20,5,1,13,64,103,16,37,79,202,54,48,31,2,3,2,2,6,6,18,17,2,72,72,102,59,34,12,15,50,2,9,39,5,46,97,123,181,10,2,19,26,51,59,35,25,2,24,37,29,187,11,13,10,88,8,81,3,6,13,44,10,68,20,14,33,13,68,156,24,7,33,16,3,18,28,36,54,69,68,298,73,63,4,7,226,39,68,63,122,18,28,151,15,166,21,56,24,28,55,59,24,3,165,21,29,49,22,36,13,51,68,18,31,45,52,4,81,87,76,39,91,3,68,33,76,6,59,97,119,55,11,9,10,5,45,3,5,10,50,22,1,14,4,2,15,22,49,66,8,9,50,8,14,188,190,143,75,63,8,132,6,250,35,92,89,16,64,69,9,51,5,2,206,6,78,65,13,36,12,30,64,18,7,34,14,37,23,24,17,4,18,1,50,37,1,7,30,5,12,6,17,58,29,31,6,34,1,22,58,6,46,1,23,6,5,8,31,15,20,53,73,6,20,21,5,7,63,3,1,16,12,22,186,4,10,35,7,77,56,95,18,54,30,36,69,11,12,13,18,77,1,22,36,51,3,111,23,2,301,98,20,4,8,15,40,21,78,73,1,52,46,65,13,50,20,255,22,135,104,22,36,7,100,30,151,202,36,268,22,30,56,163,2,75,8,20,5,4,61,30,3,18,7,6,28,5,10,18,21,36,4,15,19,16,3,73,1,66,34,17,13,13,8,15,114,72,8,9,9,4,80,66,89,53,32,43,184,20,31,29,5,59,26,89,56,12,9,21,12,30,24,54,15,168,7,4,42,32,18,20,9,20,16,10,60,6,45,123,8,3,21,63,75,43,32,40,81,19,46,7,25,15,21,7,14,6,60,51,1,22,10,83,13,5,68,21,15,48,55,36,10,17,48,7,9,13,2,17,15,2,71,42,9,2,9,8,3,26,54,17,8,5,12,19,4,1,1,6,6,5,8,38,9,15,3,1,11,16,64,23,96,35,82,8,59,24,2,17,17,17,16,104,46,30,56,23,32,5,1,87,5,103,16,8,16,44,85,2,2,9,10,6,7,38,2,1,37,31,4,1,1,45,11,98,4,2,2,27,56,6,132,17,42,14],&#34;type&#34;:&#34;histogram&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null}],&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;You’ll notice you get the same elements as the figures created with &lt;code&gt;ggplotly()&lt;/code&gt; like zoom, pan, data specifics on hover, etc.&lt;/p&gt;
&lt;div id=&#34;grouped-bar-plot&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Grouped bar plot&lt;/h2&gt;
&lt;p&gt;Building off the histogram example above, let’s create a bar chart. In the plotly syntax, the &lt;code&gt;add_histogram()&lt;/code&gt; function is used for true histograms and for bar charts. Very confusing! The primary difference is that bar charts are created when a categorical variable is placed on the x-axis. In the example below, the character race is placed on the x-axis. In addition, the Film is specified with different colors, this allows the creation of bars for each unique Film and by default are placed as dodged bar charts.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot_ly(lotr, x = ~Race, color = ~Film) %&amp;gt;% 
  add_histogram()&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-4&#34; style=&#34;width:864px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-4&#34;&gt;{&#34;x&#34;:{&#34;visdat&#34;:{&#34;1c7a9cbc285&#34;:[&#34;function () &#34;,&#34;plotlyVisDat&#34;]},&#34;cur_data&#34;:&#34;1c7a9cbc285&#34;,&#34;attrs&#34;:{&#34;1c7a9cbc285&#34;:{&#34;x&#34;:{},&#34;color&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;histogram&#34;,&#34;inherit&#34;:true}},&#34;layout&#34;:{&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;xaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;Race&#34;,&#34;type&#34;:&#34;category&#34;,&#34;categoryorder&#34;:&#34;array&#34;,&#34;categoryarray&#34;:[&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Wizard&#34;]},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true},&#34;hovermode&#34;:&#34;closest&#34;,&#34;showlegend&#34;:true},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;data&#34;:[{&#34;x&#34;:[&#34;Hobbit&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Wizard&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Elf&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Elf&#34;,&#34;Orc&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;],&#34;type&#34;:&#34;histogram&#34;,&#34;name&#34;:&#34;The Fellowship Of The Ring&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Dwarf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Elf&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;],&#34;type&#34;:&#34;histogram&#34;,&#34;name&#34;:&#34;The Return Of The King&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Orc&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Hobbit&#34;,&#34;Orc&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Orc&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Wizard&#34;,&#34;Dwarf&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Man&#34;,&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Wizard&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;,&#34;Hobbit&#34;],&#34;type&#34;:&#34;histogram&#34;,&#34;name&#34;:&#34;The Two Towers&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null}],&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;bar-plot-of-proportions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Bar plot of proportions&lt;/h2&gt;
&lt;p&gt;As we discussed when talking about static visualizations, dodged bar charts can be difficult to explore differences across the films due to differences in how popular each race is across the movies. In this case, normalizing the bar chart and stacking them based on the proportion each movie contains out of the total for each race. plotly does not do this by default, instead computations of these proportions need to be done first, then this summarized data can be plotted. Below is an example of doing this. First, the counts are calculated by race and film, then this is joined using another count just of race. This second count is how the standardization will be done. I encourage you to explore the &lt;code&gt;lotr_prop&lt;/code&gt; data to understand what the data looks like.&lt;/p&gt;
&lt;p&gt;These data are then passed to the &lt;code&gt;plot_ly&lt;/code&gt; function after calculating the individual proportion of each race and film. To plot these bars, the &lt;code&gt;add_bars()&lt;/code&gt; function is used to create the bars and finally, using the &lt;code&gt;layout()&lt;/code&gt; function, the argument &lt;code&gt;barmode = &#34;stack&#34;&lt;/code&gt; is used to create the final figure show. I encourage you to explore intermediate steps to understand what the output looks like in each step along the way.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## number of diamonds by cut and clarity (n)
lotr_count &amp;lt;- count(lotr, Race, Film)
## number of diamonds by cut (nn)
lotr_prop &amp;lt;- left_join(lotr_count, count(lotr_count, Race, wt = n), 
                       by = &amp;#39;Race&amp;#39;)

lotr_prop %&amp;gt;%
  mutate(prop = n.x / n.y) %&amp;gt;%
  plot_ly(x = ~Race, y = ~prop, color = ~Film, width = 900) %&amp;gt;%
  add_bars() %&amp;gt;%
  layout(barmode = &amp;quot;stack&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-5&#34; style=&#34;width:900px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-5&#34;&gt;{&#34;x&#34;:{&#34;visdat&#34;:{&#34;1c7a4f5c1eb1&#34;:[&#34;function () &#34;,&#34;plotlyVisDat&#34;]},&#34;cur_data&#34;:&#34;1c7a4f5c1eb1&#34;,&#34;attrs&#34;:{&#34;1c7a4f5c1eb1&#34;:{&#34;x&#34;:{},&#34;y&#34;:{},&#34;color&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;bar&#34;,&#34;inherit&#34;:true}},&#34;layout&#34;:{&#34;width&#34;:900,&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;barmode&#34;:&#34;stack&#34;,&#34;xaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;Race&#34;,&#34;type&#34;:&#34;category&#34;,&#34;categoryorder&#34;:&#34;array&#34;,&#34;categoryarray&#34;:[&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Wizard&#34;]},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;prop&#34;},&#34;hovermode&#34;:&#34;closest&#34;,&#34;showlegend&#34;:true},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;data&#34;:[{&#34;x&#34;:[&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Wizard&#34;],&#34;y&#34;:[0.239130434782609,0.449275362318841,0.443965517241379,0.166666666666667,0.103448275862069,0.439393939393939],&#34;type&#34;:&#34;bar&#34;,&#34;name&#34;:&#34;The Fellowship Of The Ring&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;}},&#34;textfont&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Wizard&#34;],&#34;y&#34;:[0.347826086956522,0.27536231884058,0.314655172413793,0.408333333333333,0.551724137931034,0.378787878787879],&#34;type&#34;:&#34;bar&#34;,&#34;name&#34;:&#34;The Return Of The King&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;}},&#34;textfont&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[&#34;Dwarf&#34;,&#34;Elf&#34;,&#34;Hobbit&#34;,&#34;Man&#34;,&#34;Orc&#34;,&#34;Wizard&#34;],&#34;y&#34;:[0.41304347826087,0.27536231884058,0.241379310344828,0.425,0.344827586206897,0.181818181818182],&#34;type&#34;:&#34;bar&#34;,&#34;name&#34;:&#34;The Two Towers&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;}},&#34;textfont&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null}],&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;your-turn-1&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Your Turn&lt;/h1&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the &lt;code&gt;gss_cat&lt;/code&gt; data, create a histrogram for the &lt;code&gt;tvhours&lt;/code&gt; variable.&lt;/li&gt;
&lt;li&gt;Using the &lt;code&gt;gss_cat&lt;/code&gt; data, create a bar chart showing the &lt;code&gt;partyid&lt;/code&gt; variable by the &lt;code&gt;marital&lt;/code&gt; status.&lt;/li&gt;
&lt;/ol&gt;
&lt;div id=&#34;scatterplots-by-hand&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Scatterplots by Hand&lt;/h2&gt;
&lt;p&gt;Scatterplots are similar to the bar charts, the main difference is that variables are passed to both the x and y axes and the &lt;code&gt;add_markers()&lt;/code&gt; function is used to create the scatterplot. Markers are plotly’s equivalent to points from ggplot2.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot_ly(midwest, x = ~popdensity, y = ~percollege) %&amp;gt;%
  add_markers()&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-6&#34; style=&#34;width:864px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-6&#34;&gt;{&#34;x&#34;:{&#34;visdat&#34;:{&#34;1c7a57135505&#34;:[&#34;function () &#34;,&#34;plotlyVisDat&#34;]},&#34;cur_data&#34;:&#34;1c7a57135505&#34;,&#34;attrs&#34;:{&#34;1c7a57135505&#34;:{&#34;x&#34;:{},&#34;y&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;inherit&#34;:true}},&#34;layout&#34;:{&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;xaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;popdensity&#34;},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;percollege&#34;},&#34;hovermode&#34;:&#34;closest&#34;,&#34;showlegend&#34;:false},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;data&#34;:[{&#34;x&#34;:[1270.96154,759,681.409091,1812.11765,324.222222,713.76,313.058824,622.407407,559.875,2983.18966,819.47619,530.7,516.428571,1170.48276,1721.46667,88018.3966,748.615385,533.5,2050.84211,718.086957,778.56,39083.3,544.305556,531.428571,1132.28571,474.840909,475.833333,1612.76,732.307692,363.631579,464.151515,1243.73077,339.96,454.744681,576.555556,352,1003.11765,459.507463,1696.30556,365.827586,1121.81818,893,623.457143,567.35,10947.2759,2468.07692,2189.61111,1342.69048,18443.5,1572.25,726,799.813953,633.887097,855.5,1036.58824,5090.02778,1899.70588,3348.74286,953.58,5538.62222,1187.45714,558.521739,493,1053.71429,620.222222,523.939394,974.869565,749.463415,1102.93939,663.333333,1021.26667,4811.23684,823.538462,621.92,358.714286,198.772727,683.909091,573,960.638889,752.045455,5311.53571,6571.3,1206.86364,3497.76471,288.384615,376.266667,505.931818,384.352941,1456.12121,3171.58974,734.125,1697.25,1092.58333,581.242424,453.484848,410.5,569.724138,1467.95122,7146.26,2309.32,8430.43333,1020.40625,1480.71429,7337.46341,2893.5,393.375,1406.7,1589.45833,741.052632,854.954545,1600.54167,3989.86364,1176.42857,1346.69565,550.777778,1058.96154,2043.94737,1074.77273,1605.63636,5202.56522,1408.30769,5785.11111,2167.91667,7156,712.32,851.304348,897.142857,1100.44828,3090.375,921.515152,4539,2678.05882,1067.5,3154.875,2005.79167,5051.6875,1540.30435,1257.66667,734.117647,977.818182,1418.90476,1126.71429,4894.94444,1286.58065,2040.4375,1339.86364,15853.1333,2974.05556,1586.51852,5025.73077,34659.087,1622.38462,493.761905,1537.375,4540.75,1147.86667,2330,564.625,1515.08,1063,800.391304,751.347826,570.740741,868.5,625.45,4958.92308,1038.72,486.269231,1045.34483,1044.15385,984.64,788.217391,8823.28571,1908.27273,1679.45833,812.083333,1197.21053,1306.95238,703.444444,595.230769,4353.26667,1007.4375,697.6,12696.7692,1048.3125,4421.125,1524.73913,389.333333,1953.04348,790.566667,2997.95833,1235.61905,775.5,1382.55,247.439024,175.921569,1847.12245,900.147059,586.612903,711,147.296296,1472.26471,4297.03846,610,4890.24242,1431.10345,3237.66667,1649.23333,975.818182,445.791667,443.641026,733.882353,1702.44118,360.588235,547.536232,583.282609,2731.73529,927.407407,11634.027,706.322581,265.470588,2142.43333,1181.27273,1277.38235,590.766667,699.02,8291.52941,1677.17647,915.424242,188.214286,1606.58824,3482.69767,6770.0303,409,10012.62,85.05,245.228571,1967.57895,787,2127.34884,3401.32353,104.781818,180.915254,25621.4286,664.53125,644.427273,880.586207,1097.29412,389.375,2440.35484,368.090909,4048.48485,1263.30952,270.787879,5677.96429,749.058824,19701.6727,748.466667,583.78125,113.512821,592.529412,237.636364,579.258065,5689.93939,327.214286,581.647059,4415.54167,3640.175,2031.48276,713,110.693333,2250.64516,1156.20833,1893.51351,6900.90244,60333.9143,775.294118,724.885714,4573.125,1900.28,2434.65854,1984.96667,1857.70833,2292.70968,1248.78571,10409.9643,1105.04167,1385.34615,6147.83333,5776.42308,1475.625,3492.77419,1041.97059,2081.30435,54313.0769,1489.41667,1710.86957,2478.85185,5484.21429,3567.62069,1144.41667,28277.5588,1539.92,1190.53846,3380.375,5469.24,1219.5,34649.12,2114.06452,1111.10714,643.4,1164.32,1050.82353,1063.875,1313.96,1874.66667,1259.58333,3649.90909,1582.43333,16576.8462,2378.23077,3207.5,1567.03704,9349.17241,22017.1905,1323.85714,11033.5833,2678.08333,4894.16,919.48,1408.67857,3882.58333,596.038462,21252.1852,567.76,1156.20833,2001.65854,472.333333,2501.8125,819.52,1372.04348,1608.5,932.653846,4752.83333,1604.52,1166.17241,4349.55172,1690.97561,2581.79167,2295.05714,1810.09091,1796.6,10811.3235,21457.9167,6157.10811,2473.23529,1229.57692,1269.33333,462.416667,4952.56522,1638.26316,3074.57576,1478.24,3061.32432,927.25,382.487805,301.981481,768.867925,157.393258,6081.0625,339.6,246.867925,1490.91304,831.111111,439.541667,980.173913,455.428571,5028.56164,1417.75926,917.5,535.358974,690.557692,2241.65789,153,2047.34091,146.266667,713.971014,892.323529,847.772727,438.043478,130.914894,276.466667,1936.65714,460.638298,8011.3125,943.9,3496.57143,434.486486,375.096154,509.301887,2233.91667,1227.65957,494.487805,456.333333,185.238095,63951.6667,678.388889,503.766667,446.183099,3797.56757,4855.4,507.642857,963.676471,632.236364,1279.27083,208,8751.7,515.323529,3321.66667,274.163636,1142.06818,939.5,179.506329,688.092593,3246.15625,331.596491,587.511628,533.6875,295.116667,2343.75,275.44,3813.12,8962.20588,1024.53333,523.918919,4009.14286,1533.4375],&#34;y&#34;:[19.6313918,11.2433076,17.0338194,17.2789539,14.475999,18.9046238,11.9173877,16.1971209,14.1076487,41.2958081,13.567226,15.1108627,13.6830103,15.3874693,25.1750412,28.0181167,16.9858076,14.5978891,32.835928,16.1959601,16.8685259,42.7688669,16.8399327,16.9356446,20.2751964,13.6029941,17.8273561,14.7056662,15.5321976,11.3675214,13.0495464,18.3778784,14.0467657,20.6605223,14.3184422,13.7735504,18.7236334,15.1666829,36.6436653,15.0256035,18.3698955,14.7583093,16.4133528,14.3524363,27.5938834,17.6409622,24.8893485,19.3436365,37.8340529,16.8995267,14.5388128,18.476678,14.5031437,17.9492226,27.9280239,28.0541488,33.8185507,19.8618556,14.0083929,19.6994744,16.4493851,17.5348837,13.5054525,14.034565,18.511502,16.4744211,19.9206186,11.723732,20.7244228,15.7185951,18.7793745,25.838414,13.5622441,22.011857,12.1742809,14.2502659,14.3687708,16.5212794,12.7412789,21.5077402,21.3007289,21.184251,15.4883463,28.9881549,14.6365422,13.0760986,15.9511699,16.8789809,19.8795753,20.0448263,17.8795898,17.0571729,24.7300469,20.4582651,15.9600242,15.6807027,15.9287398,16.5530497,24.7568609,21.0595616,22.652364,22.8052176,16.1156797,27.3597862,22.8468145,13.4643978,12.9819635,27.8306241,19.8002103,15.4562536,13.2149823,16.8123574,14.1137248,16.045283,8.54375099,13.2391267,15.5742757,13.9213675,15.581854,21.1970145,17.1676628,18.3723425,11.4249881,20.5498928,11.1452991,12.9935988,13.929867,15.50432,15.5381671,14.9522958,42.1311499,20.4899394,13.1074407,24.2200345,13.2576823,20.2298144,16.9731386,13.1423129,14.8558462,12.771798,17.5460903,10.1458975,22.308069,19.9757478,19.2629151,11.1118012,17.6686138,17.1792531,13.1476522,16.401998,26.7446886,17.7775263,13.5396226,14.4075703,37.7422954,16.9252277,14.6798142,12.1746236,12.6387629,10.7029216,9.78827088,11.1649179,14.6129001,11.0422948,13.842852,24.455887,17.2106825,14.1710559,15.734664,12.6200972,13.5281456,12.8463697,24.611669,10.5895865,14.7000195,14.1338236,10.0140252,18.6080204,15.4816696,9.47158524,36.2454446,15.4219389,12.6449852,21.7585174,12.2726866,22.7230118,16.0805162,13.399963,23.8155668,10.8145974,15.5891252,18.5655038,16.5838347,15.809776,14.1150923,16.2755866,18.0660208,18.9337962,19.039803,11.8278471,14.5760743,17.2519754,18.2258245,21.4208568,23.742011,16.066702,21.4885192,15.8443516,22.6527251,14.6477089,16.9397657,12.0419487,22.8647363,18.7787018,18.912404,20.4206544,26.9787819,26.8725681,20.1454244,11.4331387,21.1730815,30.9753249,16.4441292,16.4684698,24.7650877,14.3082727,36.7600619,15.116835,16.2342399,15.4575777,27.2497358,21.2057826,34.5571857,11.4555097,28.6383762,14.4522145,11.3134379,16.1542355,32.5963872,18.7880617,27.5866359,14.4056678,15.2878703,20.6866911,16.2528217,26.763554,18.5401286,25.0460405,15.084171,35.6088365,13.280021,17.4296096,14.160017,13.4575569,19.0433213,15.6946934,36.9635114,16.9024096,11.6568382,15.9567602,13.6658394,12.9210381,20.0211305,26.9656935,13.8933764,13.363353,19.7081294,17.641192,17.0117257,13.7970398,14.5667198,17.2912268,14.1243101,17.8047443,48.0785102,19.4104036,18.2322106,8.74173036,17.3660604,17.2669455,13.2435395,29.1494085,16.1764706,14.1576729,11.4336901,24.2252343,11.323289,13.9121748,17.784992,19.6893454,15.7631208,13.0905778,11.6793426,14.258027,25.0853882,13.475094,18.1881619,31.5940573,18.7380268,21.0773874,11.8740898,32.204593,16.4765579,14.9341366,31.6279977,31.956732,13.5143719,29.7883109,24.4504965,16.0309861,10.5537945,15.2589751,12.3112711,12.85435,9.33070866,13.4497842,10.9845318,13.8431503,16.771139,23.6828055,12.2083684,18.1793685,13.3233757,18.8616572,23.5504285,13.3788082,18.1757973,15.0270375,23.7026065,11.677498,14.1000841,19.2777119,10.513927,26.5504804,11.3808463,12.1051405,15.3234543,8.84588804,19.338309,11.4884393,10.1076709,13.0943276,12.4445328,21.8818751,11.233264,15.7080088,16.7975615,14.1156575,16.2824097,13.7772608,15.6221022,17.3762105,18.9896041,24.7331393,15.5998451,13.0834179,16.9825108,15.1100169,7.91325578,24.4193518,19.0096756,18.4454309,14.4987147,29.0951102,13.7107444,12.4274917,18.3200156,19.425147,25.8228923,26.2931785,17.9412424,13.6760641,19.7803247,18.1533363,13.84631,20.852313,16.599469,43.6264509,15.9254638,22.4883413,20.9940872,26.2870159,29.8544673,15.6035329,20.8318653,13.5699001,21.6803841,19.8751776,17.3050671,20.483251,18.7317293,15.3240741,22.1656323,14.3912738,20.3282422,14.3909586,30.4885126,16.4620371,13.6317946,17.4417943,19.0711481,21.877375,15.4275441,14.0016473,7.33610822,25.3558337,17.3724213,13.4311741,21.9338239,24.8578251,37.4197798,15.7492355,24.464372,18.5920497,24.6343275,15.527175,22.9065131,17.4993368,19.9064402,16.7559769,28.5880867,19.833921,17.9479167,14.8077953,20.8371926,15.0650908,17.5516579,18.9421311,19.2118611,23.1569039,19.0168872,23.3909001,35.3967841,16.5498688,15.064584,24.9955036,21.6663817],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null}],&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;div id=&#34;change-symbols&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Change symbols&lt;/h3&gt;
&lt;p&gt;Changing symbols (i.e. shape of points in ggplot2 language) can be done by passing a character variable to the symbol argument/aesthetic within the &lt;code&gt;add_markers()&lt;/code&gt; function. The symbol argument/aesthetic should also be able to be specified in the &lt;code&gt;plot_ly()&lt;/code&gt; function globally instead of in the &lt;code&gt;add_markers()&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot_ly(midwest, x = ~popdensity, y = ~percollege) %&amp;gt;%
  add_markers(symbol = ~state)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-7&#34; style=&#34;width:864px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-7&#34;&gt;{&#34;x&#34;:{&#34;visdat&#34;:{&#34;1c7a481852c0&#34;:[&#34;function () &#34;,&#34;plotlyVisDat&#34;]},&#34;cur_data&#34;:&#34;1c7a481852c0&#34;,&#34;attrs&#34;:{&#34;1c7a481852c0&#34;:{&#34;x&#34;:{},&#34;y&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;symbol&#34;:{},&#34;inherit&#34;:true}},&#34;layout&#34;:{&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;xaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;popdensity&#34;},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;percollege&#34;},&#34;hovermode&#34;:&#34;closest&#34;,&#34;showlegend&#34;:true},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;data&#34;:[{&#34;x&#34;:[1270.96154,759,681.409091,1812.11765,324.222222,713.76,313.058824,622.407407,559.875,2983.18966,819.47619,530.7,516.428571,1170.48276,1721.46667,88018.3966,748.615385,533.5,2050.84211,718.086957,778.56,39083.3,544.305556,531.428571,1132.28571,474.840909,475.833333,1612.76,732.307692,363.631579,464.151515,1243.73077,339.96,454.744681,576.555556,352,1003.11765,459.507463,1696.30556,365.827586,1121.81818,893,623.457143,567.35,10947.2759,2468.07692,2189.61111,1342.69048,18443.5,1572.25,726,799.813953,633.887097,855.5,1036.58824,5090.02778,1899.70588,3348.74286,953.58,5538.62222,1187.45714,558.521739,493,1053.71429,620.222222,523.939394,974.869565,749.463415,1102.93939,663.333333,1021.26667,4811.23684,823.538462,621.92,358.714286,198.772727,683.909091,573,960.638889,752.045455,5311.53571,6571.3,1206.86364,3497.76471,288.384615,376.266667,505.931818,384.352941,1456.12121,3171.58974,734.125,1697.25,1092.58333,581.242424,453.484848,410.5,569.724138,1467.95122,7146.26,2309.32,8430.43333,1020.40625],&#34;y&#34;:[19.6313918,11.2433076,17.0338194,17.2789539,14.475999,18.9046238,11.9173877,16.1971209,14.1076487,41.2958081,13.567226,15.1108627,13.6830103,15.3874693,25.1750412,28.0181167,16.9858076,14.5978891,32.835928,16.1959601,16.8685259,42.7688669,16.8399327,16.9356446,20.2751964,13.6029941,17.8273561,14.7056662,15.5321976,11.3675214,13.0495464,18.3778784,14.0467657,20.6605223,14.3184422,13.7735504,18.7236334,15.1666829,36.6436653,15.0256035,18.3698955,14.7583093,16.4133528,14.3524363,27.5938834,17.6409622,24.8893485,19.3436365,37.8340529,16.8995267,14.5388128,18.476678,14.5031437,17.9492226,27.9280239,28.0541488,33.8185507,19.8618556,14.0083929,19.6994744,16.4493851,17.5348837,13.5054525,14.034565,18.511502,16.4744211,19.9206186,11.723732,20.7244228,15.7185951,18.7793745,25.838414,13.5622441,22.011857,12.1742809,14.2502659,14.3687708,16.5212794,12.7412789,21.5077402,21.3007289,21.184251,15.4883463,28.9881549,14.6365422,13.0760986,15.9511699,16.8789809,19.8795753,20.0448263,17.8795898,17.0571729,24.7300469,20.4582651,15.9600242,15.6807027,15.9287398,16.5530497,24.7568609,21.0595616,22.652364,22.8052176],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;name&#34;:&#34;IL&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;,&#34;symbol&#34;:&#34;circle&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[1480.71429,7337.46341,2893.5,393.375,1406.7,1589.45833,741.052632,854.954545,1600.54167,3989.86364,1176.42857,1346.69565,550.777778,1058.96154,2043.94737,1074.77273,1605.63636,5202.56522,1408.30769,5785.11111,2167.91667,7156,712.32,851.304348,897.142857,1100.44828,3090.375,921.515152,4539,2678.05882,1067.5,3154.875,2005.79167,5051.6875,1540.30435,1257.66667,734.117647,977.818182,1418.90476,1126.71429,4894.94444,1286.58065,2040.4375,1339.86364,15853.1333,2974.05556,1586.51852,5025.73077,34659.087,1622.38462,493.761905,1537.375,4540.75,1147.86667,2330,564.625,1515.08,1063,800.391304,751.347826,570.740741,868.5,625.45,4958.92308,1038.72,486.269231,1045.34483,1044.15385,984.64,788.217391,8823.28571,1908.27273,1679.45833,812.083333,1197.21053,1306.95238,703.444444,595.230769,4353.26667,1007.4375,697.6,12696.7692,1048.3125,4421.125,1524.73913,389.333333,1953.04348,790.566667,2997.95833,1235.61905,775.5,1382.55],&#34;y&#34;:[16.1156797,27.3597862,22.8468145,13.4643978,12.9819635,27.8306241,19.8002103,15.4562536,13.2149823,16.8123574,14.1137248,16.045283,8.54375099,13.2391267,15.5742757,13.9213675,15.581854,21.1970145,17.1676628,18.3723425,11.4249881,20.5498928,11.1452991,12.9935988,13.929867,15.50432,15.5381671,14.9522958,42.1311499,20.4899394,13.1074407,24.2200345,13.2576823,20.2298144,16.9731386,13.1423129,14.8558462,12.771798,17.5460903,10.1458975,22.308069,19.9757478,19.2629151,11.1118012,17.6686138,17.1792531,13.1476522,16.401998,26.7446886,17.7775263,13.5396226,14.4075703,37.7422954,16.9252277,14.6798142,12.1746236,12.6387629,10.7029216,9.78827088,11.1649179,14.6129001,11.0422948,13.842852,24.455887,17.2106825,14.1710559,15.734664,12.6200972,13.5281456,12.8463697,24.611669,10.5895865,14.7000195,14.1338236,10.0140252,18.6080204,15.4816696,9.47158524,36.2454446,15.4219389,12.6449852,21.7585174,12.2726866,22.7230118,16.0805162,13.399963,23.8155668,10.8145974,15.5891252,18.5655038,16.5838347,15.809776],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;name&#34;:&#34;IN&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;,&#34;symbol&#34;:&#34;triangle-up&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[247.439024,175.921569,1847.12245,900.147059,586.612903,711,147.296296,1472.26471,4297.03846,610,4890.24242,1431.10345,3237.66667,1649.23333,975.818182,445.791667,443.641026,733.882353,1702.44118,360.588235,547.536232,583.282609,2731.73529,927.407407,11634.027,706.322581,265.470588,2142.43333,1181.27273,1277.38235,590.766667,699.02,8291.52941,1677.17647,915.424242,188.214286,1606.58824,3482.69767,6770.0303,409,10012.62,85.05,245.228571,1967.57895,787,2127.34884,3401.32353,104.781818,180.915254,25621.4286,664.53125,644.427273,880.586207,1097.29412,389.375,2440.35484,368.090909,4048.48485,1263.30952,270.787879,5677.96429,749.058824,19701.6727,748.466667,583.78125,113.512821,592.529412,237.636364,579.258065,5689.93939,327.214286,581.647059,4415.54167,3640.175,2031.48276,713,110.693333,2250.64516,1156.20833,1893.51351,6900.90244,60333.9143,775.294118],&#34;y&#34;:[14.1150923,16.2755866,18.0660208,18.9337962,19.039803,11.8278471,14.5760743,17.2519754,18.2258245,21.4208568,23.742011,16.066702,21.4885192,15.8443516,22.6527251,14.6477089,16.9397657,12.0419487,22.8647363,18.7787018,18.912404,20.4206544,26.9787819,26.8725681,20.1454244,11.4331387,21.1730815,30.9753249,16.4441292,16.4684698,24.7650877,14.3082727,36.7600619,15.116835,16.2342399,15.4575777,27.2497358,21.2057826,34.5571857,11.4555097,28.6383762,14.4522145,11.3134379,16.1542355,32.5963872,18.7880617,27.5866359,14.4056678,15.2878703,20.6866911,16.2528217,26.763554,18.5401286,25.0460405,15.084171,35.6088365,13.280021,17.4296096,14.160017,13.4575569,19.0433213,15.6946934,36.9635114,16.9024096,11.6568382,15.9567602,13.6658394,12.9210381,20.0211305,26.9656935,13.8933764,13.363353,19.7081294,17.641192,17.0117257,13.7970398,14.5667198,17.2912268,14.1243101,17.8047443,48.0785102,19.4104036,18.2322106],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;name&#34;:&#34;MI&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(44,160,44,1)&#34;,&#34;symbol&#34;:&#34;square&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(44,160,44,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(44,160,44,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(44,160,44,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(44,160,44,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[724.885714,4573.125,1900.28,2434.65854,1984.96667,1857.70833,2292.70968,1248.78571,10409.9643,1105.04167,1385.34615,6147.83333,5776.42308,1475.625,3492.77419,1041.97059,2081.30435,54313.0769,1489.41667,1710.86957,2478.85185,5484.21429,3567.62069,1144.41667,28277.5588,1539.92,1190.53846,3380.375,5469.24,1219.5,34649.12,2114.06452,1111.10714,643.4,1164.32,1050.82353,1063.875,1313.96,1874.66667,1259.58333,3649.90909,1582.43333,16576.8462,2378.23077,3207.5,1567.03704,9349.17241,22017.1905,1323.85714,11033.5833,2678.08333,4894.16,919.48,1408.67857,3882.58333,596.038462,21252.1852,567.76,1156.20833,2001.65854,472.333333,2501.8125,819.52,1372.04348,1608.5,932.653846,4752.83333,1604.52,1166.17241,4349.55172,1690.97561,2581.79167,2295.05714,1810.09091,1796.6,10811.3235,21457.9167,6157.10811,2473.23529,1229.57692,1269.33333,462.416667,4952.56522,1638.26316,3074.57576,1478.24,3061.32432,927.25],&#34;y&#34;:[8.74173036,17.3660604,17.2669455,13.2435395,29.1494085,16.1764706,14.1576729,11.4336901,24.2252343,11.323289,13.9121748,17.784992,19.6893454,15.7631208,13.0905778,11.6793426,14.258027,25.0853882,13.475094,18.1881619,31.5940573,18.7380268,21.0773874,11.8740898,32.204593,16.4765579,14.9341366,31.6279977,31.956732,13.5143719,29.7883109,24.4504965,16.0309861,10.5537945,15.2589751,12.3112711,12.85435,9.33070866,13.4497842,10.9845318,13.8431503,16.771139,23.6828055,12.2083684,18.1793685,13.3233757,18.8616572,23.5504285,13.3788082,18.1757973,15.0270375,23.7026065,11.677498,14.1000841,19.2777119,10.513927,26.5504804,11.3808463,12.1051405,15.3234543,8.84588804,19.338309,11.4884393,10.1076709,13.0943276,12.4445328,21.8818751,11.233264,15.7080088,16.7975615,14.1156575,16.2824097,13.7772608,15.6221022,17.3762105,18.9896041,24.7331393,15.5998451,13.0834179,16.9825108,15.1100169,7.91325578,24.4193518,19.0096756,18.4454309,14.4987147,29.0951102,13.7107444],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;name&#34;:&#34;OH&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(214,39,40,1)&#34;,&#34;symbol&#34;:&#34;cross-thin-open&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(214,39,40,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(214,39,40,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(214,39,40,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(214,39,40,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[382.487805,301.981481,768.867925,157.393258,6081.0625,339.6,246.867925,1490.91304,831.111111,439.541667,980.173913,455.428571,5028.56164,1417.75926,917.5,535.358974,690.557692,2241.65789,153,2047.34091,146.266667,713.971014,892.323529,847.772727,438.043478,130.914894,276.466667,1936.65714,460.638298,8011.3125,943.9,3496.57143,434.486486,375.096154,509.301887,2233.91667,1227.65957,494.487805,456.333333,185.238095,63951.6667,678.388889,503.766667,446.183099,3797.56757,4855.4,507.642857,963.676471,632.236364,1279.27083,208,8751.7,515.323529,3321.66667,274.163636,1142.06818,939.5,179.506329,688.092593,3246.15625,331.596491,587.511628,533.6875,295.116667,2343.75,275.44,3813.12,8962.20588,1024.53333,523.918919,4009.14286,1533.4375],&#34;y&#34;:[12.4274917,18.3200156,19.425147,25.8228923,26.2931785,17.9412424,13.6760641,19.7803247,18.1533363,13.84631,20.852313,16.599469,43.6264509,15.9254638,22.4883413,20.9940872,26.2870159,29.8544673,15.6035329,20.8318653,13.5699001,21.6803841,19.8751776,17.3050671,20.483251,18.7317293,15.3240741,22.1656323,14.3912738,20.3282422,14.3909586,30.4885126,16.4620371,13.6317946,17.4417943,19.0711481,21.877375,15.4275441,14.0016473,7.33610822,25.3558337,17.3724213,13.4311741,21.9338239,24.8578251,37.4197798,15.7492355,24.464372,18.5920497,24.6343275,15.527175,22.9065131,17.4993368,19.9064402,16.7559769,28.5880867,19.833921,17.9479167,14.8077953,20.8371926,15.0650908,17.5516579,18.9421311,19.2118611,23.1569039,19.0168872,23.3909001,35.3967841,16.5498688,15.064584,24.9955036,21.6663817],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;name&#34;:&#34;WI&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(148,103,189,1)&#34;,&#34;symbol&#34;:&#34;square-x-open&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(148,103,189,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(148,103,189,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(148,103,189,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(148,103,189,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null}],&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;change-colors&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Change colors&lt;/h3&gt;
&lt;p&gt;Changing of colors can be done similarly to the markers/points shown above. In particular, the color argument/aesthetic can be specified with a variable name. The default color values for a discrete/categorical variable is Set2 from the RColorBrewer package; &lt;a href=&#34;http://colorbrewer2.org/#type=qualitative&amp;amp;scheme=Set2&amp;amp;n=3&#34; class=&#34;uri&#34;&gt;http://colorbrewer2.org/#type=qualitative&amp;amp;scheme=Set2&amp;amp;n=3&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot_ly(midwest, x = ~popdensity, y = ~percollege) %&amp;gt;%
  add_markers(color = ~state, color = ~state)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-8&#34; style=&#34;width:864px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-8&#34;&gt;{&#34;x&#34;:{&#34;visdat&#34;:{&#34;1c7a17a11af5&#34;:[&#34;function () &#34;,&#34;plotlyVisDat&#34;]},&#34;cur_data&#34;:&#34;1c7a17a11af5&#34;,&#34;attrs&#34;:{&#34;1c7a17a11af5&#34;:{&#34;x&#34;:{},&#34;y&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;color&#34;:{},&#34;inherit&#34;:true}},&#34;layout&#34;:{&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;xaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;popdensity&#34;},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;percollege&#34;},&#34;hovermode&#34;:&#34;closest&#34;,&#34;showlegend&#34;:true},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;data&#34;:[{&#34;x&#34;:[1270.96154,759,681.409091,1812.11765,324.222222,713.76,313.058824,622.407407,559.875,2983.18966,819.47619,530.7,516.428571,1170.48276,1721.46667,88018.3966,748.615385,533.5,2050.84211,718.086957,778.56,39083.3,544.305556,531.428571,1132.28571,474.840909,475.833333,1612.76,732.307692,363.631579,464.151515,1243.73077,339.96,454.744681,576.555556,352,1003.11765,459.507463,1696.30556,365.827586,1121.81818,893,623.457143,567.35,10947.2759,2468.07692,2189.61111,1342.69048,18443.5,1572.25,726,799.813953,633.887097,855.5,1036.58824,5090.02778,1899.70588,3348.74286,953.58,5538.62222,1187.45714,558.521739,493,1053.71429,620.222222,523.939394,974.869565,749.463415,1102.93939,663.333333,1021.26667,4811.23684,823.538462,621.92,358.714286,198.772727,683.909091,573,960.638889,752.045455,5311.53571,6571.3,1206.86364,3497.76471,288.384615,376.266667,505.931818,384.352941,1456.12121,3171.58974,734.125,1697.25,1092.58333,581.242424,453.484848,410.5,569.724138,1467.95122,7146.26,2309.32,8430.43333,1020.40625],&#34;y&#34;:[19.6313918,11.2433076,17.0338194,17.2789539,14.475999,18.9046238,11.9173877,16.1971209,14.1076487,41.2958081,13.567226,15.1108627,13.6830103,15.3874693,25.1750412,28.0181167,16.9858076,14.5978891,32.835928,16.1959601,16.8685259,42.7688669,16.8399327,16.9356446,20.2751964,13.6029941,17.8273561,14.7056662,15.5321976,11.3675214,13.0495464,18.3778784,14.0467657,20.6605223,14.3184422,13.7735504,18.7236334,15.1666829,36.6436653,15.0256035,18.3698955,14.7583093,16.4133528,14.3524363,27.5938834,17.6409622,24.8893485,19.3436365,37.8340529,16.8995267,14.5388128,18.476678,14.5031437,17.9492226,27.9280239,28.0541488,33.8185507,19.8618556,14.0083929,19.6994744,16.4493851,17.5348837,13.5054525,14.034565,18.511502,16.4744211,19.9206186,11.723732,20.7244228,15.7185951,18.7793745,25.838414,13.5622441,22.011857,12.1742809,14.2502659,14.3687708,16.5212794,12.7412789,21.5077402,21.3007289,21.184251,15.4883463,28.9881549,14.6365422,13.0760986,15.9511699,16.8789809,19.8795753,20.0448263,17.8795898,17.0571729,24.7300469,20.4582651,15.9600242,15.6807027,15.9287398,16.5530497,24.7568609,21.0595616,22.652364,22.8052176],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;name&#34;:&#34;IL&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;}},&#34;textfont&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(102,194,165,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[1480.71429,7337.46341,2893.5,393.375,1406.7,1589.45833,741.052632,854.954545,1600.54167,3989.86364,1176.42857,1346.69565,550.777778,1058.96154,2043.94737,1074.77273,1605.63636,5202.56522,1408.30769,5785.11111,2167.91667,7156,712.32,851.304348,897.142857,1100.44828,3090.375,921.515152,4539,2678.05882,1067.5,3154.875,2005.79167,5051.6875,1540.30435,1257.66667,734.117647,977.818182,1418.90476,1126.71429,4894.94444,1286.58065,2040.4375,1339.86364,15853.1333,2974.05556,1586.51852,5025.73077,34659.087,1622.38462,493.761905,1537.375,4540.75,1147.86667,2330,564.625,1515.08,1063,800.391304,751.347826,570.740741,868.5,625.45,4958.92308,1038.72,486.269231,1045.34483,1044.15385,984.64,788.217391,8823.28571,1908.27273,1679.45833,812.083333,1197.21053,1306.95238,703.444444,595.230769,4353.26667,1007.4375,697.6,12696.7692,1048.3125,4421.125,1524.73913,389.333333,1953.04348,790.566667,2997.95833,1235.61905,775.5,1382.55],&#34;y&#34;:[16.1156797,27.3597862,22.8468145,13.4643978,12.9819635,27.8306241,19.8002103,15.4562536,13.2149823,16.8123574,14.1137248,16.045283,8.54375099,13.2391267,15.5742757,13.9213675,15.581854,21.1970145,17.1676628,18.3723425,11.4249881,20.5498928,11.1452991,12.9935988,13.929867,15.50432,15.5381671,14.9522958,42.1311499,20.4899394,13.1074407,24.2200345,13.2576823,20.2298144,16.9731386,13.1423129,14.8558462,12.771798,17.5460903,10.1458975,22.308069,19.9757478,19.2629151,11.1118012,17.6686138,17.1792531,13.1476522,16.401998,26.7446886,17.7775263,13.5396226,14.4075703,37.7422954,16.9252277,14.6798142,12.1746236,12.6387629,10.7029216,9.78827088,11.1649179,14.6129001,11.0422948,13.842852,24.455887,17.2106825,14.1710559,15.734664,12.6200972,13.5281456,12.8463697,24.611669,10.5895865,14.7000195,14.1338236,10.0140252,18.6080204,15.4816696,9.47158524,36.2454446,15.4219389,12.6449852,21.7585174,12.2726866,22.7230118,16.0805162,13.399963,23.8155668,10.8145974,15.5891252,18.5655038,16.5838347,15.809776],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;name&#34;:&#34;IN&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;}},&#34;textfont&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(252,141,98,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[247.439024,175.921569,1847.12245,900.147059,586.612903,711,147.296296,1472.26471,4297.03846,610,4890.24242,1431.10345,3237.66667,1649.23333,975.818182,445.791667,443.641026,733.882353,1702.44118,360.588235,547.536232,583.282609,2731.73529,927.407407,11634.027,706.322581,265.470588,2142.43333,1181.27273,1277.38235,590.766667,699.02,8291.52941,1677.17647,915.424242,188.214286,1606.58824,3482.69767,6770.0303,409,10012.62,85.05,245.228571,1967.57895,787,2127.34884,3401.32353,104.781818,180.915254,25621.4286,664.53125,644.427273,880.586207,1097.29412,389.375,2440.35484,368.090909,4048.48485,1263.30952,270.787879,5677.96429,749.058824,19701.6727,748.466667,583.78125,113.512821,592.529412,237.636364,579.258065,5689.93939,327.214286,581.647059,4415.54167,3640.175,2031.48276,713,110.693333,2250.64516,1156.20833,1893.51351,6900.90244,60333.9143,775.294118],&#34;y&#34;:[14.1150923,16.2755866,18.0660208,18.9337962,19.039803,11.8278471,14.5760743,17.2519754,18.2258245,21.4208568,23.742011,16.066702,21.4885192,15.8443516,22.6527251,14.6477089,16.9397657,12.0419487,22.8647363,18.7787018,18.912404,20.4206544,26.9787819,26.8725681,20.1454244,11.4331387,21.1730815,30.9753249,16.4441292,16.4684698,24.7650877,14.3082727,36.7600619,15.116835,16.2342399,15.4575777,27.2497358,21.2057826,34.5571857,11.4555097,28.6383762,14.4522145,11.3134379,16.1542355,32.5963872,18.7880617,27.5866359,14.4056678,15.2878703,20.6866911,16.2528217,26.763554,18.5401286,25.0460405,15.084171,35.6088365,13.280021,17.4296096,14.160017,13.4575569,19.0433213,15.6946934,36.9635114,16.9024096,11.6568382,15.9567602,13.6658394,12.9210381,20.0211305,26.9656935,13.8933764,13.363353,19.7081294,17.641192,17.0117257,13.7970398,14.5667198,17.2912268,14.1243101,17.8047443,48.0785102,19.4104036,18.2322106],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;name&#34;:&#34;MI&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;}},&#34;textfont&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(141,160,203,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[724.885714,4573.125,1900.28,2434.65854,1984.96667,1857.70833,2292.70968,1248.78571,10409.9643,1105.04167,1385.34615,6147.83333,5776.42308,1475.625,3492.77419,1041.97059,2081.30435,54313.0769,1489.41667,1710.86957,2478.85185,5484.21429,3567.62069,1144.41667,28277.5588,1539.92,1190.53846,3380.375,5469.24,1219.5,34649.12,2114.06452,1111.10714,643.4,1164.32,1050.82353,1063.875,1313.96,1874.66667,1259.58333,3649.90909,1582.43333,16576.8462,2378.23077,3207.5,1567.03704,9349.17241,22017.1905,1323.85714,11033.5833,2678.08333,4894.16,919.48,1408.67857,3882.58333,596.038462,21252.1852,567.76,1156.20833,2001.65854,472.333333,2501.8125,819.52,1372.04348,1608.5,932.653846,4752.83333,1604.52,1166.17241,4349.55172,1690.97561,2581.79167,2295.05714,1810.09091,1796.6,10811.3235,21457.9167,6157.10811,2473.23529,1229.57692,1269.33333,462.416667,4952.56522,1638.26316,3074.57576,1478.24,3061.32432,927.25],&#34;y&#34;:[8.74173036,17.3660604,17.2669455,13.2435395,29.1494085,16.1764706,14.1576729,11.4336901,24.2252343,11.323289,13.9121748,17.784992,19.6893454,15.7631208,13.0905778,11.6793426,14.258027,25.0853882,13.475094,18.1881619,31.5940573,18.7380268,21.0773874,11.8740898,32.204593,16.4765579,14.9341366,31.6279977,31.956732,13.5143719,29.7883109,24.4504965,16.0309861,10.5537945,15.2589751,12.3112711,12.85435,9.33070866,13.4497842,10.9845318,13.8431503,16.771139,23.6828055,12.2083684,18.1793685,13.3233757,18.8616572,23.5504285,13.3788082,18.1757973,15.0270375,23.7026065,11.677498,14.1000841,19.2777119,10.513927,26.5504804,11.3808463,12.1051405,15.3234543,8.84588804,19.338309,11.4884393,10.1076709,13.0943276,12.4445328,21.8818751,11.233264,15.7080088,16.7975615,14.1156575,16.2824097,13.7772608,15.6221022,17.3762105,18.9896041,24.7331393,15.5998451,13.0834179,16.9825108,15.1100169,7.91325578,24.4193518,19.0096756,18.4454309,14.4987147,29.0951102,13.7107444],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;name&#34;:&#34;OH&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(231,138,195,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(231,138,195,1)&#34;}},&#34;textfont&#34;:{&#34;color&#34;:&#34;rgba(231,138,195,1)&#34;},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(231,138,195,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(231,138,195,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(231,138,195,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[382.487805,301.981481,768.867925,157.393258,6081.0625,339.6,246.867925,1490.91304,831.111111,439.541667,980.173913,455.428571,5028.56164,1417.75926,917.5,535.358974,690.557692,2241.65789,153,2047.34091,146.266667,713.971014,892.323529,847.772727,438.043478,130.914894,276.466667,1936.65714,460.638298,8011.3125,943.9,3496.57143,434.486486,375.096154,509.301887,2233.91667,1227.65957,494.487805,456.333333,185.238095,63951.6667,678.388889,503.766667,446.183099,3797.56757,4855.4,507.642857,963.676471,632.236364,1279.27083,208,8751.7,515.323529,3321.66667,274.163636,1142.06818,939.5,179.506329,688.092593,3246.15625,331.596491,587.511628,533.6875,295.116667,2343.75,275.44,3813.12,8962.20588,1024.53333,523.918919,4009.14286,1533.4375],&#34;y&#34;:[12.4274917,18.3200156,19.425147,25.8228923,26.2931785,17.9412424,13.6760641,19.7803247,18.1533363,13.84631,20.852313,16.599469,43.6264509,15.9254638,22.4883413,20.9940872,26.2870159,29.8544673,15.6035329,20.8318653,13.5699001,21.6803841,19.8751776,17.3050671,20.483251,18.7317293,15.3240741,22.1656323,14.3912738,20.3282422,14.3909586,30.4885126,16.4620371,13.6317946,17.4417943,19.0711481,21.877375,15.4275441,14.0016473,7.33610822,25.3558337,17.3724213,13.4311741,21.9338239,24.8578251,37.4197798,15.7492355,24.464372,18.5920497,24.6343275,15.527175,22.9065131,17.4993368,19.9064402,16.7559769,28.5880867,19.833921,17.9479167,14.8077953,20.8371926,15.0650908,17.5516579,18.9421311,19.2118611,23.1569039,19.0168872,23.3909001,35.3967841,16.5498688,15.064584,24.9955036,21.6663817],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;markers&#34;,&#34;name&#34;:&#34;WI&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(166,216,84,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(166,216,84,1)&#34;}},&#34;textfont&#34;:{&#34;color&#34;:&#34;rgba(166,216,84,1)&#34;},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(166,216,84,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(166,216,84,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(166,216,84,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null}],&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;line-graph&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Line Graph&lt;/h2&gt;
&lt;p&gt;Line graphs have the same specification as the scatterplots in that the x and y axes have to be specified and the &lt;code&gt;add_lines()&lt;/code&gt; function is used. In the example below, I first summarise the number of tropical storms that occurred each year from 1975 to 2015, then plot these values with a line plot. Not shown in the examples, but if there are multiple trajectories that you wish to plot, you can distinguish these with color or linetype aesthetics similar to the changing of markers or colors shown with scatterplots.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;storms_yearly &amp;lt;- storms %&amp;gt;%
  group_by(year) %&amp;gt;%
  summarise(num = length(unique(name)))

plot_ly(storms_yearly, x = ~year, y = ~num) %&amp;gt;%
  add_lines()&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-9&#34; style=&#34;width:864px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-9&#34;&gt;{&#34;x&#34;:{&#34;visdat&#34;:{&#34;1c7a1aaf923e&#34;:[&#34;function () &#34;,&#34;plotlyVisDat&#34;]},&#34;cur_data&#34;:&#34;1c7a1aaf923e&#34;,&#34;attrs&#34;:{&#34;1c7a1aaf923e&#34;:{&#34;x&#34;:{},&#34;y&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;lines&#34;,&#34;inherit&#34;:true}},&#34;layout&#34;:{&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;xaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;year&#34;},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;title&#34;:&#34;num&#34;},&#34;hovermode&#34;:&#34;closest&#34;,&#34;showlegend&#34;:false},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;data&#34;:[{&#34;x&#34;:[1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015],&#34;y&#34;:[3,2,3,4,7,8,5,5,4,10,10,4,3,10,11,12,9,7,6,11,21,10,7,12,10,16,17,12,20,13,21,9,16,14,10,20,15,17,14,7,11],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;lines&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null}],&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;your-turn-2&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Your Turn&lt;/h1&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Using the &lt;code&gt;gss_cat&lt;/code&gt; data, create a scatterplot showing the &lt;code&gt;age&lt;/code&gt; and &lt;code&gt;tvhours&lt;/code&gt; variables.&lt;/li&gt;
&lt;li&gt;Compute the average time spent watching tv by year and marital status. Then, plot the average time spent watching tv by year and marital status.&lt;/li&gt;
&lt;/ol&gt;
&lt;div id=&#34;subplots&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Subplots&lt;/h2&gt;
&lt;p&gt;There are a few different ways to create subplots or facetted plots using ggplot2 terminology. In all of these elements, the &lt;code&gt;subplot()&lt;/code&gt; function from plotly will be used. Three ways will be shown to create subplots, one that manually creates each unique plotly figure and combine with &lt;code&gt;subplot()&lt;/code&gt;, a second will create a function that can be passed to a list, and the final will use facetting within ggplot2 and pass to the &lt;code&gt;subplot()&lt;/code&gt; function.&lt;/p&gt;
&lt;div id=&#34;manually-create-multiple-plotly-figures&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Manually create multiple plotly figures&lt;/h3&gt;
&lt;p&gt;The first way to create multiple figures side by side is to manually create multiple plotly figures, save these as objects, then use the &lt;code&gt;subplot()&lt;/code&gt; function to combine them into a single figure. Below, I’m going to use the tropical storm data from the line plot example, and instead of calculating the number of storms each year, I’m going to calculate the maximum wind speed and minimum pressure for each year and plot these values.&lt;/p&gt;
&lt;p&gt;One thing to note about this figure, the two axes are different which may not be best practice in combining figures as this can complicate interpretation. I also specified the &lt;code&gt;name&lt;/code&gt; argument to the &lt;code&gt;add_lines()&lt;/code&gt; function for each figure created. This allowed for the creation of the legend that differentiates the two different figures.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;storm_summary &amp;lt;- storms %&amp;gt;%
  group_by(year) %&amp;gt;%
  summarise(max_wind = max(wind),
         min_pressure = min(pressure))

p1 &amp;lt;- plot_ly(storm_summary, x = ~year, y = ~max_wind) %&amp;gt;%
  add_lines(name = &amp;#39;Max Wind&amp;#39;)
p2 &amp;lt;- plot_ly(storm_summary, x = ~year, y = ~min_pressure) %&amp;gt;%
  add_lines(name = &amp;#39;Min Pressure&amp;#39;)
subplot(p1, p2)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-10&#34; style=&#34;width:864px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-10&#34;&gt;{&#34;x&#34;:{&#34;data&#34;:[{&#34;x&#34;:[1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015],&#34;y&#34;:[100,105,150,80,150,90,115,115,100,115,125,75,110,160,140,105,115,150,100,75,130,125,110,155,135,120,125,125,145,145,160,105,150,135,115,135,120,100,80,125,135],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;lines&#34;,&#34;name&#34;:&#34;Max Wind&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015],&#34;y&#34;:[963,957,926,980,924,970,946,950,962,949,920,987,958,888,918,956,944,922,960,979,916,933,946,905,921,939,934,934,915,910,882,955,905,935,943,924,940,940,979,940,931],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;lines&#34;,&#34;name&#34;:&#34;Min Pressure&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;},&#34;line&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;},&#34;xaxis&#34;:&#34;x2&#34;,&#34;yaxis&#34;:&#34;y2&#34;,&#34;frame&#34;:null}],&#34;layout&#34;:{&#34;xaxis&#34;:{&#34;domain&#34;:[0,0.48],&#34;automargin&#34;:true,&#34;anchor&#34;:&#34;y&#34;},&#34;xaxis2&#34;:{&#34;domain&#34;:[0.52,1],&#34;automargin&#34;:true,&#34;anchor&#34;:&#34;y2&#34;},&#34;yaxis2&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;anchor&#34;:&#34;x2&#34;},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;anchor&#34;:&#34;x&#34;},&#34;annotations&#34;:[],&#34;shapes&#34;:[],&#34;images&#34;:[],&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;hovermode&#34;:&#34;closest&#34;,&#34;showlegend&#34;:true},&#34;attrs&#34;:{&#34;1c7a9c15478&#34;:{&#34;x&#34;:{},&#34;y&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;lines&#34;,&#34;name&#34;:&#34;Max Wind&#34;,&#34;inherit&#34;:true},&#34;1c7a73909748&#34;:{&#34;x&#34;:{},&#34;y&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;scatter&#34;,&#34;mode&#34;:&#34;lines&#34;,&#34;name&#34;:&#34;Min Pressure&#34;,&#34;inherit&#34;:true}},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;subplot&#34;:true,&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;function-to-data-list&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Function to data list&lt;/h3&gt;
&lt;p&gt;Another way to create subplots, is to create a function that creates a single plot for a specific panel. Then, this function is passed to the data after the data has been split into a list of data corresponding to the data for each film using the &lt;code&gt;group_split()&lt;/code&gt; function from dplyr. Finally, the &lt;code&gt;lapply()&lt;/code&gt; function is used to iterate over this list and apply the &lt;code&gt;one_plot&lt;/code&gt; function to each element of the list. This functionally creates a histogram of the words for each of the three movies. These are then combined together using the &lt;code&gt;subplot()&lt;/code&gt; function, forced to span one row and the legend is omitted since I added the text label at the top of each function with the &lt;code&gt;add_annotations()&lt;/code&gt; function. The &lt;code&gt;add_annotations()&lt;/code&gt; function takes a text argument, in this case the specific film, and position arguments. I’ve found the specification of the position arguments is best done through trial and error.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;one_plot &amp;lt;- function(d) {
  plot_ly(d, x = ~Words) %&amp;gt;%
    add_histogram() %&amp;gt;%
    add_annotations(
      ~unique(Film), x = 0.5, y = 1, 
      xref = &amp;quot;paper&amp;quot;, yref = &amp;quot;paper&amp;quot;, showarrow = FALSE
    )
}

lotr %&amp;gt;%
  group_split(Film) %&amp;gt;%
  lapply(one_plot) %&amp;gt;% 
  subplot(nrows = 1, shareX = TRUE, titleX = FALSE) %&amp;gt;%
  hide_legend()&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-11&#34; style=&#34;width:864px;height:576px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-11&#34;&gt;{&#34;x&#34;:{&#34;data&#34;:[{&#34;x&#34;:[4,5,460,214,70,128,197,10,12,339,64,8,326,32,12,8,1,19,2,15,1,7,182,148,6,33,60,107,12,17,21,53,53,61,3,10,17,55,28,139,541,3,84,43,40,85,274,21,37,58,32,48,20,43,14,9,76,68,38,76,13,6,39,30,19,96,29,28,25,17,33,12,9,20,22,7,53,16,13,12,24,5,48,131,5,9,34,7,36,5,107,104,63,33,260,102,1,25,47,39,24,57,40,220,167,24,85,38,34,4,24,18,8,12,11,65,105,3,48,7,7,12,15,68,47,3,17,10,3,30,61,6,18,19,8,68,31,31,30,202,52,7,9,11,7,39,349,6,8,10,7,22,5,8,89,37,8,13,45,17,4,83,7,4,26,27,19,84,51,7,2,16,149,61,135,19,41,6,49,36,214,1,83,13,99,166,81,20,5,1,13,64,103,16,37,79,202,54,48,31,2,3,2,2,6,6,18,17,2,72,72,102,59,34,12,15,50],&#34;type&#34;:&#34;histogram&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(31,119,180,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[13,18,77,1,22,36,51,3,111,23,2,301,98,20,4,8,15,40,21,78,73,1,52,46,65,13,50,20,255,22,135,104,22,36,7,100,30,151,202,36,268,22,30,56,163,2,75,8,20,5,4,61,30,3,18,7,6,28,5,10,18,21,36,4,15,19,16,3,73,1,66,34,17,13,13,8,15,114,72,8,9,9,4,80,66,89,53,32,43,184,20,31,29,5,59,26,89,56,12,9,21,12,30,24,54,15,168,7,4,42,32,18,20,9,20,16,10,60,6,45,123,8,3,21,63,75,43,32,40,81,19,46,7,25,15,21,7,14,6,60,51,1,22,10,83,13,5,68,21,15,48,55,36,10,17,48,7,9,13,2,17,15,2,71,42,9,2,9,8,3,26,54,17,8,5,12,19,4,1,1,6,6,5,8,38,9,15,3,1,11,16,64,23,96,35,82,8,59,24,2,17,17,17,16,104,46,30,56,23,32,5,1,87,5,103,16,8,16,44,85,2,2,9,10,6,7,38,2,1,37,31,4,1,1,45,11,98,4,2,2,27,56,6,132,17,42,14],&#34;type&#34;:&#34;histogram&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(255,127,14,1)&#34;},&#34;xaxis&#34;:&#34;x2&#34;,&#34;yaxis&#34;:&#34;y2&#34;,&#34;frame&#34;:null},{&#34;x&#34;:[2,9,39,5,46,97,123,181,10,2,19,26,51,59,35,25,2,24,37,29,187,11,13,10,88,8,81,3,6,13,44,10,68,20,14,33,13,68,156,24,7,33,16,3,18,28,36,54,69,68,298,73,63,4,7,226,39,68,63,122,18,28,151,15,166,21,56,24,28,55,59,24,3,165,21,29,49,22,36,13,51,68,18,31,45,52,4,81,87,76,39,91,3,68,33,76,6,59,97,119,55,11,9,10,5,45,3,5,10,50,22,1,14,4,2,15,22,49,66,8,9,50,8,14,188,190,143,75,63,8,132,6,250,35,92,89,16,64,69,9,51,5,2,206,6,78,65,13,36,12,30,64,18,7,34,14,37,23,24,17,4,18,1,50,37,1,7,30,5,12,6,17,58,29,31,6,34,1,22,58,6,46,1,23,6,5,8,31,15,20,53,73,6,20,21,5,7,63,3,1,16,12,22,186,4,10,35,7,77,56,95,18,54,30,36,69,11,12],&#34;type&#34;:&#34;histogram&#34;,&#34;marker&#34;:{&#34;color&#34;:&#34;rgba(44,160,44,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(44,160,44,1)&#34;}},&#34;error_y&#34;:{&#34;color&#34;:&#34;rgba(44,160,44,1)&#34;},&#34;error_x&#34;:{&#34;color&#34;:&#34;rgba(44,160,44,1)&#34;},&#34;xaxis&#34;:&#34;x3&#34;,&#34;yaxis&#34;:&#34;y3&#34;,&#34;frame&#34;:null}],&#34;layout&#34;:{&#34;xaxis&#34;:{&#34;domain&#34;:[0,0.313333333333333],&#34;automargin&#34;:true,&#34;anchor&#34;:&#34;y&#34;},&#34;xaxis2&#34;:{&#34;domain&#34;:[0.353333333333333,0.646666666666667],&#34;automargin&#34;:true,&#34;anchor&#34;:&#34;y2&#34;},&#34;xaxis3&#34;:{&#34;domain&#34;:[0.686666666666667,1],&#34;automargin&#34;:true,&#34;anchor&#34;:&#34;y3&#34;},&#34;yaxis3&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;anchor&#34;:&#34;x3&#34;},&#34;yaxis2&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;anchor&#34;:&#34;x2&#34;},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;anchor&#34;:&#34;x&#34;},&#34;annotations&#34;:[{&#34;text&#34;:&#34;The Fellowship Of The Ring&#34;,&#34;x&#34;:0.156666666666667,&#34;y&#34;:1,&#34;xref&#34;:&#34;paper&#34;,&#34;yref&#34;:&#34;paper&#34;,&#34;showarrow&#34;:false},{&#34;text&#34;:&#34;The Return Of The King&#34;,&#34;x&#34;:0.5,&#34;y&#34;:1,&#34;xref&#34;:&#34;paper&#34;,&#34;yref&#34;:&#34;paper&#34;,&#34;showarrow&#34;:false},{&#34;text&#34;:&#34;The Two Towers&#34;,&#34;x&#34;:0.843333333333333,&#34;y&#34;:1,&#34;xref&#34;:&#34;paper&#34;,&#34;yref&#34;:&#34;paper&#34;,&#34;showarrow&#34;:false}],&#34;shapes&#34;:[],&#34;images&#34;:[],&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;hovermode&#34;:&#34;closest&#34;,&#34;showlegend&#34;:false},&#34;attrs&#34;:{&#34;1c7a12c838a5&#34;:{&#34;x&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;histogram&#34;,&#34;inherit&#34;:true},&#34;1c7a16fee245&#34;:{&#34;x&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;histogram&#34;,&#34;inherit&#34;:true},&#34;1c7a37b92bce&#34;:{&#34;x&#34;:{},&#34;alpha_stroke&#34;:1,&#34;sizes&#34;:[10,100],&#34;spans&#34;:[1,20],&#34;type&#34;:&#34;histogram&#34;,&#34;inherit&#34;:true}},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;subplot&#34;:true,&#34;.hideLegend&#34;:true,&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;facetting-with-ggplot2&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Facetting with ggplot2&lt;/h3&gt;
&lt;p&gt;You can also create general facetting with ggplot2 and use the &lt;code&gt;ggplotly()&lt;/code&gt; function to preserve those facets. For example, we can recreate a similar plot with the histograms for each movie as above with the following code. One nice feature of the subplots, is that if you zoom in on one facet, the view is automatically updated on subsequent facets.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;lotr_hist &amp;lt;- ggplot(lotr, aes(x = Words, fill = Film)) +
  geom_histogram(bins = 20) +
  facet_wrap(~ Film) + 
  theme_bw() + 
  theme(legend.position = &amp;#39;none&amp;#39;)

ggplotly(lotr_hist)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-12&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-12&#34;&gt;{&#34;x&#34;:{&#34;data&#34;:[{&#34;orientation&#34;:&#34;v&#34;,&#34;width&#34;:[28.4210526315789,28.421052631579,28.4210526315789,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579],&#34;base&#34;:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],&#34;x&#34;:[0,28.4210526315789,56.8421052631579,85.2631578947368,113.684210526316,142.105263157895,170.526315789474,198.947368421053,227.368421052632,255.789473684211,284.210526315789,312.631578947368,341.052631578947,369.473684210526,397.894736842105,426.315789473684,454.736842105263,483.157894736842,511.578947368421,540],&#34;y&#34;:[75,65,33,15,7,6,3,3,3,1,1,1,2,0,0,0,1,0,0,1],&#34;text&#34;:[&#34;count: 75&lt;br /&gt;Words:   0.00000&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count: 65&lt;br /&gt;Words:  28.42105&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count: 33&lt;br /&gt;Words:  56.84211&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count: 15&lt;br /&gt;Words:  85.26316&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  7&lt;br /&gt;Words: 113.68421&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  6&lt;br /&gt;Words: 142.10526&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  3&lt;br /&gt;Words: 170.52632&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  3&lt;br /&gt;Words: 198.94737&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  3&lt;br /&gt;Words: 227.36842&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  1&lt;br /&gt;Words: 255.78947&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  1&lt;br /&gt;Words: 284.21053&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  1&lt;br /&gt;Words: 312.63158&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  2&lt;br /&gt;Words: 341.05263&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  0&lt;br /&gt;Words: 369.47368&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  0&lt;br /&gt;Words: 397.89474&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  0&lt;br /&gt;Words: 426.31579&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  1&lt;br /&gt;Words: 454.73684&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  0&lt;br /&gt;Words: 483.15789&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  0&lt;br /&gt;Words: 511.57895&lt;br /&gt;Film: The Fellowship Of The Ring&#34;,&#34;count:  1&lt;br /&gt;Words: 540.00000&lt;br /&gt;Film: The Fellowship Of The Ring&#34;],&#34;type&#34;:&#34;bar&#34;,&#34;textposition&#34;:&#34;none&#34;,&#34;marker&#34;:{&#34;autocolorscale&#34;:false,&#34;color&#34;:&#34;rgba(248,118,109,1)&#34;,&#34;line&#34;:{&#34;width&#34;:1.88976377952756,&#34;color&#34;:&#34;transparent&#34;}},&#34;name&#34;:&#34;The Fellowship Of The Ring&#34;,&#34;legendgroup&#34;:&#34;The Fellowship Of The Ring&#34;,&#34;showlegend&#34;:true,&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;hoverinfo&#34;:&#34;text&#34;,&#34;frame&#34;:null},{&#34;orientation&#34;:&#34;v&#34;,&#34;width&#34;:[28.4210526315789,28.421052631579,28.4210526315789,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579],&#34;base&#34;:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],&#34;x&#34;:[0,28.4210526315789,56.8421052631579,85.2631578947368,113.684210526316,142.105263157895,170.526315789474,198.947368421053,227.368421052632,255.789473684211,284.210526315789,312.631578947368,341.052631578947,369.473684210526,397.894736842105,426.315789473684,454.736842105263,483.157894736842,511.578947368421,540],&#34;y&#34;:[95,83,34,18,7,3,3,1,0,2,0,1,0,0,0,0,0,0,0,0],&#34;text&#34;:[&#34;count: 95&lt;br /&gt;Words:   0.00000&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count: 83&lt;br /&gt;Words:  28.42105&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count: 34&lt;br /&gt;Words:  56.84211&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count: 18&lt;br /&gt;Words:  85.26316&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  7&lt;br /&gt;Words: 113.68421&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  3&lt;br /&gt;Words: 142.10526&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  3&lt;br /&gt;Words: 170.52632&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  1&lt;br /&gt;Words: 198.94737&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  0&lt;br /&gt;Words: 227.36842&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  2&lt;br /&gt;Words: 255.78947&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  0&lt;br /&gt;Words: 284.21053&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  1&lt;br /&gt;Words: 312.63158&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  0&lt;br /&gt;Words: 341.05263&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  0&lt;br /&gt;Words: 369.47368&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  0&lt;br /&gt;Words: 397.89474&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  0&lt;br /&gt;Words: 426.31579&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  0&lt;br /&gt;Words: 454.73684&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  0&lt;br /&gt;Words: 483.15789&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  0&lt;br /&gt;Words: 511.57895&lt;br /&gt;Film: The Return Of The King&#34;,&#34;count:  0&lt;br /&gt;Words: 540.00000&lt;br /&gt;Film: The Return Of The King&#34;],&#34;type&#34;:&#34;bar&#34;,&#34;textposition&#34;:&#34;none&#34;,&#34;marker&#34;:{&#34;autocolorscale&#34;:false,&#34;color&#34;:&#34;rgba(0,186,56,1)&#34;,&#34;line&#34;:{&#34;width&#34;:1.88976377952756,&#34;color&#34;:&#34;transparent&#34;}},&#34;name&#34;:&#34;The Return Of The King&#34;,&#34;legendgroup&#34;:&#34;The Return Of The King&#34;,&#34;showlegend&#34;:true,&#34;xaxis&#34;:&#34;x2&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;hoverinfo&#34;:&#34;text&#34;,&#34;frame&#34;:null},{&#34;orientation&#34;:&#34;v&#34;,&#34;width&#34;:[28.4210526315789,28.421052631579,28.4210526315789,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579,28.421052631579],&#34;base&#34;:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],&#34;x&#34;:[0,28.4210526315789,56.8421052631579,85.2631578947368,113.684210526316,142.105263157895,170.526315789474,198.947368421053,227.368421052632,255.789473684211,284.210526315789,312.631578947368,341.052631578947,369.473684210526,397.894736842105,426.315789473684,454.736842105263,483.157894736842,511.578947368421,540],&#34;y&#34;:[75,65,43,17,3,4,3,5,1,1,1,0,0,0,0,0,0,0,0,0],&#34;text&#34;:[&#34;count: 75&lt;br /&gt;Words:   0.00000&lt;br /&gt;Film: The Two Towers&#34;,&#34;count: 65&lt;br /&gt;Words:  28.42105&lt;br /&gt;Film: The Two Towers&#34;,&#34;count: 43&lt;br /&gt;Words:  56.84211&lt;br /&gt;Film: The Two Towers&#34;,&#34;count: 17&lt;br /&gt;Words:  85.26316&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  3&lt;br /&gt;Words: 113.68421&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  4&lt;br /&gt;Words: 142.10526&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  3&lt;br /&gt;Words: 170.52632&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  5&lt;br /&gt;Words: 198.94737&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  1&lt;br /&gt;Words: 227.36842&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  1&lt;br /&gt;Words: 255.78947&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  1&lt;br /&gt;Words: 284.21053&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  0&lt;br /&gt;Words: 312.63158&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  0&lt;br /&gt;Words: 341.05263&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  0&lt;br /&gt;Words: 369.47368&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  0&lt;br /&gt;Words: 397.89474&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  0&lt;br /&gt;Words: 426.31579&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  0&lt;br /&gt;Words: 454.73684&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  0&lt;br /&gt;Words: 483.15789&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  0&lt;br /&gt;Words: 511.57895&lt;br /&gt;Film: The Two Towers&#34;,&#34;count:  0&lt;br /&gt;Words: 540.00000&lt;br /&gt;Film: The Two Towers&#34;],&#34;type&#34;:&#34;bar&#34;,&#34;textposition&#34;:&#34;none&#34;,&#34;marker&#34;:{&#34;autocolorscale&#34;:false,&#34;color&#34;:&#34;rgba(97,156,255,1)&#34;,&#34;line&#34;:{&#34;width&#34;:1.88976377952756,&#34;color&#34;:&#34;transparent&#34;}},&#34;name&#34;:&#34;The Two Towers&#34;,&#34;legendgroup&#34;:&#34;The Two Towers&#34;,&#34;showlegend&#34;:true,&#34;xaxis&#34;:&#34;x3&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;hoverinfo&#34;:&#34;text&#34;,&#34;frame&#34;:null}],&#34;layout&#34;:{&#34;margin&#34;:{&#34;t&#34;:37.9178082191781,&#34;r&#34;:7.30593607305936,&#34;b&#34;:40.1826484018265,&#34;l&#34;:37.2602739726027},&#34;plot_bgcolor&#34;:&#34;rgba(255,255,255,1)&#34;,&#34;paper_bgcolor&#34;:&#34;rgba(255,255,255,1)&#34;,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:14.6118721461187},&#34;xaxis&#34;:{&#34;domain&#34;:[0,0.322461404653185],&#34;automargin&#34;:true,&#34;type&#34;:&#34;linear&#34;,&#34;autorange&#34;:false,&#34;range&#34;:[-42.6315789473684,582.631578947368],&#34;tickmode&#34;:&#34;array&#34;,&#34;ticktext&#34;:[&#34;0&#34;,&#34;200&#34;,&#34;400&#34;],&#34;tickvals&#34;:[7.105427357601e-15,200,400],&#34;categoryorder&#34;:&#34;array&#34;,&#34;categoryarray&#34;:[&#34;0&#34;,&#34;200&#34;,&#34;400&#34;],&#34;nticks&#34;:null,&#34;ticks&#34;:&#34;outside&#34;,&#34;tickcolor&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;ticklen&#34;:3.65296803652968,&#34;tickwidth&#34;:0.66417600664176,&#34;showticklabels&#34;:true,&#34;tickfont&#34;:{&#34;color&#34;:&#34;rgba(77,77,77,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;tickangle&#34;:-0,&#34;showline&#34;:false,&#34;linecolor&#34;:null,&#34;linewidth&#34;:0,&#34;showgrid&#34;:true,&#34;gridcolor&#34;:&#34;rgba(235,235,235,1)&#34;,&#34;gridwidth&#34;:0.66417600664176,&#34;zeroline&#34;:false,&#34;anchor&#34;:&#34;y&#34;,&#34;title&#34;:&#34;&#34;,&#34;hoverformat&#34;:&#34;.2f&#34;},&#34;annotations&#34;:[{&#34;text&#34;:&#34;Words&#34;,&#34;x&#34;:0.5,&#34;y&#34;:0,&#34;showarrow&#34;:false,&#34;ax&#34;:0,&#34;ay&#34;:0,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:14.6118721461187},&#34;xref&#34;:&#34;paper&#34;,&#34;yref&#34;:&#34;paper&#34;,&#34;textangle&#34;:-0,&#34;xanchor&#34;:&#34;center&#34;,&#34;yanchor&#34;:&#34;top&#34;,&#34;annotationType&#34;:&#34;axis&#34;,&#34;yshift&#34;:-21.9178082191781},{&#34;text&#34;:&#34;count&#34;,&#34;x&#34;:0,&#34;y&#34;:0.5,&#34;showarrow&#34;:false,&#34;ax&#34;:0,&#34;ay&#34;:0,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:14.6118721461187},&#34;xref&#34;:&#34;paper&#34;,&#34;yref&#34;:&#34;paper&#34;,&#34;textangle&#34;:-90,&#34;xanchor&#34;:&#34;right&#34;,&#34;yanchor&#34;:&#34;center&#34;,&#34;annotationType&#34;:&#34;axis&#34;,&#34;xshift&#34;:-21.9178082191781},{&#34;text&#34;:&#34;The Fellowship Of The Ring&#34;,&#34;x&#34;:0.161230702326593,&#34;y&#34;:1,&#34;showarrow&#34;:false,&#34;ax&#34;:0,&#34;ay&#34;:0,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(26,26,26,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;xref&#34;:&#34;paper&#34;,&#34;yref&#34;:&#34;paper&#34;,&#34;textangle&#34;:-0,&#34;xanchor&#34;:&#34;center&#34;,&#34;yanchor&#34;:&#34;bottom&#34;},{&#34;text&#34;:&#34;The Return Of The King&#34;,&#34;x&#34;:0.5,&#34;y&#34;:1,&#34;showarrow&#34;:false,&#34;ax&#34;:0,&#34;ay&#34;:0,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(26,26,26,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;xref&#34;:&#34;paper&#34;,&#34;yref&#34;:&#34;paper&#34;,&#34;textangle&#34;:-0,&#34;xanchor&#34;:&#34;center&#34;,&#34;yanchor&#34;:&#34;bottom&#34;},{&#34;text&#34;:&#34;The Two Towers&#34;,&#34;x&#34;:0.838769297673407,&#34;y&#34;:1,&#34;showarrow&#34;:false,&#34;ax&#34;:0,&#34;ay&#34;:0,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(26,26,26,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;xref&#34;:&#34;paper&#34;,&#34;yref&#34;:&#34;paper&#34;,&#34;textangle&#34;:-0,&#34;xanchor&#34;:&#34;center&#34;,&#34;yanchor&#34;:&#34;bottom&#34;}],&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;automargin&#34;:true,&#34;type&#34;:&#34;linear&#34;,&#34;autorange&#34;:false,&#34;range&#34;:[-4.75,99.75],&#34;tickmode&#34;:&#34;array&#34;,&#34;ticktext&#34;:[&#34;0&#34;,&#34;25&#34;,&#34;50&#34;,&#34;75&#34;],&#34;tickvals&#34;:[0,25,50,75],&#34;categoryorder&#34;:&#34;array&#34;,&#34;categoryarray&#34;:[&#34;0&#34;,&#34;25&#34;,&#34;50&#34;,&#34;75&#34;],&#34;nticks&#34;:null,&#34;ticks&#34;:&#34;outside&#34;,&#34;tickcolor&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;ticklen&#34;:3.65296803652968,&#34;tickwidth&#34;:0.66417600664176,&#34;showticklabels&#34;:true,&#34;tickfont&#34;:{&#34;color&#34;:&#34;rgba(77,77,77,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;tickangle&#34;:-0,&#34;showline&#34;:false,&#34;linecolor&#34;:null,&#34;linewidth&#34;:0,&#34;showgrid&#34;:true,&#34;gridcolor&#34;:&#34;rgba(235,235,235,1)&#34;,&#34;gridwidth&#34;:0.66417600664176,&#34;zeroline&#34;:false,&#34;anchor&#34;:&#34;x&#34;,&#34;title&#34;:&#34;&#34;,&#34;hoverformat&#34;:&#34;.2f&#34;},&#34;shapes&#34;:[{&#34;type&#34;:&#34;rect&#34;,&#34;fillcolor&#34;:&#34;transparent&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;width&#34;:0.66417600664176,&#34;linetype&#34;:&#34;solid&#34;},&#34;yref&#34;:&#34;paper&#34;,&#34;xref&#34;:&#34;paper&#34;,&#34;x0&#34;:0,&#34;x1&#34;:0.322461404653185,&#34;y0&#34;:0,&#34;y1&#34;:1},{&#34;type&#34;:&#34;rect&#34;,&#34;fillcolor&#34;:&#34;rgba(217,217,217,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;width&#34;:0.66417600664176,&#34;linetype&#34;:&#34;solid&#34;},&#34;yref&#34;:&#34;paper&#34;,&#34;xref&#34;:&#34;paper&#34;,&#34;x0&#34;:0,&#34;x1&#34;:0.322461404653185,&#34;y0&#34;:0,&#34;y1&#34;:23.37899543379,&#34;yanchor&#34;:1,&#34;ysizemode&#34;:&#34;pixel&#34;},{&#34;type&#34;:&#34;rect&#34;,&#34;fillcolor&#34;:&#34;transparent&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;width&#34;:0.66417600664176,&#34;linetype&#34;:&#34;solid&#34;},&#34;yref&#34;:&#34;paper&#34;,&#34;xref&#34;:&#34;paper&#34;,&#34;x0&#34;:0.344205262013481,&#34;x1&#34;:0.655794737986519,&#34;y0&#34;:0,&#34;y1&#34;:1},{&#34;type&#34;:&#34;rect&#34;,&#34;fillcolor&#34;:&#34;rgba(217,217,217,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;width&#34;:0.66417600664176,&#34;linetype&#34;:&#34;solid&#34;},&#34;yref&#34;:&#34;paper&#34;,&#34;xref&#34;:&#34;paper&#34;,&#34;x0&#34;:0.344205262013481,&#34;x1&#34;:0.655794737986519,&#34;y0&#34;:0,&#34;y1&#34;:23.37899543379,&#34;yanchor&#34;:1,&#34;ysizemode&#34;:&#34;pixel&#34;},{&#34;type&#34;:&#34;rect&#34;,&#34;fillcolor&#34;:&#34;transparent&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;width&#34;:0.66417600664176,&#34;linetype&#34;:&#34;solid&#34;},&#34;yref&#34;:&#34;paper&#34;,&#34;xref&#34;:&#34;paper&#34;,&#34;x0&#34;:0.677538595346814,&#34;x1&#34;:1,&#34;y0&#34;:0,&#34;y1&#34;:1},{&#34;type&#34;:&#34;rect&#34;,&#34;fillcolor&#34;:&#34;rgba(217,217,217,1)&#34;,&#34;line&#34;:{&#34;color&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;width&#34;:0.66417600664176,&#34;linetype&#34;:&#34;solid&#34;},&#34;yref&#34;:&#34;paper&#34;,&#34;xref&#34;:&#34;paper&#34;,&#34;x0&#34;:0.677538595346814,&#34;x1&#34;:1,&#34;y0&#34;:0,&#34;y1&#34;:23.37899543379,&#34;yanchor&#34;:1,&#34;ysizemode&#34;:&#34;pixel&#34;}],&#34;xaxis2&#34;:{&#34;type&#34;:&#34;linear&#34;,&#34;autorange&#34;:false,&#34;range&#34;:[-42.6315789473684,582.631578947368],&#34;tickmode&#34;:&#34;array&#34;,&#34;ticktext&#34;:[&#34;0&#34;,&#34;200&#34;,&#34;400&#34;],&#34;tickvals&#34;:[7.105427357601e-15,200,400],&#34;categoryorder&#34;:&#34;array&#34;,&#34;categoryarray&#34;:[&#34;0&#34;,&#34;200&#34;,&#34;400&#34;],&#34;nticks&#34;:null,&#34;ticks&#34;:&#34;outside&#34;,&#34;tickcolor&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;ticklen&#34;:3.65296803652968,&#34;tickwidth&#34;:0.66417600664176,&#34;showticklabels&#34;:true,&#34;tickfont&#34;:{&#34;color&#34;:&#34;rgba(77,77,77,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;tickangle&#34;:-0,&#34;showline&#34;:false,&#34;linecolor&#34;:null,&#34;linewidth&#34;:0,&#34;showgrid&#34;:true,&#34;domain&#34;:[0.344205262013481,0.655794737986519],&#34;gridcolor&#34;:&#34;rgba(235,235,235,1)&#34;,&#34;gridwidth&#34;:0.66417600664176,&#34;zeroline&#34;:false,&#34;anchor&#34;:&#34;y&#34;,&#34;title&#34;:&#34;&#34;,&#34;hoverformat&#34;:&#34;.2f&#34;},&#34;xaxis3&#34;:{&#34;type&#34;:&#34;linear&#34;,&#34;autorange&#34;:false,&#34;range&#34;:[-42.6315789473684,582.631578947368],&#34;tickmode&#34;:&#34;array&#34;,&#34;ticktext&#34;:[&#34;0&#34;,&#34;200&#34;,&#34;400&#34;],&#34;tickvals&#34;:[7.105427357601e-15,200,400],&#34;categoryorder&#34;:&#34;array&#34;,&#34;categoryarray&#34;:[&#34;0&#34;,&#34;200&#34;,&#34;400&#34;],&#34;nticks&#34;:null,&#34;ticks&#34;:&#34;outside&#34;,&#34;tickcolor&#34;:&#34;rgba(51,51,51,1)&#34;,&#34;ticklen&#34;:3.65296803652968,&#34;tickwidth&#34;:0.66417600664176,&#34;showticklabels&#34;:true,&#34;tickfont&#34;:{&#34;color&#34;:&#34;rgba(77,77,77,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895},&#34;tickangle&#34;:-0,&#34;showline&#34;:false,&#34;linecolor&#34;:null,&#34;linewidth&#34;:0,&#34;showgrid&#34;:true,&#34;domain&#34;:[0.677538595346814,1],&#34;gridcolor&#34;:&#34;rgba(235,235,235,1)&#34;,&#34;gridwidth&#34;:0.66417600664176,&#34;zeroline&#34;:false,&#34;anchor&#34;:&#34;y&#34;,&#34;title&#34;:&#34;&#34;,&#34;hoverformat&#34;:&#34;.2f&#34;},&#34;showlegend&#34;:false,&#34;legend&#34;:{&#34;bgcolor&#34;:&#34;rgba(255,255,255,1)&#34;,&#34;bordercolor&#34;:&#34;transparent&#34;,&#34;borderwidth&#34;:1.88976377952756,&#34;font&#34;:{&#34;color&#34;:&#34;rgba(0,0,0,1)&#34;,&#34;family&#34;:&#34;&#34;,&#34;size&#34;:11.689497716895}},&#34;hovermode&#34;:&#34;closest&#34;,&#34;barmode&#34;:&#34;relative&#34;},&#34;config&#34;:{&#34;doubleClick&#34;:&#34;reset&#34;,&#34;modeBarButtonsToAdd&#34;:[&#34;hoverclosest&#34;,&#34;hovercompare&#34;],&#34;showSendToCloud&#34;:false},&#34;source&#34;:&#34;A&#34;,&#34;attrs&#34;:{&#34;1c7a10a390c9&#34;:{&#34;x&#34;:{},&#34;fill&#34;:{},&#34;type&#34;:&#34;bar&#34;}},&#34;cur_data&#34;:&#34;1c7a10a390c9&#34;,&#34;visdat&#34;:{&#34;1c7a10a390c9&#34;:[&#34;function (y) &#34;,&#34;x&#34;]},&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_click&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;debounce&#34;:0},&#34;shinyEvents&#34;:[&#34;plotly_hover&#34;,&#34;plotly_click&#34;,&#34;plotly_selected&#34;,&#34;plotly_relayout&#34;,&#34;plotly_brushed&#34;,&#34;plotly_brushing&#34;,&#34;plotly_clickannotation&#34;,&#34;plotly_doubleclick&#34;,&#34;plotly_deselect&#34;,&#34;plotly_afterplot&#34;,&#34;plotly_sunburstclick&#34;],&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;leaflet-example&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Leaflet Example&lt;/h1&gt;
&lt;p&gt;I want to go through a few alternative ways to visualize data in an interactive framework. One of these is using the leaflet package which allows one to create interactive visualizations of map data. Using the storms data about tropical storms, I first filter that data to only include two well known tropical storms that occured over the past 20 years, Katrina and Ike. The &lt;code&gt;leaflet()&lt;/code&gt; function is used to initialize the map, the &lt;code&gt;add_tiles()&lt;/code&gt; adds the map overlay using OpenStreetMap by default. Then the &lt;code&gt;add_circles()&lt;/code&gt; function is used to add circles for each latitude/longitude location of the tropical storms in the data. The circles are sized based on the wind speed using the &lt;code&gt;radius&lt;/code&gt; argument and the name of the tropical storm is added via the &lt;code&gt;popup&lt;/code&gt; argument. This will allow one to click on a circle and the name will be shown. You could customize this further by creating a new variable that would represent the name and the wind speed or other information by pasting multiple data sources together.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(leaflet)

storms %&amp;gt;%
  filter(name %in% c(&amp;#39;Ike&amp;#39;, &amp;#39;Katrina&amp;#39;), year &amp;gt; 2000) %&amp;gt;%
  leaflet() %&amp;gt;%
  addTiles() %&amp;gt;%
  addCircles(lng = ~long, lat = ~lat, popup = ~name, weight = 1,
             radius = ~wind*1000)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-13&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;leaflet html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-13&#34;&gt;{&#34;x&#34;:{&#34;options&#34;:{&#34;crs&#34;:{&#34;crsClass&#34;:&#34;L.CRS.EPSG3857&#34;,&#34;code&#34;:null,&#34;proj4def&#34;:null,&#34;projectedBounds&#34;:null,&#34;options&#34;:{}}},&#34;calls&#34;:[{&#34;method&#34;:&#34;addTiles&#34;,&#34;args&#34;:[&#34;//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#34;,null,null,{&#34;minZoom&#34;:0,&#34;maxZoom&#34;:18,&#34;tileSize&#34;:256,&#34;subdomains&#34;:&#34;abc&#34;,&#34;errorTileUrl&#34;:&#34;&#34;,&#34;tms&#34;:false,&#34;noWrap&#34;:false,&#34;zoomOffset&#34;:0,&#34;zoomReverse&#34;:false,&#34;opacity&#34;:1,&#34;zIndex&#34;:1,&#34;detectRetina&#34;:false,&#34;attribution&#34;:&#34;&amp;copy; &lt;a href=\&#34;http://openstreetmap.org\&#34;&gt;OpenStreetMap&lt;\/a&gt; contributors, &lt;a href=\&#34;http://creativecommons.org/licenses/by-sa/2.0/\&#34;&gt;CC-BY-SA&lt;\/a&gt;&#34;}]},{&#34;method&#34;:&#34;addCircles&#34;,&#34;args&#34;:[[23.1,23.4,23.8,24.5,25.4,26,26.1,26.2,26.2,26,25.9,25.4,25.1,24.9,24.6,24.4,24.4,24.5,24.8,25.2,25.7,26.3,27.2,28.2,29.3,29.5,30.2,31.1,32.6,34.1,35.6,37,17.2,17.3,17.5,17.8,18.2,18.7,19.3,19.8,20.2,20.6,21.1,21.8,22.4,23,23.4,23.6,23.6,23.5,23.2,22.8,22.4,21.9,21.5,21.2,21.1,21,21,21,21.1,21.1,21.1,21.1,21.2,21.5,22,22.4,22.6,22.7,23.1,23.4,23.8,24.2,24.7,25.1,25.5,25.8,26.1,26.4,26.9,27.5,28.3,29.1,29.3,30.3,31.7,33.5,35.5],[-75.1,-75.7,-76.2,-76.5,-76.9,-77.7,-78.4,-79,-79.6,-80.1,-80.3,-81.3,-82,-82.6,-83.3,-84,-84.7,-85.3,-85.9,-86.7,-87.7,-88.6,-89.2,-89.6,-89.6,-89.6,-89.6,-89.6,-89.1,-88.6,-88,-87,-37,-38.4,-39.9,-41.3,-42.8,-44.3,-45.8,-47.3,-48.8,-50.3,-51.9,-53.5,-55,-56.4,-57.7,-59,-60.4,-61.9,-63.4,-64.9,-66.3,-67.7,-69,-70.3,-71.6,-72.8,-73.2,-74,-75.2,-75.7,-76.5,-77.8,-79.1,-80.3,-81.4,-82.4,-82.9,-83.3,-84,-84.6,-85.2,-85.8,-86.4,-87.1,-88,-88.9,-90,-91.1,-92.2,-93.2,-94,-94.6,-94.7,-95.2,-95.3,-94.9,-93.7],[30000,30000,30000,35000,40000,45000,50000,55000,60000,70000,70000,65000,75000,85000,90000,95000,100000,100000,100000,125000,145000,150000,140000,125000,110000,110000,105000,80000,50000,40000,30000,30000,30000,35000,45000,45000,45000,50000,55000,55000,55000,60000,75000,105000,125000,120000,115000,115000,115000,105000,100000,100000,100000,95000,115000,115000,115000,110000,110000,105000,115000,115000,100000,85000,75000,70000,70000,70000,70000,65000,65000,70000,80000,85000,85000,85000,85000,85000,85000,90000,95000,95000,95000,95000,95000,85000,50000,35000,35000],null,null,{&#34;interactive&#34;:true,&#34;className&#34;:&#34;&#34;,&#34;stroke&#34;:true,&#34;color&#34;:&#34;#03F&#34;,&#34;weight&#34;:1,&#34;opacity&#34;:0.5,&#34;fill&#34;:true,&#34;fillColor&#34;:&#34;#03F&#34;,&#34;fillOpacity&#34;:0.2},[&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Katrina&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;,&#34;Ike&#34;],null,null,{&#34;interactive&#34;:false,&#34;permanent&#34;:false,&#34;direction&#34;:&#34;auto&#34;,&#34;opacity&#34;:1,&#34;offset&#34;:[0,0],&#34;textsize&#34;:&#34;10px&#34;,&#34;textOnly&#34;:false,&#34;className&#34;:&#34;&#34;,&#34;sticky&#34;:true},null,null]}],&#34;limits&#34;:{&#34;lat&#34;:[17.2,37],&#34;lng&#34;:[-95.3,-37]}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;div id=&#34;gganimate&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;gganimate&lt;/h2&gt;
&lt;p&gt;The gganimate package is a way to add animation to static images. The figures can then be converted to gifs to be used within many different presentation modes including pdf, html, or others.&lt;/p&gt;
&lt;p&gt;I’m going to use the gapminder data to visualize some of these (you’ll likely need to install the gapminder package if you are following along). When using gganimate, you start first with a static graphic.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(gapminder)

ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
  geom_point(alpha = 0.7, show.legend = FALSE) +
  scale_colour_manual(values = country_colors) +
  scale_size(range = c(2, 12)) +
  scale_x_log10() +
  facet_wrap(~continent)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/rcode/interactive-graphics_files/figure-html/storms-static-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;gganimate-pieces&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;gganimate pieces&lt;/h3&gt;
&lt;p&gt;First, make sure the gganimate and gifski packages are installed.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(c(&amp;quot;gganimate&amp;quot;, &amp;quot;gifski&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can then show movement over time instead of lumping all the different years into a single figure. This is done with &lt;code&gt;transition_time()&lt;/code&gt; function and specifying how we want the transition to move with the &lt;code&gt;ease_aes()&lt;/code&gt; function. In addition, a label at the top of the figure is used to show the year in which the data are for, starting with 1952 and moving to 2007 in increments of 5 years (i.e. there is data available every 5 years). Finally, I used the &lt;code&gt;anim_save()&lt;/code&gt; function to save the animation with default encodings due to having difficulties getting the image to show up in the R notebook without saving.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(gganimate)

anim &amp;lt;- ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
  geom_point(alpha = 0.7, show.legend = FALSE) +
  scale_colour_manual(values = country_colors) +
  scale_size(range = c(2, 12)) +
  scale_x_log10() +
  facet_wrap(~continent) +
  # Here comes the gganimate specific bits
  labs(title = &amp;#39;Year: {frame_time}&amp;#39;, x = &amp;#39;GDP per capita&amp;#39;, y = &amp;#39;life expectancy&amp;#39;) +
  transition_time(year) +
  ease_aes(&amp;#39;linear&amp;#39;)

anim_save(filename = &amp;quot;/Users/brandonlebeau/OneDrive - University of Iowa/Courses/Uiowa/Comp/Syntax/R/v2/gapminder.gif&amp;quot;, animation = anim)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://psqf6250.brandonlebeau.org/Users/brandonlebeau/OneDrive%20-%20University%20of%20Iowa/Courses/Uiowa/Comp/Syntax/R/v2/gapminder.gif&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;additional-resources&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Additional Resources&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;plotly for R book: &lt;a href=&#34;https://plotly-book.cpsievert.me/&#34; class=&#34;uri&#34;&gt;https://plotly-book.cpsievert.me/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;plotly: &lt;a href=&#34;https://plot.ly/&#34; class=&#34;uri&#34;&gt;https://plot.ly/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;htmlwidgets: &lt;a href=&#34;https://www.htmlwidgets.org/&#34; class=&#34;uri&#34;&gt;https://www.htmlwidgets.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;gganimate: &lt;a href=&#34;https://gganimate.com/&#34; class=&#34;uri&#34;&gt;https://gganimate.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Quiz 2</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz2/</link>
      <pubDate>Tue, 01 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz2/</guid>
      <description>&lt;p&gt;Quiz 2 can be taken on ICON, due February 6th, 2022. The quiz covers content from &lt;a href=&#34;https://psqf6250.brandonlebeau.org/content/02-week2/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Week 1&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://uiowa.instructure.com/courses/183068/quizzes/307667&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quiz 2 Link&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>User Created Functions</title>
      <link>https://psqf6250.brandonlebeau.org/rcode/user-functions/</link>
      <pubDate>Mon, 29 Mar 2021 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/rcode/user-functions/</guid>
      <description>
&lt;script src=&#34;https://psqf6250.brandonlebeau.org/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;

&lt;/div&gt;

&lt;div id=&#34;when-to-create-a-function&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;When to create a function&lt;/h2&gt;
&lt;p&gt;Functions can be particularly useful when you are duplicating significant portions of your code. For example, perhaps you want to standardize various quantitative variables by subtracting each variable by the mean and dividing by the standard deviation. Below is the mathematics behind this operation.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
standardizedvar = \frac{var - mean(var)}{sd(var)}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s use the midwest data that comes with the tidyverse to explore what code like this would look like.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.6     ✓ dplyr   1.0.7
## ✓ tidyr   1.2.0     ✓ stringr 1.4.0
## ✓ readr   2.1.2     ✓ forcats 0.5.1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;midwest&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 437 × 28
##      PID county  state  area poptotal popdensity popwhite popblack popamerindian
##    &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;      &amp;lt;dbl&amp;gt;    &amp;lt;int&amp;gt;    &amp;lt;int&amp;gt;         &amp;lt;int&amp;gt;
##  1   561 ADAMS   IL    0.052    66090      1271.    63917     1702            98
##  2   562 ALEXAN… IL    0.014    10626       759      7054     3496            19
##  3   563 BOND    IL    0.022    14991       681.    14477      429            35
##  4   564 BOONE   IL    0.017    30806      1812.    29344      127            46
##  5   565 BROWN   IL    0.018     5836       324.     5264      547            14
##  6   566 BUREAU  IL    0.05     35688       714.    35157       50            65
##  7   567 CALHOUN IL    0.017     5322       313.     5298        1             8
##  8   568 CARROLL IL    0.027    16805       622.    16519      111            30
##  9   569 CASS    IL    0.024    13437       560.    13384       16             8
## 10   570 CHAMPA… IL    0.058   173025      2983.   146506    16559           331
## # … with 427 more rows, and 19 more variables: popasian &amp;lt;int&amp;gt;, popother &amp;lt;int&amp;gt;,
## #   percwhite &amp;lt;dbl&amp;gt;, percblack &amp;lt;dbl&amp;gt;, percamerindan &amp;lt;dbl&amp;gt;, percasian &amp;lt;dbl&amp;gt;,
## #   percother &amp;lt;dbl&amp;gt;, popadults &amp;lt;int&amp;gt;, perchsd &amp;lt;dbl&amp;gt;, percollege &amp;lt;dbl&amp;gt;,
## #   percprof &amp;lt;dbl&amp;gt;, poppovertyknown &amp;lt;int&amp;gt;, percpovertyknown &amp;lt;dbl&amp;gt;,
## #   percbelowpoverty &amp;lt;dbl&amp;gt;, percchildbelowpovert &amp;lt;dbl&amp;gt;, percadultpoverty &amp;lt;dbl&amp;gt;,
## #   percelderlypoverty &amp;lt;dbl&amp;gt;, inmetro &amp;lt;int&amp;gt;, category &amp;lt;chr&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Suppose we wanted to standardize using the above equation, for the variables, &lt;code&gt;poptotal&lt;/code&gt;, &lt;code&gt;popdensity&lt;/code&gt;, &lt;code&gt;popadults&lt;/code&gt;, and &lt;code&gt;perccollege&lt;/code&gt;. Let’s do the computation for the variable &lt;code&gt;poptotal&lt;/code&gt; first.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;midwest %&amp;gt;%
  mutate(stand_poptotal = (poptotal - mean(poptotal)) / sd(poptotal)) %&amp;gt;%
  select(poptotal, stand_poptotal)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 437 × 2
##    poptotal stand_poptotal
##       &amp;lt;int&amp;gt;          &amp;lt;dbl&amp;gt;
##  1    66090         -0.101
##  2    10626         -0.287
##  3    14991         -0.272
##  4    30806         -0.219
##  5     5836         -0.303
##  6    35688         -0.203
##  7     5322         -0.305
##  8    16805         -0.266
##  9    13437         -0.277
## 10   173025          0.258
## # … with 427 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;How would we move alter the code to do the computation for subsequent columns? You could rewrite the code, but I would likely copy and paste the code and adapt the pieces to the new column. Here I did it for the additional three variables.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;midwest %&amp;gt;%
  mutate(stand_poptotal = (poptotal - mean(poptotal)) / sd(poptotal),
         stand_popdensity = (popdensity - mean(popdensity)) / sd(popdensity),
         stand_popadults = (popadults - mean(popadults)) / sd(popadults),
         stand_percollege = (percollege - mean(poptotal)) / sd(percollege)) %&amp;gt;%
  select(poptotal, popdensity, popadults, percollege, 
         stand_poptotal, stand_popdensity, stand_popadults, stand_percollege)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 437 × 8
##    poptotal popdensity popadults percollege stand_poptotal stand_popdensity
##       &amp;lt;int&amp;gt;      &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;      &amp;lt;dbl&amp;gt;          &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;
##  1    66090      1271.     43298       19.6         -0.101          -0.238 
##  2    10626       759       6724       11.2         -0.287          -0.305 
##  3    14991       681.      9669       17.0         -0.272          -0.315 
##  4    30806      1812.     19272       17.3         -0.219          -0.168 
##  5     5836       324.      3979       14.5         -0.303          -0.362 
##  6    35688       714.     23444       18.9         -0.203          -0.311 
##  7     5322       313.      3583       11.9         -0.305          -0.363 
##  8    16805       622.     11323       16.2         -0.266          -0.323 
##  9    13437       560.      8825       14.1         -0.277          -0.331 
## 10   173025      2983.     95971       41.3          0.258          -0.0149
## # … with 427 more rows, and 2 more variables: stand_popadults &amp;lt;dbl&amp;gt;,
## #   stand_percollege &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Explore the code, notice any problems? When I copied and pasted, I missed changing the mean calculation for the &lt;code&gt;percollege&lt;/code&gt; variable. This issue can be particularly difficult to debug given that there are no errors in the code. We could save some code duplication by writing our own function. This can save on errors in copy and pasting or errors on data entry. Let’s write a function that implements this, focusing less on function specifics as that will come later.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;standardize &amp;lt;- function(x) {
  mean_var &amp;lt;- mean(x)
  sd_var &amp;lt;- sd(x)
  
  (x - mean_var) / sd_var
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could then use this function, &lt;code&gt;standardize()&lt;/code&gt; inside of the &lt;code&gt;mutate()&lt;/code&gt; function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;midwest %&amp;gt;%
  mutate(stand_poptotal = standardize(poptotal),
         stand_popdensity = standardize(popdensity),
         stand_popadults = standardize(popadults),
         stand_percollege = standardize(percollege)) %&amp;gt;%
  select(poptotal, popdensity, popadults, percollege, 
         stand_poptotal, stand_popdensity, stand_popadults, stand_percollege)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 437 × 8
##    poptotal popdensity popadults percollege stand_poptotal stand_popdensity
##       &amp;lt;int&amp;gt;      &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;      &amp;lt;dbl&amp;gt;          &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;
##  1    66090      1271.     43298       19.6         -0.101          -0.238 
##  2    10626       759       6724       11.2         -0.287          -0.305 
##  3    14991       681.      9669       17.0         -0.272          -0.315 
##  4    30806      1812.     19272       17.3         -0.219          -0.168 
##  5     5836       324.      3979       14.5         -0.303          -0.362 
##  6    35688       714.     23444       18.9         -0.203          -0.311 
##  7     5322       313.      3583       11.9         -0.305          -0.363 
##  8    16805       622.     11323       16.2         -0.266          -0.323 
##  9    13437       560.      8825       14.1         -0.277          -0.331 
## 10   173025      2983.     95971       41.3          0.258          -0.0149
## # … with 427 more rows, and 2 more variables: stand_popadults &amp;lt;dbl&amp;gt;,
## #   stand_percollege &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice now we remove some, but not all of the duplication. Next week we will explore iteration in more detail that can remove this level of duplication.&lt;/p&gt;
&lt;div id=&#34;your-turn&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Your Turn&lt;/h4&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;There is an R function, &lt;code&gt;scale()&lt;/code&gt;, that does this standardization. Use this to recreate the standardization above.&lt;/li&gt;
&lt;li&gt;Will the &lt;code&gt;standardize()&lt;/code&gt; function above work when there are missing values? How could the function be adapted to work with missing values?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;conditional-summarise-or-mutate-statements&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Conditional &lt;code&gt;summarise()&lt;/code&gt; or &lt;code&gt;mutate()&lt;/code&gt; statements&lt;/h3&gt;
&lt;p&gt;One thing I want to show briefly is if you are attempting to apply a particular function for data verification and there is a function already defined in R, &lt;code&gt;summarise_if()&lt;/code&gt; or &lt;code&gt;mutate_if()&lt;/code&gt; can be particularly useful. Take an example of wanting to calculate the mean of each numeric column, but the data has a mix of numeric and categorical variables. You could write multiple computations within &lt;code&gt;mutate()&lt;/code&gt; or &lt;code&gt;summarise()&lt;/code&gt;, but &lt;code&gt;summarise_if()&lt;/code&gt; and &lt;code&gt;mutate_if()&lt;/code&gt; can be particularly useful. Below is an example of this strategy with the mpg data from dplyr.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 234 × 11
##    manufacturer model      displ  year   cyl trans drv     cty   hwy fl    class
##    &amp;lt;chr&amp;gt;        &amp;lt;chr&amp;gt;      &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;
##  1 audi         a4           1.8  1999     4 auto… f        18    29 p     comp…
##  2 audi         a4           1.8  1999     4 manu… f        21    29 p     comp…
##  3 audi         a4           2    2008     4 manu… f        20    31 p     comp…
##  4 audi         a4           2    2008     4 auto… f        21    30 p     comp…
##  5 audi         a4           2.8  1999     6 auto… f        16    26 p     comp…
##  6 audi         a4           2.8  1999     6 manu… f        18    26 p     comp…
##  7 audi         a4           3.1  2008     6 auto… f        18    27 p     comp…
##  8 audi         a4 quattro   1.8  1999     4 manu… 4        18    26 p     comp…
##  9 audi         a4 quattro   1.8  1999     4 auto… 4        16    25 p     comp…
## 10 audi         a4 quattro   2    2008     4 manu… 4        20    28 p     comp…
## # … with 224 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s calculate the mean of each numeric column with &lt;code&gt;summarise_if()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summarise_if(mpg, is.numeric, mean, na.rm = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 × 5
##   displ  year   cyl   cty   hwy
##   &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1  3.47 2004.  5.89  16.9  23.4&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;mutate_if()&lt;/code&gt; function could be used if these values wanted to be saved to the data. Additional level of detail could be added by using &lt;code&gt;summarise_if()&lt;/code&gt; and &lt;code&gt;group_by()&lt;/code&gt; in tandem.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(manufacturer) %&amp;gt;%
  summarise_if(is.numeric, mean, na.rm = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 15 × 6
##    manufacturer displ  year   cyl   cty   hwy
##    &amp;lt;chr&amp;gt;        &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
##  1 audi          2.54 2004.  5.22  17.6  26.4
##  2 chevrolet     5.06 2005.  7.26  15    21.9
##  3 dodge         4.38 2004.  7.08  13.1  17.9
##  4 ford          4.54 2003.  7.2   14    19.4
##  5 honda         1.71 2003   4     24.4  32.6
##  6 hyundai       2.43 2004.  4.86  18.6  26.9
##  7 jeep          4.58 2006.  7.25  13.5  17.6
##  8 land rover    4.3  2004.  8     11.5  16.5
##  9 lincoln       5.4  2002   8     11.3  17  
## 10 mercury       4.4  2004.  7     13.2  18  
## 11 nissan        3.27 2004.  5.54  18.1  24.6
## 12 pontiac       3.96 2003.  6.4   17    26.4
## 13 subaru        2.46 2004.  4     19.3  25.6
## 14 toyota        2.95 2003.  5.12  18.5  24.9
## 15 volkswagen    2.26 2003.  4.59  20.9  29.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These can be great, simple ways to explore the data at a first inspection.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;function-basics&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Function basics&lt;/h2&gt;
&lt;p&gt;Every function has three basic components, a function name, a function definition (i.e. arguments), and the function specifics/computations or function body. The following code chunk attempts to show these basics.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;function_name &amp;lt;- function(argument1, argument2) {
  
  function_body
  
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;function()&lt;/code&gt; function is used to define a new function. Inside the parentheses of this are where the function arguments are defined. The arguments can contain default values or can be unspecified, more details on this later. The function body is where the details of what the function is going to do is contained. From the previous function we created, the computation to standardize a variable was perfomed within the function body. Finally, the function name is specified just like naming any other object.&lt;/p&gt;
&lt;div id=&#34;picking-a-function-name&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Picking a Function Name&lt;/h3&gt;
&lt;p&gt;Functions names are an important step to think about for a bit at the beginning. A few general heuristics are useful to keep in mind when thinking about a function name.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Do not use a name from a function already defined within R. For example, avoid things like: &lt;code&gt;mean&lt;/code&gt;, &lt;code&gt;c&lt;/code&gt;, &lt;code&gt;t.test&lt;/code&gt;, etc.&lt;/li&gt;
&lt;li&gt;Create a semi-descriptive name that isn’t too detailed. For example, function names like &lt;code&gt;f&lt;/code&gt;, &lt;code&gt;s&lt;/code&gt;, &lt;code&gt;tr&lt;/code&gt;, etc are not descriptive enough to be useful. Also, better to avoid particularly long names like &lt;code&gt;standardize_variable&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;If you define multiple functions, be consistent in their naming convention. If you use underscores, use them for all of your function names. If you like dots or titleCase be consistent.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;function-arguments&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Function Arguments&lt;/h3&gt;
&lt;p&gt;Function arguments need to be named and I would recommend using similar heuristics to picking a function name. The only element that can be ignored is the first, you are able to reuse function arguments across functions. This would actually be encouraged across functions that are similar to ensure that the function arguments work similarly across the function.&lt;/p&gt;
&lt;div id=&#34;arguments-with-default-values&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Arguments with Default Values&lt;/h4&gt;
&lt;p&gt;Arguments in R can either have default values or can be left without default values. The big distinction to keep in mind when thinking about this is whether it is an argument that users should explicitly specify everytime (i.e. major user argument) or is an argument that users may only change on occasion and there is an obvious default that makes sense. For the former situation, I would only define the argument name with no default compared to the latter I would typically define a default value.&lt;/p&gt;
&lt;p&gt;Consider the &lt;code&gt;standardize()&lt;/code&gt; function we defined previously.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;standardize &amp;lt;- function(x) {
  mean_var &amp;lt;- mean(x)
  sd_var &amp;lt;- sd(x)
  
  (x - mean_var) / sd_var
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that the function argument, &lt;code&gt;x&lt;/code&gt; here is just named it does not have a default value. This was the case where this argument was specified to be the variable to be standardized, therefore having a default value did not make sense. The first function arguments are commonly do not have default values.&lt;/p&gt;
&lt;p&gt;In a “Your Turn” section earlier, it was asked if this function would work with missing data. The short answer, is it would not, because the mean and sd would not be able to be calculated with missing values. For example, using the &lt;code&gt;nycflights13&lt;/code&gt; package used earlier, we could show that when missing data are present, the function breaks (i.e. produces NA values).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(nycflights13)

flights %&amp;gt;%
  mutate(stand_arr_delay = standardize(arr_delay)) %&amp;gt;%
  select(arr_delay, stand_arr_delay)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 336,776 × 2
##    arr_delay stand_arr_delay
##        &amp;lt;dbl&amp;gt;           &amp;lt;dbl&amp;gt;
##  1        11              NA
##  2        20              NA
##  3        33              NA
##  4       -18              NA
##  5       -25              NA
##  6        12              NA
##  7        19              NA
##  8       -14              NA
##  9        -8              NA
## 10         8              NA
## # … with 336,766 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could adapt this to include another function argument, that deals with how missing data should be handled.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;standardize &amp;lt;- function(x, na.rm = TRUE) {
  mean_var &amp;lt;- mean(x, na.rm = na.rm)
  sd_var &amp;lt;- sd(x, na.rm = na.rm)
  
  (x - mean_var) / sd_var
}

flights %&amp;gt;%
  mutate(stand_arr_delay = standardize(arr_delay)) %&amp;gt;%
  select(arr_delay, stand_arr_delay)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 336,776 × 2
##    arr_delay stand_arr_delay
##        &amp;lt;dbl&amp;gt;           &amp;lt;dbl&amp;gt;
##  1        11          0.0920
##  2        20          0.294 
##  3        33          0.585 
##  4       -18         -0.558 
##  5       -25         -0.715 
##  6        12          0.114 
##  7        19          0.271 
##  8       -14         -0.468 
##  9        -8         -0.334 
## 10         8          0.0247
## # … with 336,766 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This function can now handle missing values through the argument, &lt;code&gt;na.rm&lt;/code&gt;, which defaults to the value of &lt;code&gt;TRUE&lt;/code&gt; and since the default value is &lt;code&gt;TRUE&lt;/code&gt;, the missing data are automatically removed when computing the mean and sd. We could change the default value explicitly when we call the function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights %&amp;gt;%
  mutate(stand_arr_delay = standardize(arr_delay, na.rm = FALSE)) %&amp;gt;%
  select(arr_delay, stand_arr_delay)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 336,776 × 2
##    arr_delay stand_arr_delay
##        &amp;lt;dbl&amp;gt;           &amp;lt;dbl&amp;gt;
##  1        11              NA
##  2        20              NA
##  3        33              NA
##  4       -18              NA
##  5       -25              NA
##  6        12              NA
##  7        19              NA
##  8       -14              NA
##  9        -8              NA
## 10         8              NA
## # … with 336,766 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note here I used the same argument name, &lt;code&gt;na.rm&lt;/code&gt;, as is found within the mean and sd functions by default. This was to ensure that they are familiar to many users already comfortable with these function names.&lt;/p&gt;
&lt;p&gt;Function arguments can also be specified as text strings, that will be discussed in more detail in the next section.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;conditional-functions&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Conditional Functions&lt;/h2&gt;
&lt;p&gt;Conditional branching in functions are common, particularly when the functions attempt to do a few different things based on what the input values are. The general format for creating functions that use conditional logic are as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;if(some_condition) {
  # do something
} else {
  # do something else
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is an example of a branch with two different computations. For example, we could create a function that first calculates the skewness of a variable, if it is skewed returns the median otherwise computes the mean.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(e1071)
mean_median &amp;lt;- function(variable, na.rm = TRUE) {
  var_skew &amp;lt;- skewness(variable, na.rm = na.rm)
  
  if(abs(var_skew) &amp;gt; 2) {
    descriptive &amp;lt;- median(variable, na.rm = na.rm)
  } else {
    descriptive &amp;lt;- mean(variable, na.rm = na.rm)
  }
  data.frame(skewness = var_skew, 
             descriptive = descriptive)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could then use this function to calculate the statistic of interest for a few different variables.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean_median(flights$arr_delay)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   skewness descriptive
## 1 3.716783          -5&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean_median(gss_cat$tvhours)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   skewness descriptive
## 1 2.915875           2&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean_median(diamonds$price)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   skewness descriptive
## 1 1.618305      3932.8&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note here, that you need to name the variable explicitly, you can’t just do the following:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean_median(arr_delay)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is happening because the function is unable to find the variable, &lt;code&gt;arr_delay&lt;/code&gt; as it does not know to look in the flights data. To rectify this you need to use the &lt;code&gt;$&lt;/code&gt; notation shown above or other ways of telling the function which data to use to find the correct variable (e.g., &lt;code&gt;with()&lt;/code&gt; would also be an option).&lt;/p&gt;
&lt;div id=&#34;conditionals-based-on-function-arguments&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Conditionals based on function arguments&lt;/h4&gt;
&lt;p&gt;You can also control flow of a function based on the arguments. For example, we could rewrite the &lt;code&gt;mean_median()&lt;/code&gt; function to include another argument that lets users specify whether they want the mean or median computed rather than basing this decision on the skewness. This may look as follows.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean_median_arg &amp;lt;- function(variable, statistic = &amp;#39;mean&amp;#39;, na.rm = TRUE,
                            skewness = FALSE) {
  
  if(statistic == &amp;#39;mean&amp;#39;) {
    descriptive &amp;lt;- mean(variable, na.rm = na.rm)
  } else {
    descriptive &amp;lt;- median(variable, na.rm = na.rm)
  }
  
  if(skewness) {
    skewness_stat &amp;lt;- skewness(variable, na.rm = na.rm)
  } else {
    skewness_stat &amp;lt;- NA
  }
  data.frame(skewness_stat, descriptive)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This function can now be tested using the variables we defined before:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean_median_arg(flights$arr_delay)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   skewness_stat descriptive
## 1            NA    6.895377&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice by default, the skewness is not calculated as it is set to &lt;code&gt;FALSE&lt;/code&gt; by default. The skewness could be returned by setting &lt;code&gt;skewness = TRUE&lt;/code&gt;. The mean is also calculated by default, due to the default value of setting &lt;code&gt;statistic = &#39;mean&#39;&lt;/code&gt;. If we wanted the median instead, we can add this argument.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean_median_arg(flights$arr_delay, statistic = &amp;#39;median&amp;#39;, skewness = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   skewness_stat descriptive
## 1      3.716783          -5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note, the way the function was written, specifying anything other than &lt;code&gt;statistic = &#39;mean&#39;&lt;/code&gt; would compute the median.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mean_median_arg(flights$arr_delay, statistic = &amp;#39;anything&amp;#39;, skewness = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   skewness_stat descriptive
## 1      3.716783          -5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This behavior is not ideal, but may be okay for simple functions. If it would be a problem, some additional structure inside the function to test for the specific arguments that are possible could be defined and an error could be returned if the arguments specified are not appropriate.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;larger-conditional-branching&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Larger conditional branching&lt;/h3&gt;
&lt;p&gt;Conditinoal branching can take on more than two levels as well. The general structure using nested if statements would look like the following.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;if(some_condition) {
  # do something computationally
} else if (another_condition) {
  # do another computation
} else if (yet_another_condition) {
  # do yet another computation
} else {
  # final computation
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the example above, there are four different paths that the function can take depending on the function input. Commonly, this behavior would use a function argument defined as a character string to navigate through the different branches.&lt;/p&gt;
&lt;p&gt;For example, explore the following function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats &amp;lt;- function(variable, 
                       statistic = c(&amp;#39;sd&amp;#39;, &amp;#39;mean&amp;#39;, &amp;#39;median&amp;#39;, &amp;#39;quantile&amp;#39;)) {
  
  if(statistic == &amp;#39;sd&amp;#39;) {
    sd(variable, na.rm = TRUE)
  } else if(statistic == &amp;#39;mean&amp;#39;) {
    mean(variable, na.rm = TRUE)
  } else if(statistic == &amp;#39;median&amp;#39;) {
    median(variable, na.rm = TRUE)
  } else {
    quantile(variable, na.rm = TRUE)
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can then see what is returned for this function with different arguments.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats(flights$arr_delay, statistic = &amp;#39;sd&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 44.63329&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats(flights$arr_delay, statistic = &amp;#39;mean&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 6.895377&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats(flights$arr_delay, statistic = &amp;#39;median&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] -5&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats(flights$arr_delay, statistic = &amp;#39;quantile&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   0%  25%  50%  75% 100% 
##  -86  -17   -5   14 1272&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note, when defined this way, the statistic argument must always be specified, but when including the argument values in the function definition, the function can be more specific.&lt;/p&gt;
&lt;div id=&#34;using-switch-function&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Using &lt;code&gt;switch()&lt;/code&gt; function&lt;/h4&gt;
&lt;p&gt;This behavior can make functions difficult to read and debug, therefore using the &lt;code&gt;switch()&lt;/code&gt; function can be a nice alternative if there are many different values for a function and each just calls a single function. We can redefine the previous function using &lt;code&gt;switch()&lt;/code&gt;. For the &lt;code&gt;switch()&lt;/code&gt; function, the argument name is passed as the first argument and subsequent arguments to &lt;code&gt;switch()&lt;/code&gt; are function calls based on the text of the arguments (shown before the equal sign) followed by the function or computation to perform.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats_sw &amp;lt;- function(variable, 
                          statistic = c(&amp;#39;sd&amp;#39;, &amp;#39;mean&amp;#39;, &amp;#39;median&amp;#39;, &amp;#39;quantile&amp;#39;)) {
  
  switch(statistic,
         sd = sd(variable, na.rm = TRUE),
         mean = mean(variable, na.rm = TRUE),
         median = median(variable, na.rm = TRUE),
         quantile = quantile(variable, na.rm = TRUE),
         stop(&amp;quot;Unknown statistics argument&amp;quot;))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then to test the function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats_sw(flights$arr_delay, statistic = &amp;#39;sd&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 44.63329&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats_sw(flights$arr_delay, statistic = &amp;#39;mean&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 6.895377&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats_sw(flights$arr_delay, statistic = &amp;#39;median&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] -5&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats_sw(flights$arr_delay, statistic = &amp;#39;quantile&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   0%  25%  50%  75% 100% 
##  -86  -17   -5   14 1272&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats_sw(flights$arr_delay, statistic = &amp;#39;variance&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error in desc_stats_sw(flights$arr_delay, statistic = &amp;quot;variance&amp;quot;): Unknown statistics argument&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that now I also flagged the function to throw an error if an argument name does not match the &lt;code&gt;statistic&lt;/code&gt; argument definition.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;thinking-about-returned-values&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Thinking about Returned Values&lt;/h2&gt;
&lt;p&gt;I only want to touch briefly on return values. These are commonly found at the end of the function and I usually just print them out to the console. Here I show the first function, &lt;code&gt;standardize()&lt;/code&gt; for reference. Notice that the last line of the function is the resulting statistic being printed. That is, the &lt;code&gt;(x - mean_var) / sd_var&lt;/code&gt; was not saved to an object therefore would print directly to the console. This is the return value for the function.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;standardize &amp;lt;- function(x) {
  mean_var &amp;lt;- mean(x)
  sd_var &amp;lt;- sd(x)
  
  (x - mean_var) / sd_var
}&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;the-return-function&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;The &lt;code&gt;return()&lt;/code&gt; function&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;return()&lt;/code&gt; function is useful to be explicit about the value that is returned from the function. I use it when I have more than one returned value that occur at different points in the function definition. If the value I return is the last line of code, I don’t explicitly use return, however if there is another value earlier in the function that gets returned, I’m more likely to use &lt;code&gt;return()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Here is an example of what explicit return functions would look like using a function we have already used and defined.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;desc_stats &amp;lt;- function(variable, 
                       statistic = c(&amp;#39;sd&amp;#39;, &amp;#39;mean&amp;#39;, &amp;#39;median&amp;#39;, &amp;#39;quantile&amp;#39;)) {
  
  if(statistic == &amp;#39;sd&amp;#39;) {
    return(sd(variable, na.rm = TRUE))
  } else if(statistic == &amp;#39;mean&amp;#39;) {
    return(mean(variable, na.rm = TRUE))
  } else if(statistic == &amp;#39;median&amp;#39;) {
    return(median(variable, na.rm = TRUE))
  } else {
    return(quantile(variable, na.rm = TRUE))
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The function would behave the same as before, just now the values that could be returned are wrapped in the &lt;code&gt;return()&lt;/code&gt; function. I leave it to you to test the function to ensure that the values are indeed the same.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Quiz 3</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz3/</link>
      <pubDate>Wed, 09 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz3/</guid>
      <description>&lt;p&gt;Quiz 3 can be taken on ICON, due February 20th, 2022. The quiz covers content from &lt;a href=&#34;https://psqf6250.brandonlebeau.org/content/04-week4/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Week 4&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://uiowa.instructure.com/courses/183068/quizzes/307662&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quiz 3 Link&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Quiz 4</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz4/</link>
      <pubDate>Mon, 28 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz4/</guid>
      <description>&lt;p&gt;Quiz 4 can be taken on ICON, due March 13th, 2022. The quiz covers content from &lt;a href=&#34;https://psqf6250.brandonlebeau.org/content/05-week5/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Week 5&lt;/a&gt; and &lt;a href=&#34;https://psqf6250.brandonlebeau.org/content/06-week6/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Week 6&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://uiowa.instructure.com/courses/183068/quizzes/307663&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quiz 4 Link&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Quiz 5</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz5/</link>
      <pubDate>Mon, 28 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz5/</guid>
      <description>&lt;p&gt;Quiz 5 can be taken on ICON, due March 13th, 2022. The quiz covers content from &lt;a href=&#34;https://psqf6250.brandonlebeau.org/content/07-week7/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Week 7&lt;/a&gt; and &lt;a href=&#34;https://psqf6250.brandonlebeau.org/content/08-week8/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Week 8&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://uiowa.instructure.com/courses/183068/quizzes/307659&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quiz 5 Link&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Quiz 6</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz6/</link>
      <pubDate>Mon, 28 Mar 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/quizzes/quiz6/</guid>
      <description>&lt;p&gt;Quiz 5 can be taken on ICON, due April 10th, 2022. The quiz covers content from &lt;a href=&#34;https://psqf6250.brandonlebeau.org/content/09-week9/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Week 9&lt;/a&gt; and &lt;a href=&#34;https://psqf6250.brandonlebeau.org/content/10-week10/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Week 10&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://uiowa.instructure.com/courses/183068/quizzes/307660&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quiz 6 Link&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Course Project Proposal</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/project/project-proposal/</link>
      <pubDate>Tue, 01 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/project/project-proposal/</guid>
      <description>&lt;h2 id=&#34;course-project-proposal---5-pts&#34;&gt;Course Project Proposal - &lt;strong&gt;5 pts&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Due April 3rd, by 11:59 pm&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;A short, one page at most, description of the project you intend to complete for this course. This project proposal should include the following aspects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Brief discussion of the data used&lt;/li&gt;
&lt;li&gt;Statement of research question(s) to explore&lt;/li&gt;
&lt;li&gt;The type of model used&lt;/li&gt;
&lt;li&gt;Rationale for the model (i.e. why will this model help answer the research questions?)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Although not necessary, it is encouraged to discuss your project with the instructor prior to submission.&lt;/p&gt;
&lt;p&gt;Please also reference the &lt;a href=&#34;https://psqf6250.brandonlebeau.org/assignments/project/project/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;project requirements&lt;/a&gt; as you plan the project proposal.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Course Project</title>
      <link>https://psqf6250.brandonlebeau.org/assignments/project/project/</link>
      <pubDate>Tue, 01 Feb 2022 00:00:00 +0000</pubDate>
      <guid>https://psqf6250.brandonlebeau.org/assignments/project/project/</guid>
      <description>&lt;h2 id=&#34;course-project---25-pts&#34;&gt;Course Project - &lt;strong&gt;25 pts&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Due May 12th by 11:59 pm&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;project-details&#34;&gt;Project Details&lt;/h1&gt;
&lt;p&gt;The goal of this project is to do an analysis from start to finish. The study can come from data/project you are already working on (for a thesis or project) or you can design a brand new analysis on a topic that you are interested in. For this project, you will find some data you are interested in, analyze the data, and do a short write-up of the methods and results. The main prerequisite is that the analysis should be conducted in R.&lt;/p&gt;
&lt;h2 id=&#34;project-length&#34;&gt;Project Length&lt;/h2&gt;
&lt;p&gt;The length of these will likely vary, but I envision this to be in the 3 to 8 page range.&lt;/p&gt;
&lt;h2 id=&#34;statistical-output&#34;&gt;Statistical Output&lt;/h2&gt;
&lt;p&gt;Do &lt;strong&gt;NOT&lt;/strong&gt; include raw output from R in the final paper (e.g. do not include output directly from &lt;code&gt;summary()&lt;/code&gt;). Rather, include statistics or figures you wish to include in formatted tables or directly in the text. Raw statistical output from R will result in a 10 point grade reduction.&lt;/p&gt;
&lt;h1 id=&#34;things-to-include&#34;&gt;Things to include&lt;/h1&gt;
&lt;p&gt;Below is a list of things to include in your write-up:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Brief literature review &amp;ndash; discuss why this topic interests you and any gaps in the literature. This is not intended to be a true literature review, I&amp;rsquo;m envisioning a few paragraphs giving a very broad overview, paying more attention to gaps in knowledge.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;State your research question(s)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Plan out the methods to answer the research question(s). Talk about the dependent and independent variables, the analysis you are going to conduct, the sample and population, and hypotheses you are testing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Report descriptive statistics (graphical and/or summary statistics).  Talk about the distribution of the variables and interesting observations that came about from a descriptive analysis. For example, there may be discussion of missing data, extreme values that needed to be removed, variation across groups, or descriptive differences in location across groups.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now perform your analysis. Make sure to talk about assumptions and if they were met for the method you performed. Report the results of the test in statistical terms.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Include at least one graphic summarizing the results of the inferential method you used to answer the research question.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lastly, discuss the research conclusions. This may include how the results may impact practice, policy, or basic knowledge on the topic generally. Think about any limitations this study may have had and how this study may benefit the knowledge of the topic you are studying.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Please include a write up document (e.g. Word, HTML, PDF) and also include your analysis scripts (e.g. R script or Rmd) when uploading the final assignment to ICON.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>
